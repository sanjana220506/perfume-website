(self.modernJsonp=self.modernJsonp||[]).push([["36010"],{725775:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHyperlinkExperiment_pin",selections:[{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"descriptionLinks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="bdd5959de70eab688d40f2293a76638c";let a=i},41045:function(e,t,n){n.d(t,{Z:()=>d}),n(167912);var i,a=n(183e3),l=n(501010),r=n(774838),s=n(739405);let o=(void 0!==i||(i=n(725775)).hash&&"bdd5959de70eab688d40f2293a76638c"!==i.hash&&console.error("The definition of 'useHyperlinkExperiment_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function d(e,t=!1){let n=(0,a.Z)(o,e),i=!!(n?.descriptionLinks&&n.descriptionLinks.length>0),u=t||!i,{isAuthenticated:c}=(0,r.B)(),p=(0,s.HG)(),_=(0,s.ml)(),{checkExperiment:h}=(0,l.Z)(),g=c&&p&&h("dweb_closeup_hyperlink_keywords",{dangerouslySkipActivation:u}).anyEnabled,m=c&&_&&h("mweb_closeup_hyperlink_keywords_auth",{dangerouslySkipActivation:u}).anyEnabled;return{hyperlinkKeywordsEnabled:g||m}}},78835:function(e,t,n){n.d(t,{$_:()=>l,Dv:()=>r,Ml:()=>s,Oc:()=>i,mv:()=>a});let i=16,a=400,l=4,r={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},s=120},462214:function(e,t,n){n.d(t,{Z:()=>l});var i=n(465989),a=n(767415);function l(e,t,n,l,r){let s=new URLSearchParams,o=t.reduce((e,t)=>{if(null!=t){let n=function(e){let t;try{t=decodeURIComponent(e)}catch(n){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(i){let n=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(n&&n.length>1)return n[1];return e}}(t);return e.add(n)}return e},new Set);s.append(i.NR.SOURCE_EVENT_ID,e??"0"),s.append(i.NR.DESTINATION,JSON.stringify([...o])),s.append(i.NR.EXPIRY,n?i.uV:i.ug),s.append(i.NR.PRIORITY,n?i.NR.CLICK_PRIORITY:i.NR.VIEW_PRIORITY),r&&s.append(i.NR.ADVERTISER_ID,r),l&&s.append(i.NR.CAMPAIGN_ID,l),s.append(i.NR.SOURCE_EVENT_TYPE,n?i.bC:i.Cu);try{let{hostname:e}=new URL(window.location.href);"www.pinterest.com"!==e&&s.append(i.NR.HOSTNAME,e)}catch(e){(0,a.nP)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return"https://www.pinterest.com/attribution_source/?"+s.toString()}},214879:function(e,t,n){n.d(t,{Z:()=>a,v:()=>i});let i=()=>"undefined"!=typeof navigator&&"getInstalledRelatedApps"in navigator;async function a(){if(!i())return[];try{return await navigator.getInstalledRelatedApps()}catch(e){return[]}}},127078:function(e,t,n){n.d(t,{EJ:()=>p,EX:()=>c,Ig:()=>w,Jy:()=>_,YS:()=>b,ZP:()=>S,a3:()=>h,al:()=>k,dk:()=>y,hO:()=>m,kH:()=>g,nN:()=>v,z6:()=>f});var i=n(667294),a=n(581722),l=n(994507),r=n(784548),s=n(79271);let o=Date.now(),d=()=>(0,s.OC)(),u=()=>Date.now()-o,c=()=>(0,a.v9)(e=>e.currentUserTracker?.storageAccessAllowed??l.iN),p=()=>(0,a.v9)(e=>e.currentUserTracker?.visitedUnauthPages??l.PW),_=()=>(0,a.v9)(e=>e.currentUserTracker?.closeupPins??l.tf),h=()=>(0,a.v9)(e=>e.currentUserTracker?.completedSearches??l.fE),g=()=>(0,a.v9)(e=>e.currentUserTracker?.clickthroughPins??l.iK),m=()=>(0,a.v9)(e=>e.currentUserTracker?.savedPins??l.pn),f=()=>{let e=(0,a.I0)();return(0,i.useCallback)(t=>{e((0,r.$y)(t))},[e])},b=()=>{let e=(0,a.I0)();return(0,i.useCallback)((t,n)=>{e((0,r.bj)(t,n))},[e])},v=()=>{let e=(0,a.I0)();return(0,i.useCallback)(t=>{e((0,r.x1)(t))},[e])},w=()=>{let e=(0,a.I0)();return(0,i.useCallback)(t=>{e((0,r.tb)(t))},[e])},y=()=>{let e=(0,a.I0)();return(0,i.useCallback)(t=>{e((0,r.am)(t))},[e])},k=()=>{let e=(0,a.I0)();return(0,i.useCallback)(()=>{e((0,r.AU)())},[e])},S=()=>{let e=(0,a.v9)(e=>e.currentUserTracker?.isAuthenticated??l.MK),t=(0,a.v9)(e=>e.currentUserTracker?.country??l.UF),n=(0,a.v9)(e=>e.currentUserTracker?.region??l.fu),s=c(),o=p(),S=_(),P=h(),x=g(),I=(0,a.v9)(e=>e.currentUserTracker?.downloadedPinsCount??l.cH),E=m(),A=(0,a.v9)(e=>e.currentUserTracker?.isQUS??l.R8),T=(0,a.v9)(e=>e.currentUserTracker?.revisitationState??(0,l.dm)()),R=(0,a.v9)(e=>e.currentUserTracker?.daysSinceLastRevisitation??l.ne),C=b(),M=v(),O=w(),Z=y(),L=k();return{isAuthenticated:e,isStorageAllowed:s,isQUS:A,closeupPins:S,visitedPages:o,setVisitedPage:C,completedSearches:P,setCompletedSearch:M,removeCompletedSearch:O,clickthroughPins:x,setClickthroughPin:Z,downloadCount:I,updateDownloadCount:L,savedPins:E,setSavedPins:(()=>{let e=(0,a.I0)();return(0,i.useCallback)(t=>{e((0,r.pv)(t))},[e])})(),revisitationState:T,daysSinceLastRevisitation:R,updateRevisitation:(()=>{let e=(0,a.I0)();return(0,i.useCallback)(t=>{e((0,r.VD)(t))},[e])})(),initCurrentUserTracker:f(),getPinImpressionCount:d,getSessionDuration:u,country:t,region:n}}},863357:function(e,t,n){n.d(t,{Z:()=>r});var i=n(966502),a=n(470967),l=n(900946);function r(e,t){let n=Math.round(1e3*Math.random())+"",r=Math.round(1e3*Math.random())+"";a.t8((0,i.GS)(n),r);let s={token:`${n}-${r}`,url:e,...t&&!t.params?t.queryParams:t?.params&&{pin:t.params.pinId??void 0,isThirdPartyAd:t.params.isThirdPartyAd??void 0,csr:t.params.csrId&&!t.params.pinId?t.params.csrId:void 0,client_tracking_params:t.params.clientTrackingParams,aux_data:t.params.auxData?JSON.stringify(t.params.auxData):void 0}};return`/offsite/?${(0,l.Z)(s)}`}},241649:function(e,t,n){n.d(t,{Z:()=>r});var i=n(681698),a=n(647908),l=n(487038);let r=async({clientTrackingParams:e,href:t,pinId:n,spamCheckCallback:r})=>{let s=await function(e){let t=(0,a.Z)(e),n=l.y8.get("ApiResource",t);if(n)return n;let r=(0,i.Z)(e);return l.y8.add("ApiResource",t,r),r}({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:e,pin_id:n,url:t}});if(!s.resource_response.error){let{message:e,redirect_status:t,url:n}=s.resource_response.data||{};r({blocked:["blocked","suspicious","porn"].includes(t),message:e,redirectStatus:t,sanitized_url:n})}}},369236:function(e,t,n){n.d(t,{Z:()=>i});function i({isOffsiteUrl:e,event:t}){return!e&&(t.metaKey||t.ctrlKey)}},327670:function(e,t,n){n.d(t,{Z:()=>o});var i=n(505633),a=n(327569),l=n(483635),r=n(49629),s=n(43861);let o=({event:e,onHistoryChange:t,href:n,location:o,navigate:d,target:u})=>{let c=(0,a.Z)(n),p=("string"!=typeof n&&n?n.state:null)??{},_=(0,l.Z)(c);_===s.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===u?(0,i.Z)(c,"blank"===u):d&&_===s.Z.SAME_ORIGIN&&(d((0,r.Z)({url:c}),{state:{from:o,...p}}),t&&t({event:e}))}},711846:function(e,t,n){n.d(t,{Z:()=>l});var i=n(505633),a=n(863357);function l(e,t){(0,i.Z)((0,a.Z)(e,t),!0,t?.features)}},460219:function(e,t,n){n.d(t,{Z:()=>a});var i=n(568710);function a({location:e,pinId:t,surface:n}){return!!n&&!i.ZF.includes(n)||e.pathname.includes(t)}},680391:function(e,t,n){n.d(t,{Z:()=>g});var i=n(667294),a=n(312048),l=n(41045),r=n(241649),s=n(369236),o=n(327670),d=n(460219),u=n(201466),c=n(327569),p=n(748336),_=n(862893),h=n(767415);function g(e){let{clientTrackingParams:t,externalData:n,href:g,onHistoryChange:m,target:f}=e,[b,v]=(0,i.useState)(null),w=(0,a.s0)(),y=(0,a.TH)(),k=(0,c.Z)(g),S=(0,p.Z)({url:k}),{showWarning:P}=(0,_.n)()??{},{pin:x,surface:I}=n||{},{hyperlinkKeywordsEnabled:E}=(0,l.Z)(null,!0),A=t||x?.trackingParams,T=(0,u.Z)();return(0,i.useEffect)(()=>{S&&x&&null===b&&(!x.promoter||x.isDownstreamPromotion)&&(0,d.Z)({location:y,pinId:x.entityId,surface:I})&&(0,r.Z)({clientTrackingParams:A,pinId:x.entityId,spamCheckCallback:e=>v(e),href:k})},[A,x,I,k,S,y,b]),({event:e})=>{if(!(0,s.Z)({isOffsiteUrl:S,event:e})){if(E&&"string"==typeof g&&g.startsWith("pinterest://")){let t=g.replace(/^pinterest:\/\//,"/");(0,o.Z)({event:e,href:t,location:y,navigate:w,onHistoryChange:m,target:"blank"===f?"blank":null});return}if(e.preventDefault(),!g||"string"==typeof g&&g.startsWith("#"))return void(0,h.nP)("link_navigation_empty_href",{sampleRate:1,tags:{route:y.pathname,href:g}});S||n?.dangerouslyForceOffsiteUrl?T({auxData:n?.auxData,clientTrackingParams:A,pin:n?.pin&&{attributionSourceId:n.pin.attributionSourceId,campaignId:n.pin.campaignId,isPromoted:n.pin.isPromoted,pinPromotionId:n.pin.pinPromotionId,isThirdPartyAd:n.pin.isThirdPartyAd,advertiserId:n.pin.advertiserId,destinationUrl:n.pin.destinationUrl,link:n.pin.link,domain:n.pin.domain},pinId:n?.pin?.entityId,queryParams:n?.queryParams,showWarning:P,spamCheck:b,url:k}):(0,o.Z)({event:e,href:g,location:y,navigate:w,onHistoryChange:m,target:"blank"===f?"blank":null})}}}},201466:function(e,t,n){n.d(t,{Z:()=>p});var i=n(430037),a=n(465989),l=n(462214),r=n(343669),s=n(505633),o=n(230201),d=n(863357),u=n(711846),c=n(594774);let p=e=>{let t=(()=>{let{logContextEvent:e}=(0,o.u)();return({attributionSourceId:t,auxData:n,campaignId:s,clientTrackingParams:o,href:u,isPromoted:c,pinId:p,pinPromotionId:_,isThirdPartyAd:h,advertiserId:g,destinationUrl:m,link:f,domain:b})=>{if(!c)return!1;let v=(0,i.Z)(),w={params:{pinId:p,csrId:null,clientTrackingParams:o,auxData:n,isThirdPartyAd:h}},y=(0,d.Z)(u,w);v?.experimentsClient.checkExperiment("web_ad_destination_url").anyEnabled&&c&&u===m&&(fetch((0,d.Z)(m,w),{redirect:"manual"}),y=m);let k=v?.userAgent.browserName??"",S=v?.experimentsClient.checkExperiment("aid_exp_ara_shutdown_source_registration").anyEnabled;if((0,r.G6)(k)){let n=v?.userAgent.browserVersion?v.userAgent.browserVersion:"0.0",i=parseFloat(n.split(".")[0]+"."+n.split(".")[1]);if(t&&i>=14.1){var P=y;let n=document.createElement("a");return n.setAttribute("href",P),n.setAttribute("target","_blank"),n.setAttribute("rel","noopener nofollow noreferrer"),n.style.cursor="pointer",n.style.display="block",n.setAttribute(a.$N.ATTRIBUTION_SOURCE_ID,t),n.setAttribute(a.$N.ATTRIBUTE_DESTINATION,u),n.setAttribute(a.$N.ATTRIBUTE_ON,u),n.click(),e({event_type:101,clientTrackingParams:o,object_id_str:p||"",aux_data:{pin_id:p||"",click_measurement_ppid:_||"",click_measurement_campaign_id:s||"",is_pcm:!0,attribution_source_id:t,page_url:u}}),!0}}else if((0,r.i7)(k)&&!S&&window.document.featurePolicy?.allowsFeature("attribution-reporting")){var x=y;let n=(0,l.Z)(t,[m,f,b],!0,s,g),i=document.createElement("a");return i.setAttribute("href",x),i.setAttribute("target","_blank"),i.setAttribute("rel","noopener nofollow noreferrer"),i.style.cursor="pointer",i.style.display="block",i.setAttribute(a.NR.SOURCE,n),i.click(),e({event_type:101,clientTrackingParams:o,object_id_str:p||"",aux_data:{pin_id:p||"",click_measurement_ppid:_||"",click_measurement_campaign_id:s||"",is_arapi:!0,attribution_source_id:t,page_url:u}}),!0}return!1}})();return({auxData:n,clientTrackingParams:a,pin:l,pinId:r,queryParams:o,showWarning:p,spamCheck:_,url:h})=>{if("undefined"!=typeof window&&window.Windows)return void(0,c.Z)(h,{clientTrackingParams:a,pinId:r,hasPin:!!l,auxData:n,isThirdPartyAd:l?.isThirdPartyAd});if(!l&&!e?.isFromClickthroughLink)return void(0,u.Z)(h,o?{queryParams:o}:{params:{pinId:r}});if(_?.blocked)return void p?.(_);if(l&&t({attributionSourceId:l.attributionSourceId,auxData:n,campaignId:l.campaignId?String(l.campaignId):null,clientTrackingParams:a,href:h,isPromoted:l.isPromoted,pinId:r,pinPromotionId:l.pinPromotionId?String(l.pinPromotionId):null,isThirdPartyAd:l.isThirdPartyAd,advertiserId:l.advertiserId?l.advertiserId:null,destinationUrl:l.destinationUrl,link:l.link,domain:l.domain}))return;let g={params:{clientTrackingParams:a,auxData:n,pinId:r,isThirdPartyAd:l?.isThirdPartyAd}},m=(0,i.Z)();if(m?.experimentsClient.checkExperiment("web_ad_destination_url").anyEnabled&&l?.isPromoted&&h===l?.destinationUrl){fetch((0,d.Z)(h,g),{redirect:"manual"}),(0,s.Z)(h,!0);return}(0,u.Z)(h,g)}}},331506:function(e,t,n){n.d(t,{bN:()=>_,BY:()=>c,fs:()=>o,EU:()=>s,kt:()=>p,Ly:()=>u,RC:()=>r,eK:()=>d});let i=/\s\s+/g;var a=n(680589);let l=Object.freeze(new Set(["sensitive_raw_pin_text","is_sensitive_rich_pin_title"])),r=({storyPinDataMetadataPinTitle:e,pinTitle:t})=>e||t,s=(e,t)=>e?e.trim().length>t?(0,a.ZP)(e.trim(),t).trim():e.trim():"",o=({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:a,storyPinDataMetadataPinTitle:l})=>{let r=l||e,o=s(t,200);return o||n||i||(a&&r?r:null)},d=e=>{let{richSummaryDisplayName:t}=e,n=e.pinJoinVisualAnnotation||[],l=e.pinJoinAnnotationsWithLinks||{},r=e.richMetadataDescription||"",s=e.closeupUnifiedDescription||"",o=n.map(e=>(l||{})[e]||{name:e,url:""}),d="",u=(t||"").toLocaleLowerCase().trim(),c=r.toLocaleLowerCase().trim(),p=s.toLocaleLowerCase().trim();return s&&s.length>3&&p!==u?d=s:r&&r.length>3&&c!==u&&(d=r),d&&(d=(0,a.ZP)(d,496).replace(i," ").trim()),{description:d,annotationsWithLinks:o}},u=({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:a,storyPinDataMetadataPinTitle:r,pinJoinVisualAnnotation:d,seoNoindexReason:u,shouldUseSimplifiedTitle:c=!1})=>l.has(u??"")?d?.[0]??" ":c?s(t,200)||d?.[0]||"":o({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:a,storyPinDataMetadataPinTitle:r})||d?.[0]||e,c=e=>`/pin/${e}/`,p=(e,t)=>{let n=`Pinterest video from ${t}: `.concat(e);return""===t?e:n},_=({pinId:e,seoUrl:t})=>t&&"string"==typeof t?t:c(e)},702763:function(e,t,n){n.d(t,{X:()=>i});let i="favorited"},849232:function(e,t,n){n.d(t,{kf:()=>m,l5:()=>h,of:()=>p,xC:()=>g,yz:()=>_});var i=n(667294),a=n(213491),l=n(504644),r=n(893957),s=n(986523),o=n(767415),d=n(785893);let{Provider:u,getMaybe:c}=(0,a.Z)("PwaContext"),p=({children:e,initialContext:t})=>{let[n,a]=(0,i.useState)(null),s=t||{pwaType:"unknown",twaType:null},c=s.pwaType;(0,r.Z)(()=>{let e=(0,l.FB)(window)||"unknown";a(e),c!==e&&(0,o.nP)("pwa.type_mismatch",{sampleRate:1,tags:{serverPwaType:c,clientPwaType:e,conflict:"unknown"!==c&&"unknown"!==e}})});let p="unknown"===c&&n?n:c,{twaType:_}=s,h=(0,i.useMemo)(()=>({pwaType:p,twaType:_}),[p,_]);return(0,d.jsx)(u,{value:h,children:e})},_=()=>{let e=c();return e?.pwaType??"unknown"},h=()=>{let e=c();return e?.twaType??null},g=()=>"android-twa"===_(),m=()=>{let e=_(),t=(0,s.Z)();return"unknown"===e&&t?null:"windows"===e}},917569:function(e,t,n){n.d(t,{Z:()=>a});var i=n(501010);function a(){let{checkExperiment:e}=(0,i.Z)();return()=>e("web_initial_client_fetches_reduction").anyEnabled}},415316:function(e,t,n){n.d(t,{o:()=>i,u:()=>a});let{Provider:i,getMaybe:a}=(0,n(213491).Z)("inviteContext")},736328:function(e,t,n){n.d(t,{Z:()=>o});var i=n(667294),a=n(312048),l=n(173874),r=n(138482),s=n(935833);function o(){let e=(0,a.TH)();return(0,i.useCallback)(({action:t,item:n,within:i,tags:a={}})=>{let o=(0,l.isCloseupPage)(e)?"pin":(0,l.isBoardPage)(e)?"board":(0,l.isLoginPage)(e)?"login":(0,l.isHomePage)(e)?"home":(0,r.Z)(e)?"profile":(0,l.isHubOrIdeaPage)(e)?"ideas":(0,l.isIdeasRootPage)(e)?"ideas-root":(0,l.isVideosRootPage)(e)?"videos":(0,l.isVideosCategoryPage)(e)?"videos-category":(0,l.isTodayArticlePage)(e)?"article":(0,l.isShoppingSpotlightPage)(e)?"shopping-spotlight":(0,l.isTodayPage)(e)?"today":(0,l.isUnauthProfilePage)(e)?"unauth-profile":(0,l.isShoppingRootPage)(e)?"shopping-root":(0,l.isShoppingCategoryPage)(e)?"shopping-category":"other";(0,s.My)(`logged_out_product.interaction.${o}.${t}`,{item:n||"none",within:i||"none",...a})},[e])}},787194:function(e,t,n){n.d(t,{M:()=>r,Q:()=>l});var i=n(667294);let a=(0,i.createContext)(null),l=()=>(0,i.use)(a),r=a},473687:function(e,t,n){n.d(t,{Z:()=>p});var i=n(667294),a=n(581722),l=n(312048),r=n(456871),s=n(501010),o=n(774838),d=n(413211),u=n(270922),c=n(739405);let p=()=>{let e=(0,a.I0)(),{checkExperiment:t}=(0,s.Z)(),n=(0,o.B)(),p=(0,r.Z)(),_=(0,c.ZP)(),h=(0,l.TH)(),g=(0,a.v9)(e=>e.upsell?.initialSessionContext),m=(0,i.useMemo)(()=>(0,u.T9)(n,p,_,h.pathname),[n,p,_,h.pathname]),f=(0,i.useCallback)(n=>{"function"==typeof n?e(n({checkExperiment:t,sessionContext:g})):e({...n,payload:{..."payload"in n?n.payload:{},checkExperiment:t,sessionContext:g}})},[e,t,g]);return(0,i.useEffect)(()=>{g||e((0,d.ap)(m))},[e,g]),f}},45762:function(e,t,n){n.d(t,{Z:()=>_});var i=n(4533),a=n(15881),l=n(505633),r=n(331506),s=n(34550),o=n(418282),d=n(935833);let u=new class{constructor(){this.listeners={}}on(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}emit(e,t){this.listeners[e]&&this.listeners[e].forEach(e=>e(t))}},c=new class{constructor(){this.rules={},this.init()}init(){for(let e of[{category:"dweb_max_free_pin_modal",validate:this.validateImageView.bind(this),action:"SHOW_LOGIN_MODAL"},{category:"dweb_save",validate:this.saveRule.bind(this),action:"SHOW_SAVE_MODAL"},{category:"dweb_scroll_banner_dismiss_rule",validate:this.scrollBanerDismissRule.bind(this),action:"BOTTOM_RIGHT_BANNER_DISMISS"},{category:"dweb_scroll_banner_limit_rule",validate:this.scrollBannerLimitRule.bind(this),action:"BOTTOM_RIGHT_BANNER_LIMIT"},{category:"dweb_scroll_banner_show",validate:this.scrollBannerShowRule.bind(this),action:"BOTTOM_RIGHT_BANNER_SHOW"}])this.addRule(e)}initExperiment(e){this.experiment=e}addRule(e){this.rules[e.category]=this.rules[e.category]??[],this.rules[e.category].push(e)}evaluate(e,t){if(!this.rules[e])return null;for(let n of this.rules[e])if(n.validate(t))return n.action;return null}validateImageView(e){let{clickCount:t}=e,{hasSeenLoginModal:n}=e,{hasDismissedLoginModal:i}=e,a=this.experiment?.group==="enabled_relaxation";return a?t+1>=4&&!n&&!i:t+1>=4&&!n}saveRule(e){return"desktop"===e.deviceType}scrollBanerDismissRule(e){return e.scrollTop<64}scrollBannerLimitRule(e){return e.scrollTop<4e3}scrollBannerShowRule(e){let t=this.experiment?.group==="enabled_relaxation";return t?e.isInOpenModalExperience||e.isSafari||e?.state?.scrollSessionCount!==3&&!e.hasDismissedLoginModal:e.isInOpenModalExperience||e.isSafari||e?.state?.scrollSessionCount!==3}};var p=n(925201);let _=new class{constructor(){this.init()}init(){u.on("pinView",this.handlePinView.bind(this)),u.on("pinSave",this.handleSavePin.bind(this)),u.on("showDesktopSignupModal",this.showDesktopSignupModal.bind(this)),u.on("hideDesktopSignupModal",this.hideDesktopSignupModal.bind(this)),u.on("onScrollHybridBanner",this.onScrollHybridBanner.bind(this))}initExperiment(e){this.experiment=e("dweb_upsell_manager_mvp_2"),this.experiment&&c.initExperiment(this.experiment)}emitEvent(e,t){u.emit(e,t)}handlePinView(e){let{history:t,linkTarget:n}=e,u=(0,s.M0)().getItem(i.cu)??0;(0,s.M0)().setItem(i.cu,u+1);let _=(0,o.Nl)().getItem(a.J7);if("SHOW_LOGIN_MODAL"===c.evaluate("dweb_max_free_pin_modal",{clickCount:u,hasSeenLoginModal:_})){let{onUpsellTriggerCallback:i}=e;i(),(0,d.My)("dweb.navigational.upsell.show"),(0,o.Nl)().setItem(a.J7,"true");let s={pinId:e.pinId,seoUrl:e.seoUrl},u=(0,p.Z)((0,r.bN)(s),{mt:"login"});if("fullPageLoad"===n)(0,l.Z)(u,!1);else if("duploClientNav"===n)t.push(u);else{let e=window.open(u,"_blank");e?.focus()}}}handleSavePin(e){if("SHOW_SAVE_MODAL"===c.evaluate("dweb_save",{deviceType:e.deviceType})){let{pinId:t,attributionLabel:n,modalHeadingType:i,showSignupModal:a}=e;a({attributionLabel:"extended_save_out_of_quota"===i?"click_save_button_with_max_unauth_saves":n||"click_save_button_on_closeup",reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",mobileOptions:{headingType:i},desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save"}},pinId:t})}}showDesktopSignupModal(e){let{displayProps:t,viewType:n,viewParameter:i,trackInteraction:a,trackConversionUpsellForContext:l,logDesktopSignupModalEvent:r,dispatchSignupModalAction:s}=e;s({type:"show",displayProps:t});let{attributionLabel:o,signupFlow:d,reason:u}=t;a({action:"trigger",item:d.type.includes("signup")?"signup-modal":"login-modal"}),l({viewType:n,viewParameter:i,eventType:14688,element:{UPSELL_LOGIN_OR_SIGNUP:13319,ACTION_REQUIRES_LOGIN_OR_SIGNUP:13320,CLICK_LOGIN_OR_SIGNUP:13321}[u]||13322,component:"login"===d.type?14212:14214,upsellReason:o}),r("dispatch_show",{attributionLabel:o,modalType:d.type,reason:u})}hideDesktopSignupModal(e){let{shouldDoSideEffects:t,loginForMore:n,dispatchSignupModalAction:i,logDesktopSignupModalEvent:a}=e,l=e.isEligibilityLoginForMore;t&&n&&l&&n.setVisible(!1),i({type:"dismiss"}),a("dispatch_dismiss",{shouldDoSideEffects:t})}onScrollHybridBanner(e){let{evt:t,isSafari:n,trackConversionUpsell:i,UnauthHybridBannerClassComponent:l,isInOpenModalExperience:r}=e,s=0,d=t&&t.target instanceof Document?t.target:null;if(d&&d.documentElement&&d.documentElement.scrollTop>0?s=d.documentElement.scrollTop:d&&d.body&&d.body.scrollTop>0&&(s=d.body.scrollTop),"BOTTOM_RIGHT_BANNER_DISMISS"===c.evaluate("dweb_scroll_banner_dismiss_rule",{scrollTop:s}))l.state.shouldShowBanner&&!l.state.bannerDismissed&&(i({element:13893,eventType:10243}),l.state.bannerDismissed=!0),l.setShouldShowBanner(!1);else if("BOTTOM_RIGHT_BANNER_LIMIT"===c.evaluate("dweb_scroll_banner_limit_rule",{scrollTop:s})){let e=l.state.shouldShowBanner;l.setState(e=>({shouldShowBanner:"BOTTOM_RIGHT_BANNER_SHOW"===c.evaluate("dweb_scroll_banner_show",{isInOpenModalExperience:r,isSafari:n,state:e}),scrollSessionCount:Math.ceil(s/800)}),()=>{e||!l.state.shouldShowBanner||l.state.bannerViewed||(i({eventType:14688,element:13319,component:14479,upsellReason:"scroll_down"}),l.state.bannerViewed=!0)})}else!(0,o.Nl)().getItem(a.J7)&&!r&&n&&t&&t.preventDefault()}}},327569:function(e,t,n){n.d(t,{Z:()=>i});let i=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},594774:function(e,t,n){n.d(t,{Z:()=>l});var i=n(47755),a=n(711846);function l(e,t){let{auxData:n,clientTrackingParams:l,hasPin:r,pinId:s,isThirdPartyAd:o}=t||{},d={pin_id:s||void 0,check_only:!0,client_tracking_params:r&&l||void 0,url:e,aux_data:JSON.stringify(n)};o&&(d.third_party_ad=s||void 0,delete d.pin_id),(0,i.Z)({url:"/v3/offsite/",data:d}).then(t=>{if(t&&t.resource_response&&!t.resource_response.error){let{resource_response:e}=t,{redirect_status:n,url:i}=e.data;if(!["blocked","suspicious","porn"].includes(n||"")){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){let e=new window.Windows.Foundation.Uri(i||"");window.Windows.System.Launcher.launchUriAsync(e)}return}}(0,a.Z)(e,{params:r?{pinId:s,clientTrackingParams:l,auxData:n,isThirdPartyAd:o}:{pinId:s}})})}},683779:function(e,t,n){n.d(t,{X:()=>a,Z:()=>l});var i=n(667294);let a=120;function l(e,t=0,n=a){let[r,s]=(0,i.useState)(e?"active":"inactive");return(0,i.useEffect)(()=>{if(e)if(t){let e=setTimeout(()=>s("active"),t);return()=>{clearTimeout(e)}}else s("active");else{let e=setTimeout(()=>s("inactive"),n);return()=>{clearTimeout(e)}}},[e]),r}},594502:function(e,t,n){n.d(t,{Z:()=>o});var i=n(686659),a=n(667294),l=n(399353),r=n(683779),s=n(785893);function o({children:e,fadeInDuration:t=0,fadeOutDuration:n=r.X,visibility:o}){return((0,a.useEffect)(()=>{(0,i.Z)("FadeableContainer","/app/www/AuthDesktopPinRep/components/FadeableContainer.tsx")},[]),"none"!==o&&e)?(0,s.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{hidden:{opacity:0,transition:n?`opacity ${n}ms ease`:void 0},visible:{opacity:1,transition:t?`opacity ${t}ms ease`:void 0}}[o]},children:e}):null}},568710:function(e,t,n){n.d(t,{Wv:()=>a,ZF:()=>i,zI:()=>l,zl:()=>r});let i=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],a=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],l=[...a,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","SearchAdsOnlyModule","ShoppingTool","ProductPinRetrieval"],r=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingGridShippedMetadataWithVisitButton"]},411657:function(e,t,n){n.d(t,{D:()=>i,u:()=>a});let{Provider:i,getMaybe:a}=(0,n(213491).Z)("unauthPageWrapperContext")},167021:function(e,t,n){n.d(t,{K:()=>r,T:()=>s});var i=n(667294),a=n(785893);let l=(0,i.createContext)({getPinFeedbackStatus:()=>void 0,setPinFeedbackStatus:()=>{}}),r=()=>(0,i.use)(l);function s({children:e}){let[t,n]=(0,i.useState)(Object.freeze({})),r=(0,i.useMemo)(()=>({getPinFeedbackStatus:({pinId:e})=>t[e],setPinFeedbackStatus:({pinId:e,pinFeedbackStatus:i})=>n({...t,[e]:i})}),[t]);return(0,a.jsx)(l,{value:r,children:e})}},227866:function(e,t,n){n.d(t,{Z:()=>s});var i=n(686659),a=n(667294),l=n(399353),r=n(785893);function s({children:e,additionalStyles:t={}}){return(0,a.useEffect)(()=>{(0,i.Z)("ContentLayer","/app/www/PinRep/ContentLayer.tsx")},[]),(0,r.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...t}},"data-test-id":"contentLayer",left:!0,position:"absolute",right:!0,top:!0,children:e})}},329577:function(e,t,n){n.d(t,{ET:()=>s,JH:()=>d,UQ:()=>o,WG:()=>c,yh:()=>p});var i=n(686659),a=n(667294),l=n(213491),r=n(785893);let s={NONE:"NONE",GROUP:"GROUP",SECRET:"SECRET",ARCHIVED:"ARCHIVED"},o={NONE:0,ARCHIVED:1,GROUP:2,SECRET:3},d={COLORS:"COLORS",CREATED_BY_ME:"CREATED_BY_ME",FAVORITED:"FAVORITED",FAVORITED_AND_CREATED:"FAVORITED_AND_CREATED_BY_ME",INTERESTS:"INTERESTS",NONE:""},{Provider:u,getMaybe:c}=(0,l.Z)("ProfileViewContext");function p({children:e}){(0,a.useEffect)(()=>{(0,i.Z)("ProfileViewContext","/app/www/ProfileViewContext.tsx")},[]);let[t,n]=(0,a.useState)(),[l,s]=(0,a.useState)(new Map),[o,c]=(0,a.useState)(),[p,_]=(0,a.useState)(),[h,g]=(0,a.useState)(d.NONE),[m,f]=(0,a.useState)("ALL"),[b,v]=(0,a.useState)(0),[w,y]=(0,a.useState)(),k=(0,a.useCallback)((e,t)=>{s(new Map(l.set(e,t)))},[l]),S=(0,a.useMemo)(()=>({boardPinDensity:t,boardSortOrder:l,collagesFilter:m,profileBoardView:o,profilePinDensity:p,profileFollowingSelectedIndex:b,selfProfilePinFilter:h,setBoardPinDensity:n,setSelfProfilePinFilter:g,updateBoardSortOrder:k,selfProfileBoardFilter:w,setCollagesFilter:f,setSelfProfileBoardFilter:y,setProfileBoardView:c,setProfilePinDensity:_,setProfileFollowingSelectedIndex:v}),[t,l,m,o,p,b,h,w,f,k]);return(0,r.jsx)(u,{value:S,children:e})}},914253:function(e,t,n){n.d(t,{dL:()=>s,fJ:()=>d,gC:()=>o});var i=n(581722),a=n(213491),l=n(785893);let{Provider:r,get:s}=(0,a.Z)("Boards");function o(){let e=s();return t=>e[t]}function d({children:e}){let t=(0,i.v9)(({boards:e})=>e,i.wU);return(0,l.jsx)(r,{value:t,children:e})}},862893:function(e,t,n){n.d(t,{n:()=>m,Z:()=>f});var i=n(686659),a=n(667294),l=n(213491),r=n(608575),s=n(399353),o=n(465784),d=n(24246),u=n(216975),c=n(785893);let p=()=>{let e=(0,d.Z)(),{dismissWarning:t}=m()??{};return(0,c.jsx)(s.xu,{paddingX:3,children:(0,c.jsx)(s.zx,{color:"primary",fullWidth:!0,onClick:t,text:e._('Okay', 'Dismiss a modal stating that clicking through to a link has been blocked', 'Dismiss a modal stating that clicking through to a link has been blocked')})})},_=()=>{let e=(0,d.Z)();return(0,c.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,c.jsx)(s.rU,{display:"inlineBlock",href:"https://policy.pinterest.com/community-guidelines#section-spam",target:"blank",underline:"hover",children:e._('Learn more', 'Link text leading to policy website', 'Link text leading to policy website')})})},h=({message:e,sanitized_url:t})=>{(0,a.useEffect)(()=>{(0,i.Z)("SpammyClickthroughWarningModal","/app/www/SpammyClickthrough/SpammyClickthroughWarningModal.tsx")},[]);let n=(0,d.Z)(),{dismissWarning:l}=m()??{};return(0,c.jsx)(o.ZP,{accessibilityModalLabel:n._('We have blocked this link', 'Modal label when clicking a spammy link', 'Modal label when clicking a spammy link'),footer:(0,c.jsx)(p,{}),heading:n._('Heads up!', 'Modal heading when clicking through to a link has been blocked', 'Modal heading when clicking through to a link has been blocked'),onDismiss:l,children:(0,c.jsxs)(s.xu,{padding:6,children:[(0,c.jsx)(s.xv,{children:(0,u.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,c.jsx)(_,{},"learnMoreLink")})}),(0,c.jsxs)(s.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,c.jsx)(s.xu,{marginEnd:3,children:(0,c.jsx)(s.JO,{accessibilityLabel:n._('Blocked link address', 'Icon label preceding a block url', 'Icon label preceding a block url'),color:"error",icon:"block",inline:!0,size:24})}),(0,c.jsx)(s.xv,{inline:!0,lineClamp:1,weight:"bold",children:r.parse(t).hostname})]})]})})},{Provider:g,getMaybe:m}=(0,l.Z)("SpammyClickthrough");function f({children:e}){(0,a.useEffect)(()=>{(0,i.Z)("SpammyClickthroughProvider","/app/www/SpammyClickthrough/SpammyClickthroughProvider.tsx")},[]);let[t,n]=(0,a.useState)(null),l=(0,a.useCallback)(()=>{n(null)},[n]),r=(0,a.useCallback)(e=>{n(e)},[n]),s=(0,a.useMemo)(()=>({dismissWarning:l,showWarning:r}),[l,r]);return(0,c.jsxs)(g,{value:s,children:[t&&(0,c.jsx)(h,{...t}),e]})}},500602:function(e,t,n){n.d(t,{BO:()=>y,D5:()=>x,GC:()=>A,GJ:()=>g,L7:()=>_,Lc:()=>d,Lu:()=>C,Mf:()=>S,Mh:()=>r,Oq:()=>I,Qf:()=>o,Qq:()=>E,bT:()=>b,bd:()=>f,df:()=>u,dg:()=>s,dv:()=>P,kl:()=>m,m6:()=>k,mT:()=>w,nQ:()=>T,pS:()=>v,qM:()=>M,rB:()=>R,vg:()=>O,xp:()=>p,yg:()=>c,zz:()=>h});var i=n(399353),a=n(492601),l=n(510755);let r="right",s=r,o=72,d="VerticalNavContent",u=24,c="lg",p="compress",_=16,h=16,g=392,m=12,f="var(--base-color-grayscale-100)",b="var(--comp-button-color-hover-background-tertiary-default)",v=new i.H3([l.NW]),w=new i.Ry(l.fe-3),y=new i.H3([v,a.kl]),k=new i.H3([v]),S=k,P=200,x=4,I=400,E=300,A=12,T=24,R="200ms left",C=8,M={menuItemPadding:"12px",anchorOffset:"16px"},O=(e,t="long")=>{let n={label:e._('Art', 'dweb.sidenav.ideas.art', 'Text for Flyout showing link to /ideas/art/ Page'),value:"961238559656",slug:"art"},i={label:e._('Beauty', 'dweb.sidenav.ideas.beauty', 'Text for Flyout showing link to /ideas/beauty/ Page'),value:"935541271955",slug:"beauty"},a={label:e._('Food & Drink', 'dweb.sidenav.ideas.food', 'Text for Flyout showing link to /ideas/food-and-drink/ Page'),value:"918530398158",slug:"food-and-drink"},l={label:e._('Design', 'dweb.sidenav.ideas.design', 'Text for Flyout showing link to /ideas/design/ Page'),value:"902065567321",slug:"design"},r={label:e._('Women\'s Fashion', 'dweb.sidenav.ideas.womensFashion', 'Text for Flyout showing link to /ideas/womens-fashion/ Page'),value:"948967005229",slug:"womens-fashion"},s={label:e._('Men\'s Fashion', 'dweb.sidenav.ideas.mensFashion', 'Text for Flyout showing link to /ideas/mens-fashion/ Page'),value:"924581335376",slug:"mens-fashion"},o={label:e._('Home Decor', 'dweb.sidenav.ideas.homeDecor', 'Text for Flyout showing link to /ideas/home-decor/ Page'),value:"935249274030",slug:"home-decor"},d={label:e._('DIY', 'dweb.sidenav.ideas.diy', 'Text for Flyout showing link to /ideas/diy-and-crafts/ Page'),value:"934876475639",slug:"diy-and-crafts"},u={label:e._('Fitness', 'dweb.sidenav.ideas.fitness', 'Text for Flyout showing link to /ideas/fitness-and-exercise/ Page'),value:"912503731943",slug:"fitness-and-exercise"},c={label:e._('Pets', 'dweb.sidenav.ideas.pets', 'Text for Flyout showing link to /ideas/animals-and-pets/ Page'),value:"941660492982",slug:"animals-and-pets"},p={label:e._('Quotes', 'dweb.sidenav.ideas.quotes', 'Text for Flyout showing link to /ideas/quotes/ Page'),value:"948192800438",slug:"quotes"},_={label:e._('Travel', 'dweb.sidenav.ideas.travel', 'Text for Flyout showing link to /ideas/travel/ Page'),value:"908182459161",slug:"travel"},h={label:e._('Weddings', 'dweb.sidenav.ideas.wedding', 'Text for Flyout showing link to /ideas/weddings/ Page'),value:"903260720461",slug:"weddings"};return"long"===t?[n,c,i,l,a,r,s,o,d,p,_,u,h]:[n,i,a,o,r,s]}},874288:function(e,t,n){n.d(t,{Z:()=>a});var i=n(581722);let a=()=>(0,i.v9)(({session:{canUseNativeApp:e}})=>e)},307618:function(e,t,n){n.d(t,{$:()=>s,w:()=>o});var i=n(667294),a=n(213491),l=n(785893);let{Provider:r,getMaybe:s}=(0,a.Z)("CloseupPreviewContext");function o({children:e}){let[t,n]=(0,i.useState)(Object.freeze({})),a=(0,i.useMemo)(()=>({setData:(e,t)=>n(n=>({...n,[e]:t})),getData:e=>t[e]}),[t]);return(0,l.jsx)(r,{value:a,children:e})}},40763:function(e,t,n){n.d(t,{Z:()=>r});var i=n(501010),a=n(774838),l=n(739405);let r=({skipExpActivation:e=!1})=>{let{checkExperiment:t}=(0,i.Z)(),n=(0,l.HG)(),{isBot:r,isAuthenticated:s}=(0,a.B)();return!s&&!!n&&n&&!r&&t("unauth_dweb_closeup_redesign",{dangerouslySkipActivation:e}).anyEnabled}},492601:function(e,t,n){n.d(t,{Bq:()=>p,CZ:()=>o,Db:()=>u,Lu:()=>s,kl:()=>l,rC:()=>a,sb:()=>d,t3:()=>r,to:()=>c});var i=n(399353);let a="full-height-inbox-panel",l=new i.Ry(700),r="defaultInboxView",s="newMessageView",o="newMessageSelectRecipientsView",d="invitesRequestsView",u="followInviteEducationView",c=64,p="conversationView"},20717:function(e,t,n){n.d(t,{$p:()=>x,_l:()=>I,cO:()=>P,t2:()=>E,w2:()=>A,xM:()=>S});var i=n(686659),a=n(667294),l=n(312048),r=n(935059),s=n(173874),o=n(501010),d=n(774838),u=n(661376),c=n(646108),p=n(341687),_=n(739405),h=n(785893);let g="UnauthDesktopSocialPinLandingPageContext",m="UnauthMobileSocialPinLandingPageContext",f="AthDesktopSocialPinLandingPageContext",b="AuthMobileSocialPinLandingPageContext",v=(0,a.createContext)({hasSeenAuthDesktopLandingToast:!1,hasSeenAuthMobileLandingToast:!1,setHasSeenAuthDesktopLandingToast:()=>{},setHasSeenAuthMobileLandingToast:()=>{},hasDismissedLoginModal:!1,setHasDismissedLoginModal:()=>{},hasDismissedGradientUpsell:!1,setHasDismissedGradientUpsell:()=>{},isGradientUpsellTriggerInView:!1,setIsGradientUpsellTriggerInView:()=>{},pinImageUrl:"",setPinImageUrl:()=>{}}),w=({children:e})=>{let[t,n]=(0,a.useState)(!1),[i,l]=(0,a.useState)(!1),[r,s]=(0,a.useState)(!1),[o,d]=(0,a.useState)(!1),[u,c]=(0,a.useState)(!1),[p,_]=(0,a.useState)(""),g=(0,a.useMemo)(()=>({hasSeenAuthMobileLandingToast:t,setHasSeenAuthMobileLandingToast:n,hasSeenAuthDesktopLandingToast:i,setHasSeenAuthDesktopLandingToast:l,hasDismissedGradientUpsell:r,setHasDismissedGradientUpsell:s,hasDismissedLoginModal:o,setHasDismissedLoginModal:d,isGradientUpsellTriggerInView:u,setIsGradientUpsellTriggerInView:c,pinImageUrl:p,setPinImageUrl:_}),[t,i,r,s,o,d,u,c,p,_]);return(0,h.jsx)(v,{value:g,children:e})},y=(0,a.createContext)({key:"",data:null}),k=({children:e})=>{let t=(0,l.TH)(),{isSocialBot:n,isBot:i}=(0,d.B)(),w=(0,r.Z)(),k=w&&w.isAuth,S=(0,_.HG)(),P=(0,a.useMemo)(()=>(0,s.isPinFeedbackPage)(t)&&(0,p.Z)(t.search).invite_code||"",[t]),x=(0,a.useMemo)(()=>{if(!((0,s.isSignupPage)(t)||(0,s.isLoginPage)(t)))return"";let e=(0,p.Z)(t.search);if(e.invite_code)return e.invite_code;let n=e.from;if(!n)return"";let i=(0,c.Z)(n).split("?")[1]||"";return i&&(0,p.Z)(i).invite_code||""},[t]),I=(0,a.useMemo)(()=>{let e=(0,l.LX)({path:"/pin/:id"},t.pathname);return String(e&&"id"in e.params&&e.params.id)||""},[t.pathname]),[E,A]=(0,a.useState)({key:"",data:null}),[T,R]=(0,a.useState)(!1),C=!k&&S,M=!k&&!S,{checkExperiment:O}=(0,o.Z)(),{hasDismissedLoginModal:Z}=(0,a.use)(v),L=!i&&!n&&M&&P,{inDwebFullPageModalExp:D,dWebFullPageModalExpGroup:N,inDwebSocialModalUpdateExp:U,dWebSocialModalUpdateExpGroup:F,inDwebUnauthRelatedPinsLimitExp:G,unauthDwebRelatedPinsLimitGroup:z,inDwebUnauthSocialPinLandingExp:B,unauthDwebSocialPinLandingGroup:H,inMwebUnauthRelatedPinsLimitExp:j,unauthMwebRelatedPinsLimitGroup:V,inMwebUnauthSocialPinLandingSecondaryUpsellExp:W,unauthMwebSocialPinLandingSecondaryUpsellGroup:$,inMwebSocialFeatureEducationExp:J,mwebSocialFeatureEducationExpGroup:q,inMwebLoginSignupPageExp:Y,unauthMwebLoginSignupPageExpGroup:K}=(0,a.useMemo)(()=>{let e=!i&&!n&&C&&P&&(()=>{let e=O("ce_dweb_unauth_splp_blocking",{dangerouslySkipActivation:!0}),t=O("ce_dweb_unauth_splp_blocking_no_delay",{dangerouslySkipActivation:!0}),n=O("ce_dweb_unauth_splp_blocking_3s",{dangerouslySkipActivation:!0});return t.anyEnabled?t:n.anyEnabled?n:e})()||{anyEnabled:!1,group:void 0},t=!i&&!n&&C&&P&&O("ce_dweb_unauth_splp_modal_update",{dangerouslySkipActivation:!0})||{anyEnabled:!1,group:void 0},a=!i&&!n&&C&&P&&O("sg_dweb_unauth_social_pin_landing_page")||{anyEnabled:!1,group:void 0},l=!i&&!n&&C&&P&&O("ce_dweb_unauth_related_pins_limit",{dangerouslySkipActivation:!0})||{anyEnabled:!1,group:void 0},r=!i&&!n&&M&&P&&O("ce_mweb_unauth_related_pins_limit",{dangerouslySkipActivation:!0})||{anyEnabled:!1,group:void 0},s=L&&Z&&O("sg_mweb_unauth_social_pin_landing_secondary_upsell")||{anyEnabled:!1,group:void 0},o=!i&&!n&&M&&(x||P)&&O("ce_mweb_unauth_social_feature_education")||{anyEnabled:!1,group:void 0},d=!i&&!n&&M&&(x&&O("ce_mweb_unauth_splp_signup_banner")||P&&O("ce_mweb_unauth_splp_signup_banner",{dangerouslySkipActivation:!0}))||{anyEnabled:!1,group:void 0};return{inDwebFullPageModalExp:e.anyEnabled,dWebFullPageModalExpGroup:e.group,inDwebSocialModalUpdateExp:t.anyEnabled,dWebSocialModalUpdateExpGroup:t.group,inDwebUnauthRelatedPinsLimitExp:l.anyEnabled,unauthDwebRelatedPinsLimitGroup:l.group,inDwebUnauthSocialPinLandingExp:a.anyEnabled,unauthDwebSocialPinLandingGroup:a.group,inMwebUnauthRelatedPinsLimitExp:r.anyEnabled,unauthMwebRelatedPinsLimitGroup:r.group,inMwebUnauthSocialPinLandingSecondaryUpsellExp:s.anyEnabled,unauthMwebSocialPinLandingSecondaryUpsellGroup:s.group,inMwebSocialFeatureEducationExp:o.anyEnabled,mwebSocialFeatureEducationExpGroup:o.group,inMwebLoginSignupPageExp:d.anyEnabled,unauthMwebLoginSignupPageExpGroup:d.group,showMwebDefaultModalUpsellOnLand:L}},[i,n,C,M,P,x,O,Z,L]),Q=P||x,X="default";"enabled_popover_profile"===H?X="default_with_sender_recent_pins":J&&(X="default_with_social_feature_education");let ee=(0,u.Z)(Q?{name:"InviteCodeMetadataResource",options:{invite_code:Q,field_set_key:X}}:null),et=ee.isLoaded?ee.data:null;(0,a.useEffect)(()=>{if(et){let e=et.sender??null,t=k&&e.id!==w.id&&e?.should_show_messaging&&w.should_show_messaging;if(C&&e){let t=null,n=null;B||F||z?(t={inviterAvatarUrl:G?e.image_large_url||e.image_medium_url||"":e.image_medium_url||"",inviterName:e.first_name||e.full_name,expGroup:H,inviterRecentPins:"enabled_popover_profile"===H&&e.recent_pin_images?.["222x"]||[],inviterUsername:"enabled_popover_profile"===H&&e.username||""},F&&(t.socialModalUpdateExpGroup=F),z&&(t.limitedRelatedPinsExpGroup=z)):D?n={inDwebFullPageModalExp:D,isFullPageModalDismissed:T,setIsFullPageModalDismissed:R}:t=[5,9,12,16].includes(et.invite_channel)?null:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name},A({key:g,data:{inviter:e,popoverData:t,modalData:n}})}else if(M&&e){let t=L||V;if(t||Y||J){let n={inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,showDefaultUpsell:!!t};W&&(n.secondaryExpGroup=$),V&&(n.limitedRelatedPinsExpGroup=V),J&&!e.is_private_profile&&(n.socialFeatureEducationExpGroup=q),Y&&(n.loginSignupPageExpGroup=K),A({key:m,data:{upsellData:n}})}}else t&&!S?A({key:b,data:{toastData:{inviter:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,inviterId:e.id},viewer:{viewerId:w.id||""},pin:{pinId:I}}}}):t&&S&&A({key:f,data:{toastData:{inviter:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,inviterId:e.id},viewer:{viewerId:w.id||""},pin:{pinId:I}}}})}else A({key:"",data:null})},[et,k,S,I,w,D,N,U,F,G,z,B,M,H,C,j,V,W,$,J,q,Y,K,T,L]);let en=(0,a.useMemo)(()=>E,[E]);return(0,h.jsx)(y,{value:en,children:e})},S=({children:e})=>((0,a.useEffect)(()=>{(0,i.Z)("SocialPinLandingPageContext","/app/www/lib/SocialPinLandingPageContext.tsx")},[]),(0,h.jsx)(w,{children:(0,h.jsx)(k,{children:e})})),P=()=>{let e=(0,a.use)(y);return e.key===g?e:null},x=()=>{let e=(0,a.use)(y);return e.key===m?e:null},I=()=>{let e=(0,a.use)(y);return e.key===b?e:null},E=()=>{let e=(0,a.use)(y);return e.key===f?e:null},A=()=>(0,a.use)(v)},248481:function(e,t,n){n.d(t,{G3:()=>c,Rp:()=>u,kp:()=>d});var i=n(4533),a=n(15881),l=n(375181),r=n(34550),s=n(418282);let o=14*l.F4,d=(e,t)=>{let n=function(){let e=Date.now(),t=(0,r.M0)(),n=Number(t.getItem(i.Li)??null);return{currentTime:e,firstUpsellTime:Number(t.getItem(i.O7)??null),lastUpsellTime:n,showedAppUpsellCurrentSession:!!(0,s.Nl)().getItem(a.JO)}}();return e?function(e,t,n){let{currentTime:a,firstUpsellTime:l,lastUpsellTime:s,showedAppUpsellCurrentSession:d}=e;return(n=n||o,!l||a<l+t)?!d:a-s>n&&((0,r.M0)().removeItem(i.O7),!0)}(n,l.F4):function(e,t){let{currentTime:n,lastUpsellTime:i}=e;return t=t||o,!i||n-i>t}(n,t)},u=({isBot:e,platform:t,userAgent:n})=>{try{return!e&&"android"===t&&7>parseFloat((e=>{let t=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return t?t[1]:void 0})(n))}catch(e){return!1}},c=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},99672:function(e,t,n){n.d(t,{E:()=>r,S:()=>s});var i=n(667294),a=n(4533),l=n(34550);let r=e=>{let t=(0,l.M0)();e?t.setItem(a.rd,1):t.removeItem(a.rd)},s=()=>{let[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{t(!0)},[]),e&&((0,l.M0)().getItem(a.rd)??!1)}},818906:function(e,t,n){n.d(t,{$:()=>c,Z:()=>_});var i=n(667294),a=n(581722),l=n(4533),r=n(15881),s=n(127078),o=n(784548),d=n(34550),u=n(418282);let c=2,p=e=>e.length?{pins:e}:null,_=()=>{let e,t=(0,d.M0)(),n=(0,a.I0)(),_=(0,s.hO)(),h=Array.isArray(_)&&_.length>0?_.map(e=>({id:e.id,imageUrl:e.imageUrl,nodeId:null})):(e=u.ZP.getItem(r.w3),e?.pins??[]),g=h.map(e=>e.id).join(","),m=(0,i.useMemo)(()=>h,[g]),f=e=>{t.accessAllowed?t.setItem(l.s1,p(e)):u.ZP.setItem(r.w3,p(e)),n((0,o.pv)(e.map(e=>({id:e.id,imageUrl:e.imageUrl,ts:Date.now()}))))},b=()=>m.length<c;return{pins:m,save:e=>{b()&&f(m.filter(({id:t})=>t!==e.id).concat([e]))},unsave:e=>{f(m.filter(({id:t})=>t!==e))},isSaved:e=>m.some(({id:t})=>t===e),clear:()=>{f([])},canSaveMore:b}}},39722:function(e,t,n){n.d(t,{B:()=>d,m:()=>o});var i=n(667294),a=n(312048),l=n(213491),r=n(785893);let{Provider:s,getMaybe:o}=(0,l.Z)("NotifDetailRepinContext");function d({children:e}){let[t,n]=(0,i.useState)(Object.freeze({})),[l,o]=(0,i.useState)(!1),[d,u]=(0,i.useState)(!1),c=(0,a.TH)(),p=(0,i.useMemo)(()=>{let e=/^\/pin\/\d+\/repin\/?$/,i=/^\/news_hub\/\d+\/?$/;return{isSaved:e=>!!t[e],save:e=>{d&&n(t=>({...t,[e]:!0}))},reset:()=>{let t=window?.location.pathname||"";i.test(t)||e.test(t)||(n(Object.freeze({})),o(!1),u(!1))},isInNewsHubQuickSaveExpAndNewsHubPage:()=>{let e=c.pathname||"";return i.test(e)&&l},inNewsHubQuickSaveExp:l,setInNotifDetailPage:u,setInNewsHubQuickSaveExp:o}},[t,l,d,c]);return(0,r.jsx)(s,{value:p,children:e})}},394382:function(e,t,n){n.d(t,{_T:()=>o,lp:()=>d,xY:()=>u});var i=n(667294),a=n(213491),l=n(501010),r=n(785893);let{Provider:s,get:o,getMaybe:d}=(0,a.Z)("HomeFeedTuner");function u({children:e}){let[t,n]=(0,i.useState)(!1),[a,o]=(0,i.useState)(!1),[d,u]=(0,i.useState)(!1),{checkExperiment:c}=(0,l.Z)(),p=(0,i.useMemo)(()=>c("mweb_ap_res_user_in_grid_feedback",{dangerouslySkipActivation:!0}).anyEnabled,[c]),_=(0,i.useCallback)(()=>{p&&n(!0)},[p]),h=(0,i.useCallback)(()=>{n(!1)},[]),g=(0,i.useCallback)(()=>{p&&o(!0)},[p]),m=(0,i.useCallback)(()=>{o(!1)},[]),f=(0,i.useCallback)(()=>{u(!0)},[]),b=(0,i.useCallback)(()=>{u(!1)},[]),v=(0,i.useMemo)(()=>({shouldRefreshHomefeed:t,markForRefresh:_,clearRefreshFlag:h,cameFromRefineButton:a,markCameFromRefineButton:g,clearCameFromRefineButton:m,cameFromRefineRecommendationsLink:d,markCameFromRefineRecommendationsLink:f,clearCameFromRefineRecommendationsLink:b}),[t,a,d,_,h,g,m,f,b]);return(0,r.jsx)(s,{value:v,children:e})}},500912:function(e,t,n){n.d(t,{Q:()=>o,n:()=>s});var i=n(667294),a=n(213491),l=n(785893);let{Provider:r,getMaybe:s}=(0,a.Z)("RepinContext");function o({children:e}){let[t,n]=(0,i.useState)(Object.freeze({})),a=(0,i.useMemo)(()=>({getSavedPinId:e=>t[e],isSaved:e=>!!t[e],save:(e,t)=>n(n=>({...n,[e]:t})),unsave:e=>n(t=>({...t,[e]:null}))}),[t]);return(0,l.jsx)(r,{value:a,children:e})}},36351:function(e,t,n){n.d(t,{Z:()=>c});var i=n(686659),a=n(667294),l=n(399353),r=n(470205),s=n(24246),o=n(825605),d=n(785893);let u=(0,a.lazy)(()=>Promise.all([n.e("71795"),n.e("37408")]).then(n.bind(n,794961)));function c(e){(0,a.useEffect)(()=>{(0,i.Z)("SendObjectLoader","/app/www/sending/SendObjectLoader.tsx")},[]);let t=(0,s.Z)();return(0,d.jsx)(r.Z,{name:"SafeSuspense_SendObjectLoader_SendObjectWrapper",children:(0,d.jsx)(o.Z,{fallback:(0,d.jsx)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,width:"100%",children:(0,d.jsx)(l.xH,{accessibilityLabel:t._('Loading sharing', 'Accessibility label for loading sharing UI', 'Accessibility label for loading sharing UI'),show:!0})}),children:(0,d.jsx)(u,{...e})})})}},636953:function(e,t,n){n.d(t,{Z:()=>l});var i=n(667294),a=n(767415);function l(e){let t=(0,i.useRef)({kind:"NotOver"}),n=(0,i.useCallback)(()=>{"NotOver"===t.current.kind&&(t.current={kind:"OverButNotClicked",mousedOverAt:Date.now()})},[]),l=(0,i.useCallback)(()=>{"OverButNotClicked"===t.current.kind&&((0,a.LY)("entrypointRouter.timeOnLinkUntilMouseOut",Date.now()-t.current.mousedOverAt,{sampleRate:.1,tags:{key:e}}),(0,a.nP)("entrypointRouter.mouseOverResult",{sampleRate:.1,tags:{key:e,outcome:"MouseOut"}})),t.current={kind:"NotOver"}},[e]);return{onClick:(0,i.useCallback)(()=>{"OverButNotClicked"===t.current.kind&&((0,a.LY)("entrypointRouter.timeOnLinkUntilClick",Date.now()-t.current.mousedOverAt,{sampleRate:.1,tags:{key:e}}),(0,a.nP)("entrypointRouter.mouseOverResult",{sampleRate:.1,tags:{key:e,outcome:"Click"}}),t.current={kind:"OverAndHasClicked"})},[e]),onMouseEnter:n,onMouseLeave:l}}},484807:function(e,t,n){function i({children:e,metricName:t}){let n=void 0;return n&&n.serverRenderTimings&&!n.serverRenderTimings[t]&&(n.serverRenderTimings[t]=Date.now()),e}n.d(t,{Z:()=>i}),(0,n(701943).kr)()}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/36010-e6167c2a8f0b21f6.mjs.map