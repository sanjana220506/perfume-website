(self.modernJsonp=self.modernJsonp||[]).push([["21590"],{437993:function(e,t,n){n.d(t,{$A:()=>h,B4:()=>w,N0:()=>I,N3:()=>R,VK:()=>v,_J:()=>T,mW:()=>E});var i=n(686659),a=n(667294),r=n(360033),o=n(160927),s=n(767415),l=n(785893);let d={},u={},c={},m=!1,_=0,f={},g={},p=(0,a.createContext)({setMetric:()=>void 0,setRawData:()=>void 0,setRmaData:()=>void 0,updateCommitTimeMap:()=>void 0,setGroupTags:()=>void 0,commitTimeMap:{},wasHealthCheckFiredRef:{current:!1}});function E({children:e}){(0,a.useEffect)(()=>{(0,i.Z)("RenderPerformanceContext","/app/common/react/components/ProfilerWithStats/RenderPerformanceContext.tsx")},[]);let t=(0,a.useRef)(!1),n=(0,a.useCallback)(({handlerId:e,componentId:t,uniqueId:n,metric:i})=>{d[e]||(d[e]={}),d[e][t]||(d[e][t]={}),d[e][t][n]=i},[]),o=(0,a.useCallback)(({handlerId:e,componentId:t,uniqueId:n,rawData:i})=>{c[e]||(c[e]={}),c[e][t]||(c[e][t]={}),c[e][t][n]||(c[e][t][n]=[]),c[e][t][n].push(i)},[]),s=(0,a.useCallback)(({id:e,path:t,fragmentName:n,executionTime:i,newData:a})=>{if(m)return;let o=`${n}.${e}`;u[t]||(u[t]={}),u[t][o]||(u[t][o]={totalRenderTime:0,previousData:{},renderCount:0,resultUpdatedCount:0,wastedTime:0});let s=u[t][o];(0,r.ZP)(a,s.previousData)?(s.wastedTime+=i,_+=i):s.resultUpdatedCount+=1,s.totalRenderTime+=i,s.renderCount+=1,s.previousData=a},[]),E=(0,a.useCallback)((e,t)=>{let n=`${Math.floor(e)}`;f[n]?f[n].push(t):f[n]=[t]},[]),v=(0,a.useCallback)((e,t)=>{g[e]=[...new Set(t)]},[]),h=(0,a.useMemo)(()=>({setMetric:n,setRawData:o,setRmaData:s,updateCommitTimeMap:E,setGroupTags:v,commitTimeMap:f,wasHealthCheckFiredRef:t}),[n,s,o,E,t,v]);return(0,l.jsx)(p,{value:h,children:e})}function v(){return(0,a.use)(p)}function h(e){let t={},n=function(){let e=Object.keys(f),t=e.length,n=e.sort().slice(0,t),i={};return n.forEach(e=>{let t=f[e];if(!t)return;let n=t.sort((e,t)=>e.startTime-t.startTime);for(let e=0;e<n.length;e+=1){let t=n[e],a=n[e+1];if(t&&a){let{startTime:e,id:n,uniqueId:r,actualDuration:o}=t,{startTime:s}=a,l=s<e+o?s-e:o;i[n]||(i[n]={}),i[n][r]||(i[n][r]=0),i[n][r]+=l}else if(t){let{actualDuration:e,id:n,uniqueId:a}=t;i[n]||(i[n]={}),i[n][a]||(i[n][a]=0),i[n][a]+=e}}}),i}();return Object.keys(n).forEach(i=>{Object.keys(d[e]?.[i]??{}).forEach(a=>{let r=(0,o.v5)(i,a),s=n[i]?.[a],l=d[e]?.[i]?.[a];if(!s||!l)return;let u=l.mountTime??0,c=l.mountCount??0,m=l.updatesCount??0,_=Number(s.toFixed(2)),f=Number((u+_).toFixed(2)),p=m>0?Number((_/m).toFixed(2)):0,E=l.memoizationDeltaArray??[],v=Math.max(...E),h=E.reduce((e,t)=>e+t,0)/E.length,w=l.memoizationRatioArray??[],R=Math.max(...w),T=w.reduce((e,t)=>e+t,0)/w.length,I={...l,totalCount:c+m,totalTiming:f,updatesCount:m,updateTiming:_,averageUpdateTiming:p,maxMemoizationDelta:v,averageMemoizationDelta:h,maxMemoizationRatio:R,averageMemoizationRatio:T};t[i]||(t[i]={}),t[i][a]={groupTags:g[r]??[],metrics:I}})}),t}function w(e){return c[e]}function R(e){return["www/index.js","www/homefeed.js","www/pin/[id].js"].includes(e)}function T(e){let t=u[e],n={};m=!0,t&&Object.keys(t).length&&R(e)&&(Object.entries(t).forEach(([e,t])=>{let[i]=e.split(".");i&&!n[i]&&(n[i]=!0,(0,s.QX)(`render_stats.rma.${i}.renderCount`,t.renderCount,{sampleRate:1}),(0,s.QX)(`render_stats.rma.${i}.resultUpdatedCount`,t.resultUpdatedCount,{sampleRate:1}),(0,s.LY)(`render_stats.rma.${i}.renderTime`,t.totalRenderTime,{sampleRate:1}),(0,s.LY)(`render_stats.rma.${i}.wastedTime`,t.totalRenderTime,{sampleRate:1}))}),(0,s.LY)("render_stats.rma.totalWastedTime",_,{sampleRate:1,tags:{path:e}}))}function I(){d={},u={},c={},f={},m=!1,_=0}},360033:function(e,t,n){function i(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i+=1)if(!r(e[i],t[i],n+1))return!1;return!0}function a(e,t,n){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let i in e)if(!(i in t)||!r(e[i],t[i],n+1))return!1;return!0}function r(e,t,n){if(n>=1e3)return!1;if(e===t)return!0;if(null==e||null==t||"object"!=typeof e&&"object"!=typeof t)return e!=e&&t!=t;let r=Object.prototype.toString.call(e);if(r!==Object.prototype.toString.call(t))return!1;switch(r){case"[object Array]":return i(e,t,n);case"[object Set]":return i(Array.from(e).sort(),Array.from(t).sort(),n);case"[object Object]":case"[object Arguments]":return a(e,t,n);case"[object Map]":return a(Object.fromEntries(e),Object.fromEntries(t),n);case"[object RegExp]":return e+""==t+"";case"[object Error]":return e.name===t.name&&e.message===t.message;default:return!1}}function o(e,t){return r(e,t,0)}n.d(t,{ZP:()=>o})},806513:function(e,t,n){n.d(t,{$H:()=>s,$q:()=>w,$u:()=>a,Az:()=>c,Cw:()=>b,D6:()=>u,GZ:()=>I,Ke:()=>h,Lo:()=>r,P2:()=>p,TS:()=>T,Wv:()=>R,ZZ:()=>_,g5:()=>f,jC:()=>l,lX:()=>g,oX:()=>E,qG:()=>v,tG:()=>o,yF:()=>i,yc:()=>m,yt:()=>d});let i=236,a=270,r=157.33333333333334,o=175,s=24,l=4,d=8,u=2,c=8,m=2,_=14,f=16,g=16,p=24,E=16,v=-1,h=2,w=(e=!1,t=!1)=>e?t?g:12:p,R=({defaultItemWidth:e,contentVisibleItemCount:t,gap:n,moduleWidth:i})=>t||i?(i-((Math.ceil(t)+1)*n+8))/t:e,T=(e,t,n)=>{let a=n?3:2,r=t?5:a,s=t?i:o,l=t?E:d,u=s*r+l*r-(t||!t&&n?12:6);if(!e)return u;for(let t=r;t>=2;t-=1)if(e>u)break;else u=s*t+l*t;return u};function I(e){let t=Object.values(e.videos?.video_list??{}).find(e=>"number"==typeof e.width&&"number"==typeof e.height);return t?{width:t.width,height:t.height}:{width:0,height:0}}function b(e){return!!(e&&"is_premiere"in e&&e.is_premiere&&"videos"in e&&e.videos)}},970414:function(e,t,n){function i(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>o});let a=new class{constructor(){i(this,"onResumeListeners",[]),i(this,"onPauseListeners",[]),i(this,"inExp",!1),i(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(t=>t!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(t=>t!==e)}},r=e=>{if(e.isHidden){let{reason:t}=e;a.windowInFocus=!1,a.onPauseListeners.forEach(e=>e(t))}else a.windowInFocus=!0,a.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>r({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>r({isHidden:!1})),window.addEventListener("blur",()=>r({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>r({isHidden:!1})),window.addEventListener("pagehide",()=>r({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>r(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>r(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let o=a},906127:function(e,t,n){n.d(t,{Z:()=>l});var i=n(867342),a=n(667294),r=n(484243),o=n(479901),s=n(617120);function l({children:e,isAtEndOfFeed:t,pinData:n,itemCount:l,includeBackgroundImages:d=!1,includeVideos:u=!1,includeSections:c=!1,isPlaceholderGrid:m,stopwatchSetVisuallyCompleteResult:_,stopwatchContext:f}){let{isAuthenticated:g}=(0,s.bC)();g||(c=!0),(0,i.Z)({pinData:n,isAtEndOfFeed:t,includeBackgroundImages:d,includeVideos:u,includeSections:c,isPlaceholderGrid:m,stopwatchSetVisuallyCompleteResult:_,stopwatchContext:f});let p=(0,a.useRef)(null),E=(0,o.P9)();return(0,a.useEffect)(()=>{l!==p.current&&(p.current=l,E&&(0,r.Z)("masonryPagination"))},[E,l]),e}},87980:function(e,t,n){n.d(t,{F9:()=>d,LM:()=>l,VZ:()=>r,cQ:()=>u,rZ:()=>o});var i=n(397345),a=n(705460);let r=()=>"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&!!document.querySelector&&!!document.querySelectorAll,o=e=>e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null,s=e=>{if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;let t=((e.style||{}).backgroundImage||"").match(/^url\(["'](.*)["']\)$/);return t&&t[1]||null},l=()=>document.querySelector?document.querySelectorAll(i.wc).length:((0,a.H)("missing_document_query_selector"),0),d=()=>{let e=(()=>{if(!document.querySelector)return(0,a.H)("missing_document_query_selector"),null;let e=document.querySelectorAll(i.wc);return e[e.length-1]||null})();if(!e)return!1;let t=window.innerHeight||0,n=window.pageYOffset||0;return e.getBoundingClientRect().top+n>=t},u=(e,t,n)=>{if(!document.querySelector)return(0,a.H)("missing_document_query_selector"),[];let r={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},l=[i.Wf,...e?[i.fF]:[],...t?[i.$N]:[]].join(","),d=[...document.querySelectorAll(l)];if(n){let e=[...document.querySelectorAll('div[data-test-id="board-section"]')],t=e=>{let n=[...e.children];!n.length&&e.style.backgroundImage?d.push(e):n.length&&n.forEach(e=>{t(e)})};e.forEach(e=>{t(e)})}return d.reduce((e,n)=>{if((n instanceof HTMLImageElement||n instanceof HTMLDivElement||n instanceof HTMLVideoElement&&t)&&((e,t)=>{let n=o(e);if(!n)return(0,a.H)("missing_client_rect"),!1;if(n.width<70&&n.height<70){if(e instanceof HTMLImageElement)return!1;let t=s(e);if(t?.endsWith("svg"))return!1}return(({top:e,height:t},{foldY:n,pageYOffset:i})=>{let a=e+i;if(a>=n)return!1;let r=Math.min(t,n-a);return r>.5*t||r>.2*n})(n,t)})(n,r)){let t=s(n);if(t){let i=(t||"").replace(/.*\//,"");return e.concat([{element:n,fileName:i}])}}return e},[])}},397345:function(e,t,n){n.d(t,{$N:()=>l,Kb:()=>i,Wf:()=>o,fF:()=>s,wc:()=>r});let i="pwt-grid-item",a=['div[data-grid-item="true"]',"div.Grid__Item",`div[data-test-id="${i}"]`],r=a.join(","),o=a.map(e=>`${e} img`).join(","),s=a.map(e=>`${e} div[style*=background-image]`).join(","),l=a.map(e=>`${e} video`).join(",")},867342:function(e,t,n){n.d(t,{Z:()=>p,v:()=>g});var i=n(667294),a=n(774303),r=n(87980),o=n(705460),s=n(591048),l=n(482070),d=n(484243),u=n(956712),c=n(23641),m=n(479901),_=n(767415);let f=(0,a.XV)("GridProfiler"),g=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,r.VZ)();function p({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:n,includeVideos:g=!1,includeSections:p,isPlaceholderGrid:E,stopwatchSetVisuallyCompleteResult:v,stopwatchContext:h}){let w=(0,m.P9)(),[R,T]=(0,i.useState)({status:"DISABLED"});(0,i.useEffect)(()=>{T({status:"LAYOUT",failedCount:0,numOfItemsChecked:0})},[w]),(0,i.useEffect)(()=>{if(f("new status",R),"LAYOUT"===R.status){let e=((e,t)=>{let n=()=>{window.removeEventListener(e,n),t()};return window.addEventListener(e,n),()=>window.removeEventListener(e,n)})("scroll",()=>{(0,d.Z)("scrollDuringLayout")});return()=>{e()}}return()=>{}},[R.status]),((e,t)=>{let n=(0,i.useRef)(()=>{});(0,i.useEffect)(()=>{n.current=e},[e]),(0,i.useEffect)(()=>{if(null===t)return()=>{};let e=setInterval(()=>n.current(),t);return()=>clearInterval(e)},[t])})(()=>{let i=(0,m.Ly)(),d=()=>{},w=e=>{(0,l.Z)(e),h&&h?.abort()};"unknown"!==i?d=c.rt:(i=`${h?.name}`,h?.addBinaryAnnotation&&(d=h?.addBinaryAnnotation));let I=(0,r.cQ)(n,g,p);if(E)return void f("bypassing PWT run due to skeleton pin grid");switch(R.status){case"LAYOUT":{let t=((e,t)=>{if(!t){let t=(0,r.LM)();if(t===e)return f("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,r.F9)())return f("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}})(R.numOfItemsChecked,e);t.complete?T({status:"TIMING",failedCount:0,pinElements:I}):500*R.failedCount>6e4?((0,o.A9)(`images.${i}.visuallyComplete.maxLayoutAttempt`),w("visuallyComplete_layoutTimeout"),T({status:"DISABLED"})):T({...R,failedCount:R.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{let e=(0,s.Cg)(),n=R.pinElements.length,r=[],l=0,c=0,m=0,g=1/0,p=0;if(R.pinElements.forEach(({element:t,fileName:n})=>{let o=e.find(e=>e.name.endsWith(n));o?o.responseEnd?(r.push(o),(0,a.v5)(t,"green"),"SEARCH_FEED_RENDER"===i&&(g=Math.min(g,o.requestStart),p=Math.max(p,o.responseEnd))):(m+=1,(0,a.v5)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(c+=1,(0,a.v5)(t,"red")):(l+=1,(0,a.v5)(t,"greenyellow"))}),l||m)100*R.failedCount>6e4?((0,o.A9)(`images.${i}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:n,incompleteCount:l,noTimingCount:c,noTimingResponseEndCount:m}}),w("visuallyComplete_timingTimeout"),T({status:"DISABLED"})):T({...R,failedCount:R.failedCount+1});else{if(f(`All ${r.length} images are fetched`),t&&t.length){var b,L;let e,n,a,r,s,l=(b=t,L=R.pinElements,e=0,n=0,a=0,r=0,s=0,b=b.filter(e=>"pin"===e.type),L.forEach((t,i)=>{let o,l=t.fileName.split(".")[0];o=b[i],l!==o?.image_signature&&(o=b.find(e=>l===e?.image_signature)),void 0===o?s+=1:o.is_promoted||o.recommendation_reason?.reason==="PROMOTED_PIN"||o?.promoter?.length?a+=1:null!==o.story_pin_data_id&&void 0!==o.story_pin_data_id?e+=1:o?.videos?.video_list?n+=1:r+=1}),{storyPinCount:e,videoCount:n,adCount:a,imageCount:r,unknownCount:s});if(Object.entries(l).forEach(([e,t])=>{d(e,t,"I16"),(0,u.XJ)(e,t,"I16")}),(0,o.A9)(`${i}.pinTypes`,{tags:l}),"SEARCH_FEED_RENDER"===i){let e=p-g;t[0].display_options?.num_columns_requested===0?(0,_.LY)("full_width_story_image_fetch_time_true",e,{sampleRate:1}):(0,_.LY)("full_width_story_image_fetch_time_false",e,{sampleRate:.05})}}(({imageTimings:e})=>{v&&v(),(0,u.cB)(e)})({imageTimings:r}),T({status:"DISABLED"}),(0,o.A9)(`images.${i}.visuallyComplete.complete`,{tags:{totalImageCount:n,noTimingCount:c}})}}}},"LAYOUT"===R.status&&500||"TIMING"===R.status&&100||null)}},160927:function(e,t,n){function i(e,t){return`${e}#${t}`}function a(e,t,n){return`${i(e,t)}${n.length>0?`#[${n.join("][")}]`:""}`}n.d(t,{pp:()=>a,v5:()=>i})},482070:function(e,t,n){n.d(t,{Z:()=>d});var i=n(267398),a=n(217472),r=n(712655),o=n(547314),s=n(479901),l=n(617120);function d(e){if(!(0,r.Z)())return;let t=(0,s.Of)();if(t){let n=[...(0,s.pX)(),...t.annotateExperiments||[]],r=(0,s.e)();(0,o.T0)({abortReason:e,pwtName:t.name,annotateExperiments:n}),r.forEach(e=>{(0,o.yi)(e,t?.name)});let d=(0,l.bC)(),u={type:"surface",surface:t.name,id:t.id,navigationType:(0,s.fC)(),isAuthenticated:d.isAuthenticated},c=(0,i.N)({reason:e,annotateExperiments:n,annotations:{},binaryAnnotations:(0,s.fI)(),constraintMap:(0,s.xY)(),endTime:performance.now(),imageTimings:(0,s.h)(),isV4Logger:!0,metricId:u,pwtMeasures:(0,s.zU)(),pwtStaticContext:d,startTime:(0,s.Eq)(),traceId:(0,s.Wj)(),spans:[]});(0,o.qu)(`Abort ${t.name} PWT. Abort reason: ${e}`),(0,o.qu)("Result:",c),(0,a.Z)({metricId:u,pwtStaticContext:d,result:c,isV4Logger:!0,annotateExperiments:n}),(0,s.mn)()}}},344316:function(e,t,n){n.d(t,{Z:()=>o});var i=n(617120);let a=!1,r=null;function o(e){if(a)return;r=e;let t=window.innerHeight,n=window.innerWidth,o=()=>{let e=(0,i.bC)(),s=Math.abs(window.innerHeight-t),l=window.innerHeight!==t,d=window.innerWidth!==n;if("phone"===e.deviceType&&(!d&&l&&s<=150||!l&&!d)||"desktop"===e.deviceType&&!l&&!d){window.removeEventListener("resize",o),a=!1;return}r?.("windowResized"),window.removeEventListener("resize",o),a=!1};window.addEventListener("resize",o),a=!0}},447982:function(e,t,n){n.d(t,{Z:()=>o});var i=n(712655),a=n(547314),r=n(479901);function o(e,t,n){let o;if((0,i.Z)()){switch(n){case"BOOL":o={type:"BOOL",value:"boolean"==typeof t?t:null};break;case"STRING":o={type:"STRING",value:"string"==typeof t?t:null};break;case"I16":case"I32":case"I64":o={type:n,value:"number"==typeof t?t:null};break;default:(0,a.qu)("Invalid binary annotation type");return}if(null===o.value)return void(0,a.qu)("Invalid binary annotation value");(0,r.an)(e,o),(0,a.qu)(`Add binary annotation: { ${e}: ${o.value} }`)}}},886063:function(e,t,n){n.d(t,{Z:()=>l});var i=n(712655),a=n(547314),r=n(479901),o=n(689784),s=n(178355);function l(e,t){if(!(0,i.Z)())return;let n=(0,r.Of)();if(n){let i=(0,r.e)(),l=i.indexOf(e);l>-1&&((0,r.a7)()<t&&(0,r.cg)(t),(0,r.xb)(e,t),(0,a.eR)(i[l],n?.name),(0,a.$v)({eventName:`${n?.name}.constraint.${e}`,value:t}),(0,a.$v)({eventName:`constraint.${e}`,value:t,tags:{handler:(0,s.H)()}}),(0,a.qu)(`Complete constraint: ${e} at ${Math.floor(t)}ms`),(0,o.Z)(e))}else{let n=(0,r.Gf)();n[e]||(n[e]=t)}}},208622:function(e,t,n){n.d(t,{F:()=>d,Z:()=>l});let i=[{handler:"sterling/advertiser/[advertiserId]/audiences.js",config:{dWeb:{auth:{clientNavigation:{name:"STERLING_AUDIENCES_PAGE_USER_NAV",id:224,constraints:["NavigationCompletev4","audiencesTableRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/ads/edit.js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_ADSEDIT_MAIN_PAGELOAD",id:204,constraints:["NavigationCompletev4","editFlowRendered"]},clientNavigation:{name:"STERLING_EDIT_FLOW_USER_NAV",id:225,constraints:["NavigationCompletev4","editFlowRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/ads/create.js","sterling/advertiser/[advertiserId]/ads/duplicate.js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_ADSCREATE_MAIN_PAGELOAD",id:204,constraints:["NavigationCompletev4","createFlowRendered"]},clientNavigation:{name:"STERLING_ADSCREATE_USER_NAV",id:233,constraints:["NavigationCompletev4","createFlowRendered"]}}}}},{handler:"sterling/advertiser/[advertiserId]/reporting/[entityType].js",config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_REPORTING_DETAILS_PAGELOAD",id:218,constraints:["NavigationCompletev4","reportingTableRendered","reportingMetricsGraphDataFetched"]},clientNavigation:{name:"STERLING_REPORTING_DETAILS_USER_NAV",id:227,constraints:["NavigationCompletev4","reportingTableRendered","reportingMetricsGraphDataFetched"]}}}}},{handler:"sterling/advertiser/[advertiserId].js",config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_REPORTING_OVERVIEW_PAGELOAD",id:219,constraints:["NavigationCompletev4","activeCampaignsTableRendered","accountActivityRendered"]},clientNavigation:{name:"STERLING_REPORTING_OVERVIEW_USER_NAV",id:226,constraints:["NavigationCompletev4","activeCampaignsTableRendered","accountActivityRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/bulk_editor/[page].js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_BULKEDITOR_HISTORY_PAGELOAD",id:231,constraints:["NavigationCompletev4","bulkHistoryRendered"]},clientNavigation:{name:"STERLING_BULKEDITOR_HISTORY_USER_NAV",id:232,constraints:["NavigationCompletev4","bulkHistoryRendered"]}}}}}],a=[{handler:["www/pin/[id]/sent.js","www/pin/[id].js"],config:{mWeb:{unauth:{initialPageLoad:{name:"PIN_PAGE_INTERACTIVE",id:113,constraints:["ReduxStoreInitialized","PinPageMainImageRendered"]},clientNavigation:{name:"client_route_push_unauth_pin",id:null,constraints:["PinPageMainImageRendered"]}},auth:{initialPageLoad:{name:"initial_page_load_auth_pin",id:null,constraints:["ReduxStoreInitialized","PinPageMainImageRendered"],annotateExperiments:["auth_mweb_graphql_pin_page"]},clientNavigation:{name:"PIN_CLOSEUP_DETAILS",id:13,constraints:["PinPageMainImageRendered"],annotateExperiments:["auth_mweb_graphql_pin_page","closeup_dweb_side_by_side_redesign_fast_follow"]}}},dWeb:{unauth:{initialPageLoad:{name:"PIN_PAGE_INTERACTIVE",id:113,constraints:["ReduxStoreInitialized","PinPageMainImageRendered"]},clientNavigation:{name:"client_route_push_unauth_pin",id:null,constraints:["PinPageMainImageRendered"]}},auth:{initialPageLoad:{name:"initial_page_load_auth_pin",id:null,constraints:["ReduxStoreInitialized","image","resource","button"],segments:{product_detail_page:"PRODUCT_DETAILS_INTERACTIVE",product_detail_page_plus:"PRODUCT_DETAILS_PLUS_INTERACTIVE"}},clientNavigation:{name:"PIN_CLOSEUP_DETAILS",id:13,constraints:["button","video","description","shopButton","thumbnailsLoaded","image","resource"],segments:{story_pin:"STORY_PIN_CLOSEUP",product_detail_page:"PRODUCT_DETAILS_RENDER",product_detail_page_plus:"PRODUCT_DETAILS_PLUS_RENDER"}}}}}},{handler:["www/index.js","www/homefeed.js"],config:{unified:{auth:{initialPageLoad:{name:"HOME_FEED_PINTERACTIVE",id:19,constraints:["ReduxStoreInitialized","VisuallyComplete"],annotateExperiments:["web_sw_with_early_hydration","web_install_sw_on_unauth_landing","web_sw_without_workbox"]},clientNavigation:{name:"HOME_FEED_RENDER",id:2,constraints:["VisuallyComplete"]}}}}},{handler:"www/search/[scope].js",config:{unified:{auth:{clientNavigation:{name:"SEARCH_FEED_RENDER",id:3,constraints:["VisuallyComplete"]}}}}},{handler:"www/search.js",config:{mWeb:{auth:{clientNavigation:{name:"SEARCH_TAB_RENDER",id:25,constraints:["RenderSearchLandingPageBubbles"]}}}}},{handler:"www/[username]/[slug].js",config:{unified:{unauth:{initialPageLoad:{name:"BOARD_PAGE_INTERACTIVE",id:114,constraints:["ReduxStoreInitialized","VisuallyComplete"]}},auth:{initialPageLoad:{name:"initial_app_load_auth_board",id:null,constraints:["ReduxStoreInitialized","VisuallyComplete"]},clientNavigation:{name:"client_route_push_auth_board",id:null,constraints:["VisuallyComplete"]}}}}},{handler:"www/for-you/[boardId].js",config:{unified:{auth:{initialPageLoad:{name:"AUTOMAGICAL_BOARD_PAGE_INTERACTIVE",id:129,constraints:["ReduxStoreInitialized","VisuallyComplete"]}}}}},{handler:"www/ideas/[interest]/[id].js",config:{unified:{unauth:{initialPageLoad:{name:"TOPIC_PAGE_INTERACTIVE",id:119,constraints:["ReduxStoreInitialized","idea_module_loaded"]}}}}},{handler:"www/business/hub.js",config:{dWeb:{auth:{initialPageLoad:{name:"BIZHUB_PINTERACTIVE",id:607,constraints:["ReduxStoreInitialized"]},clientNavigation:{name:"BIZHUB_PAGE_RENDER",id:608,constraints:["NavigationCompletev4"]}}}}},{handler:"www/pin/[id]/visual-search.js",config:{dWeb:{auth:{initialPageLoad:{name:"VISUAL_SEARCH_PAGE_RENDER",id:44,constraints:["VisualSearchImageRender","VisualSearchFeedRender"]},clientNavigation:{name:"VISUAL_SEARCH_PAGE_RENDER",id:44,constraints:["VisualSearchImageRender","VisualSearchFeedRender"]}}}}},{handler:["www/[username].js","www/[username]/_boards.js","www/[username]/_created.js","www/[username]/_saved.js","www/[username]/_pins.js","www/[username]/_profile.js"],config:{unified:{auth:{initialPageLoad:{name:"OTHER_PROFILE_PAGE_LOAD",id:122,constraints:["ReduxStoreInitialized","VisuallyComplete"],segments:{self_profile:"SELF_PROFILE_PAGE_LOAD",other_profile_no_pins:"OTHER_PROFILE_NO_PINS_PAGE_LOAD",own_profile_no_pins:"OWN_PROFILE_NO_PINS_PAGE_LOAD",own_profile:"OWN_PROFILE_PAGE_LOAD"}},clientNavigation:{name:"OTHER_PROFILE",id:15,constraints:["VisuallyComplete"],segments:{self_profile:"SELF_PROFILE",own_profile:"OWN_PROFILE",own_profile_no_pins:"OWN_PROFILE_NO_PINS",other_profile_no_pins:"OTHER_PROFILE_NO_PINS"}}},unauth:{initialPageLoad:{name:"USER_PAGE_INTERACTIVE",id:115,constraints:["ReduxStoreInitialized","VisuallyComplete"]}}}}},{handler:"www/business/catalogs/[catalog_id]/data-sources.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_DATA_SOURCES_USER_NAV",id:228,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/product-groups.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_PRODUCT_GROUPS_USER_NAV",id:229,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/listings.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_LISTINGS_USER_NAV",id:230,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/products.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_LISTINGS_USER_NAV",id:230,constraints:["NavigationCompletev4"]}}}}},{handler:"www/collage-creation-tool.js",config:{dWeb:{auth:{initialPageLoad:{name:"COLLAGE_CREATION_PAGE_LOAD",id:130,constraints:["ReduxStoreInitialized","VisuallyComplete"]},clientNavigation:{name:"COLLAGE_CREATION_USER_NAV",id:53,constraints:["VisuallyComplete"]}}}}}];var r=n(547314),o=n(178355);let s=[...a,...i];function l({isAuthenticated:e,isInitialPageLoad:t,isMobile:n}){let i=(0,o.H)(),a=s.find(e=>Array.isArray(e.handler)?e.handler.includes(i):i===e.handler),l=a?.config,d=l?.unified;if(d||(d=n?l?.mWeb:l?.dWeb),d){let n=e?d.auth:d.unauth;if(n){if(t&&n.initialPageLoad)return(0,r.qu)("Found isInitialPageLoad config"),(0,r.qu)(n.initialPageLoad),{...n.initialPageLoad};else if(!t&&n.clientNavigation)return(0,r.qu)("Found clientNavigation config"),(0,r.qu)(n.clientNavigation),{...n.clientNavigation}}}return(0,r.qu)(`No config found for ${i} :(`),null}let d=({isAuthenticated:e,isInitialPageLoad:t,isMobile:n,segment:i})=>{let a=l({isAuthenticated:e,isInitialPageLoad:t,isMobile:n});return a?.segments?.[i]??null}},956712:function(e,t,n){n.d(t,{mn:()=>p,XJ:()=>o.Z,aA:()=>E,ZP:()=>w,Lg:()=>h,cB:()=>v});var i=n(482070),a=n(970414),r=n(344316),o=n(447982),s=n(484243),l=n(774254),d=n(712655),u=n(886063),c=n(208622),m=n(547314),_=n(448021),f=n(479901),g=n(617120);function p(){(0,m.qu)("Reset PWT configs"),(0,f.mn)(),(0,_.kA)()}function E(e){if(!(0,d.Z)())return;let t=(0,f.Of)(),n=(0,f.e)();t?((0,m.DM)(e,t.name),n.includes(e)||((0,f.gM)(e),(0,m.qu)(`Add constraint: ${e}`))):(0,m.jn)({errorName:"add_constraint_while_no_PWT_in_progress",errorDetailsTag:e})}function v(e){if(!(0,d.Z)())return;let t=(0,f.Of)(),n=(0,f.e)();if(t&&n.includes("VisuallyComplete"))if((0,m.qu)("Set visually complete result"),(0,m.qu)("Image resource timings: ",e),(0,f.TF)(e),0===e.length)(0,i.Z)("visuallyComplete_noImages");else{let t=Math.max(...e.map(e=>e.responseEnd||0));performance.mark("complete_constraint__VisuallyComplete",{startTime:t}),(0,l.Z)("constraint__VisuallyComplete",(0,f.Eq)(),t)}}function h(e){if(!(0,d.Z)())return;let t=(0,f.Of)(),n=(0,f.pX)(),i=(0,f.fC)();if(t&&t.name.toLowerCase()!==e.toLowerCase()){let a=[...n,...t.annotateExperiments||[]],{isAuthenticated:r,deviceType:o}=(0,g.bC)(),s=(0,c.F)({isAuthenticated:r,isInitialPageLoad:"initial_app_load"===i,isMobile:"phone"===o,segment:e});if(!s)return void(0,m.jn)({errorName:"segment_action_name_not_found",errorDetailsTag:e});(0,m.T0)({abortReason:"segmentChange",pwtName:t.name,annotateExperiments:a}),t.name=s,(0,m.qu)(`Set segment to ${e}. PWT action name: ${s}`),(0,m.sd)({pwtName:t.name,annotateExperiments:[...n,...t.annotateExperiments||[]]})}else(0,m.jn)({errorName:"set_segment_while_no_PWT_in_progress",errorDetailsTag:e})}function w({requestContext:e}){try{var t;if(!(0,d.Z)())return void(0,m.El)({eventName:"unsupportedPWTBrowser"});(0,m.El)({eventName:"supportedPWTBrowser"}),(0,r.Z)(i.Z),t=i.Z,a.Z.onSessionPause(()=>t("sessionPaused"));let e=new PerformanceObserver(e=>{e&&e.getEntries&&e.getEntries().forEach(e=>{if(e&&e.name&&!e.name.startsWith("--")){if(e.name.includes("complete_constraint__"))(0,u.Z)(e.name.split("complete_constraint__")[1]||"",e.startTime);else if(e.name.startsWith("pwt__")){let t=e.name.slice(5);(0,_.lj)()[t]||(0,_.fd)(t,{name:t,entryType:e.entryType,startTime:e.startTime,duration:e.duration})}}})});e.observe&&e.observe({type:"mark",buffered:!0});let n=new PerformanceObserver(e=>{e&&e.getEntries&&e.getEntries().forEach(e=>{if(e&&e.name&&!e.name.startsWith("--")){let t=(0,f.zU)();if(e.name.startsWith("pwt__")&&!t[e.name]){let t=e.name.slice(5);(0,f.LD)(t,{name:t,entryType:e.entryType,startTime:e.startTime,duration:e.duration})}}})});n.observe&&n.observe({type:"measure",buffered:!0});let o=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{let{rtt:t}=window.navigator.connection||{};if(t&&"number"==typeof t){let n=e.responseEnd-t/2;n>0&&(0,s.Z)("client_chunkEndTime",n)}(0,l.Z)("dom_complete",e.startTime,e.domComplete),(0,l.Z)("dom_interactive",e.startTime,e.domInteractive),(0,l.Z)("dom_content_loaded_event_end",e.startTime,e.domContentLoadedEventEnd),(0,l.Z)("load_event_end",e.startTime,e.loadEventEnd),(0,l.Z)("response_start",e.startTime,e.responseStart),(0,l.Z)("response_duration",e.responseStart,e.responseEnd)})});o.observe&&o.observe({type:"navigation",buffered:!0});let c=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{!(0,f.Yb)()[e.identifier]&&((0,f._A)(e.url,e),(e.identifier.includes("MainPinImage")||e.identifier.includes("closeupImage"))&&((0,l.Z)(`element_timing_${e.identifier}`,0,e.renderTime),(0,s.Z)(`element_timing_${e.identifier}`,e.renderTime)))})});c.observe({type:"element",buffered:!0}),window.addEventListener("beforeunload",()=>{e.disconnect(),o.disconnect(),c.disconnect()})}catch(e){(0,m.jn)({errorName:e})}(0,f.Em)(e.experimentsClient?.checkExperiment("web_log_generic_feed_pwt")?.anyEnabled??!1)}},23641:function(e,t,n){n.d(t,{Nx:()=>c,Yl:()=>f,l7:()=>_,qS:()=>g,rt:()=>p,sX:()=>m});var i=n(667294),a=n(482070),r=n(447982),o=n(774254),s=n(712655),l=n(956712),d=n(479901),u=n(689784);let c=(e,t)=>{(0,s.Z)()&&(t?performance.mark(`complete_constraint__${e}`,{startTime:t}):performance.mark(`complete_constraint__${e}`),(0,o.Z)(`constraint__${e}`,(0,d.Eq)(),t??performance.now()))},m=e=>{(0,a.Z)(e)},_=e=>{(0,u.Z)(e)},f=e=>{(0,l.Lg)(e)},g=e=>{(0,i.useEffect)(()=>{(0,l.Lg)(e)},[e])},p=(e,t,n)=>{(0,r.Z)(e,t,n)}},689784:function(e,t,n){n.d(t,{Z:()=>f});var i=n(746868),a=n(267398),r=n(217472),o=n(240083),s=n(447982),l=n(712655),d=n(547314),u=n(448021),c=n(479901),m=n(617120),_=n(178355);function f(e){if(!(0,l.Z)())return;let t=(0,c.Of)();if(t){let n=(0,c.e)().indexOf(e);if(n>-1){if((0,c.O3)(n),(0,d.qu)(`Remove constraint: ${e}. Remaining constraints: [${(0,c.e)().join(", ")}]`),0===(0,c.e)().length){let e=(0,c.a7)(),n=(0,c.Eq)(),l=e-n,f=[...(0,c.pX)(),...t.annotateExperiments||[]];(0,d.fv)({pwtName:t.name,annotateExperiments:f}),(0,d.$v)({eventName:t.name,value:l}),(0,d.$v)({eventName:"complete",value:l,tags:{handler:(0,_.H)()}});let g=(0,m.bC)(),p=(0,c.fI)();if((0,c.nn)()&&(48===t.id||"FEED_RENDER"===t.name)){let e=(0,i.BE)(),t=e?.viewType,n=e?.viewParameter;null==t||void 0===t||p["view.type"]||(0,s.Z)("view.type",t,"I32"),null==n||void 0===n||p["view.parameter"]||(0,s.Z)("view.parameter",n,"I32")}let E={type:"surface",surface:t.name,id:t.id,navigationType:(0,c.fC)(),isAuthenticated:g.isAuthenticated},v=(0,c.Wj)(),h=(0,a.W)({annotateExperiments:f,annotations:{},binaryAnnotations:(0,c.fI)(),constraintMap:(0,c.xY)(),endTime:e,imageTimings:(0,c.h)(),isV4Logger:!0,metricId:E,pwtMeasures:(0,c.zU)(),pwtStaticContext:g,startTime:n,traceId:v,spans:[{name:`Report_PWT_Complete_${t.name}`,startTime:n,endTime:e,annotationMap:{},binaryAnnotationMap:{},id:(0,o.Z)(),parentId:v}]});(0,d.qu)(`All constraints complete. ${t.name} PWT completed at ${Math.floor(e)}ms. PWT duration: ${Math.floor(l)}ms`),(0,d.qu)("Result:",h),(0,r.Z)({metricId:E,pwtStaticContext:g,result:h,isV4Logger:!0,annotateExperiments:f}),(0,c.mn)(),(0,u.kA)()}}else(0,d.jn)({errorName:"constraint_completed_not_in_PWT_constraint_list",pwtName:t.name,errorDetailsTag:e})}else(0,d.jn)({errorName:"remove_constraint_while_no_PWT_in_progress",errorDetailsTag:e}),(0,c.qH)(e)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/21590-976c75d15dd1f63b.mjs.map