(self.modernJsonp=self.modernJsonp||[]).push([["13545"],{537347:function(e){!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function i(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function a(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function l(e,n){function i(){a(l)&&l.a.parentNode&&n(l.g)}var l=e;t(e.b,i),t(e.c,i),a(e)}function r(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}var o=null,s=null,d=null,c=null;function u(){return null===c&&(c=!!document.fonts),c}function p(e,t){return[e.style,e.weight,!function(){if(null===d){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}d=""!==e.style.font}return d}()?"":e.stretch,"100px",t].join(" ")}r.prototype.load=function(e,t){var a=this,r=e||"BESbswy",d=0,c=t||3e3,m=(new Date).getTime();return new Promise(function(e,t){if(u()&&!function(){if(null===s)if(u()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);s=!!e&&603>parseInt(e[1],10)}else s=!1;return s}()){var g,h=new Promise(function(e,t){!function n(){(new Date).getTime()-m>=c?t(Error(""+c+"ms timeout exceeded")):document.fonts.load(p(a,'"'+a.family+'"'),r).then(function(t){1<=t.length?e():setTimeout(n,25)},t)}()});Promise.race([new Promise(function(e,t){d=setTimeout(function(){t(Error(""+c+"ms timeout exceeded"))},c)}),h]).then(function(){clearTimeout(d),e(a)},t)}else g=function(){function s(){var t;(t=-1!=f&&-1!=y||-1!=f&&-1!=x||-1!=y&&-1!=x)&&((t=f!=y&&f!=x&&y!=x)||(null===o&&(o=!!(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent))&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=o&&(f==_&&y==_&&x==_||f==b&&y==b&&x==b||f==v&&y==v&&x==v)),t=!t),t&&(w.parentNode&&w.parentNode.removeChild(w),clearTimeout(d),e(a))}var u=new n(r),g=new n(r),h=new n(r),f=-1,y=-1,x=-1,_=-1,b=-1,v=-1,w=document.createElement("div");w.dir="ltr",i(u,p(a,"sans-serif")),i(g,p(a,"serif")),i(h,p(a,"monospace")),w.appendChild(u.a),w.appendChild(g.a),w.appendChild(h.a),document.body.appendChild(w),_=u.a.offsetWidth,b=g.a.offsetWidth,v=h.a.offsetWidth,function e(){if((new Date).getTime()-m>=c)w.parentNode&&w.parentNode.removeChild(w),t(Error(""+c+"ms timeout exceeded"));else{var n=document.hidden;(!0===n||void 0===n)&&(f=u.a.offsetWidth,y=g.a.offsetWidth,x=h.a.offsetWidth,s()),d=setTimeout(e,50)}}(),l(u,function(e){f=e,s()}),i(u,p(a,'"'+a.family+'",sans-serif')),l(g,function(e){y=e,s()}),i(g,p(a,'"'+a.family+'",serif')),l(h,function(e){x=e,s()}),i(h,p(a,'"'+a.family+'",monospace'))},document.body?g():document.addEventListener?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),g()}):document.attachEvent("onreadystatechange",function e(){("interactive"==document.readyState||"complete"==document.readyState)&&(document.detachEvent("onreadystatechange",e),g())})})},e.exports=r}()},492774:function(e,t,n){var i,a,l,r;n.r(t),n.d(t,{default:()=>s});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCard_board",selections:[{alias:null,args:null,concreteType:"FeaturedBoard",kind:"LinkedField",name:"featuredBoardMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSponsoredContent",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},i,r,a,{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},l],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"DrawerImageGroup_coverPin"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"DrawerImageGroup_board"}],type:"Board",abstractKey:null};o.hash="160b60f499ce33660e2c11915eed4d09";let s=o},230624:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CanonicalCard_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doneByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{args:null,kind:"FragmentSpread",name:"UnifiedCommentModule_pin"}],type:"Pin",abstractKey:null};i.hash="fcffc6bcc40bc48a92a9afe109d3995b";let a=i},663705:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupCommentModule_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="361dbb7eac9d64408e9e81f7b01b2b75";let a=i},806607:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupFavoriteButtonTest_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favoritedByMe",storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="9ab15ab4baca1bcd4b35d42d577e0b0e";let a=i},472719:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OfficialUserAttributionText_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"avatarColorIndex",storageKey:null}],type:"User",abstractKey:null};i.hash="076ac514bfbb048036e79417ec3c0eb5";let a=i},553174:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDescriptionAccordion_pin",selections:[{args:null,kind:"FragmentSpread",name:"StructuredDescription_pin"}],type:"Pin",abstractKey:null};i.hash="0ea92af6ed3e580e484b6776204f5277";let a=i},843560:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDescriptionPreview_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"StructuredDescription_pin"}],type:"Pin",abstractKey:null};i.hash="778f9a67c785189deaaa1c4cfec46ad3";let a=i},32808:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDescription_pin",selections:[{args:null,kind:"FragmentSpread",name:"ProductDescriptionAccordion_pin"},{args:null,kind:"FragmentSpread",name:"ProductDescriptionPreview_pin"},{args:null,kind:"FragmentSpread",name:"useHyperlinkExperiment_pin"}],type:"Pin",abstractKey:null};i.hash="9758e05746f41597abb102ff4c921bd8";let a=i},46531:function(e,t,n){var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductHeading_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"}],type:"Pin",abstractKey:null};a.hash="8dced786a95725beb90a797a0e54242b";let l=a},222433:function(e,t,n){var i,a,l,r,o,s,d,c;n.r(t),n.d(t,{default:()=>p});let u=(a={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={args:null,kind:"FragmentSpread",name:"OfficialUserAttributionText_user"},d=[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],c=[o],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductMetadata_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"affiliateDisclosure",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"affiliateLink",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[a,l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[i,r,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},o,s],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},a,i,{alias:null,args:null,kind:"ScalarField",name:"favoritedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPreLovedGoodsLabel",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},l,{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[r,o],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[i,r,s],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unitPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unitPricingBaseUnits",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unitPricingUnitType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PriceHistorySummary",kind:"LinkedField",name:"priceHistorySummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"durationDays",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lowestPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typicalPrice",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:c,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProductDescription_pin"},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"},{args:null,kind:"FragmentSpread",name:"CanonicalCard_pin"},{args:null,kind:"FragmentSpread",name:"CloseupFavoriteButtonTest_pin"},{args:null,kind:"FragmentSpread",name:"PartnerModule_pin"},{args:null,kind:"FragmentSpread",name:"ProductHeading_pin"},{args:null,kind:"FragmentSpread",name:"UnifiedCommentModule_pin"},{args:null,kind:"FragmentSpread",name:"VisitButton_pin"},{args:null,kind:"FragmentSpread",name:"useStructuredDescription_pin"}],type:"Pin",abstractKey:null});u.hash="420cbc88e50b7d12d8712ab2ffd91cf6";let p=u},116830:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StructuredDescriptionComponent_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"StructuredDescriptionText_pin"}],type:"Pin",abstractKey:null};i.hash="f867b797951e2d08797cfc2a432829dd";let a=i},454959:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StructuredDescriptionText_pin",selections:[{args:null,kind:"FragmentSpread",name:"DescriptionWithLinksAndMentions_pin"},{args:null,kind:"FragmentSpread",name:"useHyperlinkExperiment_pin"}],type:"Pin",abstractKey:null};i.hash="733093776dc8e837966fbdda29e9d4c5";let a=i},995122:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StructuredDescription_pin",selections:[{args:null,kind:"FragmentSpread",name:"StructuredDescriptionComponent_pin"}],type:"Pin",abstractKey:null};i.hash="0115eb52db8bd36a1a82754d3c39b478";let a=i},738677:function(e,t,n){n.r(t),n.d(t,{default:()=>a});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnifiedCommentModule_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupCommentModule_pin"}],type:"Pin",abstractKey:null};i.hash="3a8cd51fec23643de121636949bbbcf6";let a=i},65003:function(e,t,n){var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VisitButton_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextMenuClickthroughLogging_pin"}],type:"Pin",abstractKey:null};a.hash="e327c6c7127550a2f17b174cd4dcfa73";let l=a},97812:function(e,t,n){var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetCoverPhoto_board",selections:[{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:i,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:i,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],type:"Board",abstractKey:null};a.hash="756d8d8edca35eac0a0500359bf60618";let l=a},33653:function(e,t,n){var i;n.r(t),n.d(t,{default:()=>l});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetNormalizedPinImage_pin",selections:[{alias:"images_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"images_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"736x")'},{alias:"images_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"orig")'},{alias:"images_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"474x")'},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};a.hash="8b6ce790922ff8b900b4ae18b06b7c11";let l=a},751297:function(e,t,n){var i,a;n.r(t),n.d(t,{default:()=>r});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStructuredDescription_pin",selections:[{alias:null,args:null,concreteType:"FormattedCloseupDescription",kind:"LinkedField",name:"formattedCloseupDescription",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:"stringContent",args:null,kind:"ScalarField",name:"content",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"DescriptionString",abstractKey:null},{kind:"InlineFragment",selections:[i,a,{alias:"pointsContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionPoints",abstractKey:null},{kind:"InlineFragment",selections:[i,a,{alias:"specsContent",args:null,concreteType:"DescriptionSpecDetail",kind:"LinkedField",name:"content",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],type:"DescriptionSpecs",abstractKey:null},{kind:"InlineFragment",selections:[i,a,{alias:"tableContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionTable",abstractKey:null},{kind:"InlineFragment",selections:[i,a,{alias:"headerContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionHeader",abstractKey:null},{kind:"InlineFragment",selections:[i,a,{alias:"boldContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionStringBold",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};l.hash="f5443b1193b0aed988404fef7c7338fe";let r=l},734473:function(e,t,n){n.d(t,{K:()=>r,Q:()=>l});var i=n(667294);let a=(0,i.createContext)(null),l=a;function r(){let e=(0,i.use)(a);return e?.featuredCommentId}},443376:function(e,t,n){n.d(t,{Z:()=>$});var i,a=n(686659),l=n(667294),r=n(581722),o=n(407504);n(244311);var s=n(399353),d=n(320748),c=n(458465),u=n(24246),p=n(785893);let m=({collapsed:e,commentCount:t,onIconClick:n=()=>{}})=>{(0,l.useEffect)(()=>{(0,a.Z)("CommentsHeading","/app/common/react/components/auth-desktop-web-closeup/CanonicalCard/CommentsHeading.tsx")},[]);let i=(0,u.Z)(),r=(0,c.i$)(t,i);return(0,p.jsx)(d.Z,{collapsed:e,heading:r,onClick:n,showArrow:t>0})};var g=n(992998),h=n(299136);function f({comment:e}){(0,l.useEffect)(()=>{(0,a.Z)("SingleCommentPreview","/app/common/react/components/auth-desktop-web-closeup/CanonicalCard/SingleCommentPreview.tsx")},[]);let t=(0,u.Z)(),{user:{first_name:n,image_medium_url:i,username:r},tags:o=[]}=e,d="",m="userdiditdata"===e.type&&e.details?e.details:"",f="aggregatedcomment"===e.type&&e.text?e.text:m,y=[e.user];if("aggregatedcomment"===e.type){y.push(...e.tagged_users);let n=e.media?.media_type===1;d=`${r} ${n?f||(0,c.F1)(t):f}`}else d=`${r} ${f||(0,c.Ff)(t)}`;let x=(0,c.zs)(r,o),_="aggregatedcomment"===e.type&&1===e.comment_tag;return(0,p.jsx)(l.Fragment,{children:(0,p.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,p.jsx)(s.xu,{marginEnd:2,children:(0,p.jsx)(g.Z,{isQuestion:_,name:n||r||"",size:"xs",src:i??""})}),(0,p.jsx)(s.kC,{direction:"column",flex:"grow",justifyContent:"center",children:(0,p.jsx)(s.kC,{justifyContent:"between",children:(0,p.jsx)(s.kC.Item,{minWidth:0,children:(0,p.jsx)(s.kC,{dataTestId:"author-and-comment-container",direction:"column",children:(0,p.jsx)(h.Z,{inCommentFeedPreview:!0,isFirstTaggedUserAuthor:!0,shouldShowFirstNameOnly:!0,taggedUsers:y,tags:x,text:d})})})})})]})})}var y=n(725557),x=n(803389),_=n(657654),b=n(519371),v=n(166988),w=n(734473),k=n(671862),S=n(375967),P=n(434418),C=n(812928),j=n(230201),I=n(935059),T=n(183e3),F=n(59111),D=n(774838),E=n(661376),A=n(739405),Z=n(200619),K=n(601871),z=n(264267),M=n(107889),L=n(113759),B=n(488436),R=n(373779),H=n(578321),O=n(646239);let N=(void 0!==i||(i=n(230624)).hash&&"fcffc6bcc40bc48a92a9afe109d3995b"!==i.hash&&console.error("The definition of 'CanonicalCard_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),U=({aggregatedPinId:e,closeupAttributionId:t,closeupAttributionUsername:n,commentCount:i,commentsDisabled:d,commentsLoadedCallback:u,featuredCommentId:g,inCommentsImprovedDropdownExp:h,isLoadingNewCreatedComment:w,isORBACProfileManager:H,isVideo:U,onCommentSectionClick:$,photoCount:W,pinKey:V,pinId:G,pinnerId:Y,scrollContainerRef:q,shouldShowHeading:X,storyPinDataId:J,viewParameter:Q})=>{let ee;(0,l.useEffect)(()=>{(0,a.Z)("CanonicalCard","/app/common/react/components/auth-desktop-web-closeup/CanonicalCard/CanonicalCard.tsx")},[]);let{logContextEvent:et}=(0,j.u)(),{isBot:en}=(0,D.B)(),ei=(0,A.HG)(),ea=(0,z.lV)(),el=(0,T.Z)(N,V),{clientTrackingParams:er,closeupWithinMasonryEnabled:eo,isCommentThreadExpanded:es,peekCloseupEnabled:ed,setIsCommentThreadExpanded:ec,viewportSize:eu}=(0,L.x4)(),ep=(0,v.Z)({showProductDetailPage:!!el?.isEligibleForPdp}),{handleAddComment:em}=(0,S.Z)(),eg=(0,l.useRef)(null),eh=(0,l.useRef)(null),[ef,ey]=(0,l.useState)(c.A9.NONE),[ex,e_]=(0,l.useState)(!1),[eb,ev]=(0,l.useState)(),[ew,ek]=(0,l.useState)([]),[eS,eP]=(0,l.useState)(""),[eC,ej]=(0,l.useState)(),[eI,eT]=(0,l.useState)(!1),[eF,eD]=(0,l.useState)(!1),[eE,eA]=(0,l.useState)(!1),[eZ,eK]=(0,l.useState)(),[ez,eM]=(0,l.useState)(void 0),[eL,eB]=(0,l.useState)(void 0),[eR,eH]=(0,l.useState)(!1),eO=(0,I.Z)(),eN=(0,Z.Z)(),eU=(0,K.lJ)(eO,eN),{toggleCommentLike:e$,toggleCommentHelpful:eW}=(0,P.Z)(eU),{aggregatedPinData:eV,doneByMe:eG,privacy:eY}=el||{},{entityId:eq}=eV||{},eX=6*!eo,eJ=!!eZ||!!eC,{user:{first_name:eQ=""}={}}=eZ||{},e0=!(H&&!eU)&&h,e1=0;eo&&!ep&&(e1=h?3:4);let e2=Math.max(i+W,0),e3=e2>0,e5=g?[g]:[],e6=`${(0,l.useId)()}-comments-thread-container`,e9=(0,l.useRef)(!e3),{fetchMore:e4,isAtEnd:e7,isFetching:e8,isLoaded:te}=(0,E.Z)((eo&&e3||!e9.current)&&e?(0,R.B)({aggregatedPinDataId:e,featuredCommentIds:e5,isDesktop:ei,orbacSubjectId:eU}):null),tt=(0,r.v9)(t=>(0,O.Z)(t,{aggregatedPinDataId:e,aggregatedComments:ea})),tn=tt?.length>0&&tt.find(e=>"aggregatedcomment"===e.type),ti=!d&&eR&&!es&&!!tn&&(eo||ep)&&!ed&&!h,ta=!es&&h;(0,l.useEffect)(()=>{u?.(te||!e3)},[u,te,e3]),(0,l.useEffect)(()=>(es&&ex&&(eh.current=Date.now()),()=>{eh.current&&(et({component:14381,event_type:16258,object_id_str:G,aux_data:{time_in_ms:Date.now()-eh.current}}),eh.current=null)}),[es,ex,et,G]);let tl=()=>{ev(null),ek([]),eP(""),ej(null),eK(null)},tr=()=>{tl(),eT(!1)};async function to(e){let n=await em(e,eq,G,J??"",t??"",er,ey,eT,eC,eZ);return n&&(eg.current&&!eJ&&eg.current.scrollTo({top:0,behavior:"smooth"}),tl()),n}let ts=(0,p.jsx)(k.Z,{aggregatedPinDataId:e,closeupAttributionId:t,closeupAttributionUsername:n,comments:tt,commentsDisabled:d,commentsScrollContainerRef:eg,featuredCommentId:g,gapSize:5,id:e6,inCommentsImprovedDropdownExp:h,isDesktop:!0,isLoading:!te&&(w||e8),isORBACProfileManager:H,isVideo:U,parentId:e??void 0,parentType:M.o.pin,pinId:G,pinnerId:Y,reactionListCommentId:eL,replyingToCommentId:ez,showReactionListForComment:eB,storyPinDataId:J,toggleEditComposer:h?e=>{if(e){let t="userdiditdata"===e.type&&e.details?e.details:"",n="aggregatedcomment"===e.type&&e.text?e.text:t,i=e.tags;e.type===M.n.didIt&&ev(e.images?.[0]?.originals),ek(i),eP(n)}ej(e)}:void 0,toggleHelpful:eW,toggleLike:e$,toggleReplyComposer:(e,t,n)=>{if(h){if(e){e.parentId=t,e.parentType=n;let{user:{first_name:i,username:a}}=e;if(e.parentType===M.n.aggregatedComment||e.parentType===M.n.didIt){let t=`${i||a} `;ek([{length:t.length-1,object_id:e.user.id,offset:0,tag_type:c.XU}]),eP(t)}}eK(e)}else eM(e?.id)},userAvatarSize:c.je,viewParameter:Q}),td=e=>(0,p.jsxs)(l.Fragment,{children:[!!q&&(0,p.jsx)(s.gr,{container:eo?eg.current??void 0:q,fetchMore:en?void 0:e4,isAtEnd:e7,isFetching:e8}),(0,p.jsxs)(y.Z,{nodeRef:e??void 0,paddingLeft:eo&&!h?8:0,paddingRight:eo&&!h?8:0,children:[ts,(0,p.jsx)(x.Z,{show:eo&&e3&&es&&eE,surface:"comment-body-scrolling"})]})]}),tc=0,{fiftyPercentHeight:tu}=(0,b.Re)();ed&&(tc=tu,"sm"===eu&&(tc=`calc(${tu}/2)`)),ta?ee="8px":X&&(ee="24px");let tp=`
    .comment-section-enter {
      max-height: 0;
      opacity: 0;
    }

    .comment-section-enter-active {
      max-height: ${tc};
      opacity: 1;
      transition: max-height 500ms ease-out, opacity 500ms ease-out;
    }

    .comment-section-exit {
      max-height: ${tc};
      opacity: 1;
    }

    .comment-section-exit-active {
      max-height: 0;
      opacity: 0;
      transition: max-height 500ms ease-out, opacity 500ms ease-out;
    }
  `;(0,l.useEffect)(()=>{if(!eo)return()=>{};let e=()=>{(eg?.current?.scrollTop??0)>0?eD(!0):eD(!1),(eg?.current?.scrollHeight??0)>(eg?.current?.clientHeight??0)&&eA(!0)},t=eg.current;return t&&t.addEventListener("scroll",e),()=>{t&&t.removeEventListener("scroll",e)}},[eo,es]),(0,l.useEffect)(()=>{let e=setTimeout(()=>{eH(!0)},1e3*!eo);return()=>clearTimeout(e)},[eo]);let tm=eR&&(es||!e3),tg=(0,l.useRef)(null);return(0,p.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{overflowX:"hidden"}},id:"canonical-card",marginBottom:ep?2:void 0,children:(0,p.jsxs)(s.kC,{dataTestId:"canonical-card",direction:"column",gap:ed?void 0:{row:0,column:eX},children:[(0,p.jsxs)(s.iP,{accessibilityControls:es&&e3?e6:void 0,accessibilityExpanded:es,accessibilityLabel:"Tap area to expand/collapse the comments section if there are any comments.",dataTestId:"canonical-card-tap-area",disabled:!!d||!e3,onTap:()=>{ec?.(!es),$?.(!es),ex||es||e_(!0)},children:[X&&(0,p.jsx)(s.kC.Item,{children:(0,p.jsxs)(s.xu,{color:eo?"light":void 0,children:[(0,p.jsx)(m,{collapsed:!es,commentCount:d?0:Math.max(i+W,0)}),(0,p.jsx)(x.Z,{show:eo&&e3&&eF&&es&&!h&&!ep,surface:"comment-heading"})]})}),ti&&(0,p.jsx)(s.xu,{marginBottom:e1,marginTop:1,children:(0,p.jsx)(f,{comment:tn})})]}),ed&&(0,p.jsxs)(l.Fragment,{children:[(0,p.jsx)(F.Z,{unsafeCSS:tp}),(0,p.jsx)(o.Z,{classNames:"comment-section",in:eR&&(es||!e3),nodeRef:tg,timeout:1e3,unmountOnExit:!0,children:td(tg)})]}),tm&&!ep&&!ed&&!h&&td(),(h||ep)&&(0,p.jsxs)(l.Fragment,{children:[ta&&(0,p.jsx)(_.default,{inCommentsImprovedDropdownExp:!0,pinKey:el,viewParameter:Q}),tm&&(0,p.jsxs)(l.Fragment,{children:[(0,p.jsx)(s.gr,{container:eg.current??void 0,fetchMore:en?void 0:e4,isAtEnd:e7,isFetching:e8}),ts]}),(0,p.jsxs)(s.Le,{bottom:0,children:[eJ&&(0,p.jsx)(B.Z,{onClose:tr,replyToComment:eZ}),(0,p.jsx)(x.Z,{show:eo&&e3&&es&&eE,surface:"comment-body-scrolling"}),e0&&(0,p.jsx)(s.xu,{color:"default",dangerouslySetInlineStyle:{__style:{paddingTop:ee,paddingBottom:X?"24px":"32px"}},children:(0,p.jsx)(C.Z,{clientTrackingParams:er,commentCount:e2,commentWarningModalState:ef,disablePhotoCommentSelection:!!eG,dismissCommentWarningModal:()=>ey(c.A9.NONE),inCommentsImprovedDropdownExp:!0,initialTags:ew,initialText:eS,isEditing:!!eC,isReplying:!!eZ,objectType:M.o.pin,onAddItem:to,onCancelItem:tr,onEnter:()=>eT(!0),pinId:G,postedPhoto:eb,privatePin:"secret"===eY,replyToCommentFirstName:eQ,showCommentComposer:!0,statusType:eI?"textInflightCreation":"textStaticDisplay",viewParameter:Q})})]})]})]})})};function $(e){(0,l.useEffect)(()=>{(0,a.Z)("CanonicalCard","/app/common/react/components/auth-desktop-web-closeup/CanonicalCard/CanonicalCard.tsx")},[]);let t=(0,r.I0)();return(0,p.jsx)(U,{...e,featuredCommentId:(0,w.K)(),pinUpdateCommentCount:(e,n)=>t((0,H.R)(e,n))})}},340950:function(e,t,n){n.d(t,{Z:()=>h});var i,a=n(686659),l=n(667294),r=n(581722);n(167912);var o=n(519126),s=n(230201),d=n(183e3),c=n(660322),u=n(113759),p=n(766308),m=n(785893);let g=(void 0!==i||(i=n(806607)).hash&&"9ab15ab4baca1bcd4b35d42d577e0b0e"!==i.hash&&console.error("The definition of 'CloseupFavoriteButtonTest_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function h({pinKey:e}){let t,n;(0,l.useEffect)(()=>{(0,a.Z)("CloseupFavoriteButton","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CloseupFavoriteButton.tsx")},[]);let{logContextEvent:i}=(0,s.u)(),h=(0,d.Z)(g,e),f=(0,r.I0)(),{closeupWithinMasonryEnabled:y}=(0,u.x4)(),{board:x,entityId:_,favoritedByMe:b,section:v}=h;x&&([t,n]=(0,p.J)(x.url??""));let w=e=>{i({event_type:101,component:13791,element:e?12225:12226,object_id_str:_,view_type:3})};return(0,m.jsx)(o.Z,{favorited:b,isCloseupButton:!0,onFavorite:()=>{w(!0),f((0,c.jB)("BoardResource",{username:n,slug:t,field_set_key:"detailed"})),f((0,c.jB)("BoardSectionResource",{board_slug:t,section_slug:v?.slug,username:n}))},onUnfavorite:()=>{w(!1)},pinId:_,size:y?"sm":24})}},725557:function(e,t,n){n.d(t,{Z:()=>o});var i=n(686659),a=n(667294),l=n(399353),r=n(785893);function o({children:e,paddingRight:t,paddingLeft:n,paddingBottom:o,marginTop:s,nodeRef:d}){return(0,a.useEffect)(()=>{(0,i.Z)("CloseupMetadataPadding","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CloseupMetadataPadding.tsx")},[]),(0,r.jsx)(l.xu,{ref:d??void 0,dangerouslySetInlineStyle:{__style:{paddingRight:`${t}px`,paddingLeft:n?`${n}px`:void 0,paddingBottom:o?`${o}px`:void 0,marginTop:s?`${s}px`:void 0,overflowX:"hidden"}},width:"100%",children:e})}},803389:function(e,t,n){n.d(t,{Z:()=>r});var i=n(399353),a=n(113759),l=n(785893);let r=function(e){let{show:t,surface:n}=e,{closeupWithinMasonryEnabled:r}=(0,a.x4)();return r?(0,l.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{borderTop:t?"1px solid #E9E9E9":void 0,opacity:+!!t}},"data-test-id":`${n}-divider`,width:"100%"}):t&&(0,l.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #EFEFEF"}}})}},320748:function(e,t,n){n.d(t,{Z:()=>c});var i=n(686659),a=n(667294),l=n(399353),r=n(519371),o=n(24246),s=n(113759),d=n(785893);function c({actionButton:e,collapsed:t,disabled:n,displayViewState:c,forceTappableHeader:u,headerHeight:p,headerPreview:m,heading:g,icon:h="chevron-down",onClick:f,showArrow:y,surface:x}){(0,a.useEffect)(()=>{(0,i.Z)("CollapsableHeader","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CollapsableHeader.tsx")},[]);let _=(0,o.Z)(),{closeupWithinMasonryEnabled:b,peekCloseupEnabled:v,viewportSize:w}=(0,s.x4)(),k=(0,r.rt)({peekCloseupEnabled:v,viewportSize:w,surface:x});return(0,d.jsx)(a.Fragment,{children:u||null!==c?(0,d.jsx)(l.iP,{disabled:!y||n,onTap:f,children:(0,d.jsx)(l.xu,{marginBottom:!t&&v?4:void 0,children:(0,d.jsxs)(l.kC,{alignItems:"center",dataTestId:"collapsible-header",direction:"row",flex:"grow",height:p,justifyContent:"between",children:[(0,d.jsx)(l.kC.Item,{flex:"shrink",children:(0,d.jsx)(l.qd,{accessibilityLevel:2,align:"start",color:n?"disabled":"default",id:"comments-heading",size:"300",children:g})}),(0,d.jsx)(l.kC.Item,{flex:"shrink",children:(0,d.jsxs)(l.kC,{alignItems:"center",direction:"row",gap:{row:1,column:0},children:[t&&m,(y||b)&&(0,d.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{transform:t?"rotate(0deg)":"rotate(180deg)",transition:"all 600ms cubic-bezier(.25,1,.5,1)"}},opacity:100*!!y,children:(0,d.jsx)(l.hU,{accessibilityLabel:_._('Expand icon', 'accordion.actionButton', 'accessibility label on accordion'),dataTestId:"collapse-button",disabled:!y||n,icon:h,size:"sm"})})]})}),e&&(0,d.jsx)(l.kC.Item,{flex:"grow",children:(0,d.jsx)(l.kC,{justifyContent:"end",children:e})})]})})}):(()=>{let e=(0,d.jsx)(l.qd,{accessibilityLevel:2,align:"start",id:"comments-heading",size:k?"300":"400",children:g});return k?(0,d.jsx)(l.xu,{marginBottom:4,children:e}):e})()})}},891101:function(e,t,n){n.d(t,{Z:()=>i});let i=(e,t)=>{let n,{height:i=0,width:a=0}=t||{};switch(e){case"enabled_15":n=.15;break;case"enabled_25":n=.25;break;default:n=.35}return a/i<n}},657654:function(e,t,n){n.r(t),n.d(t,{default:()=>I}),n(244311);var i,a,l=n(230201),r=n(183e3),o=n(935833),s=n(739405),d=n(113759),c=n(686659),u=n(667294),p=n(581722);n(167912);var m=n(399353),g=n(79271),h=n(661376),f=n(264267),y=n(759271),x=n(24246),_=n(785893);function b({commentCount:e,commentImpressionTrackerRef:t,inCommentsImprovedDropdownExp:n,inCommentsPopoverExp:i,isDesktop:a,previewComment:l}){(0,u.useEffect)(()=>{(0,c.Z)("CloseupCommentModuleContent","/app/www/comments/CloseupCommentModuleContent.tsx")},[]);let r=(0,x.Z)(),{mWebCloseupRedesignEnabled:o}=(0,y.Z)(),s=(0,u.useRef)(null),d=n||i,p=e>1,g=!a||d,h="aggregatedcomment"===l.type?l.text:l.details||"";h=g?`"${h}" ... `:`"${h}"`;let f=p?r._('view all comments', 'closeupCommentModule.commentModuleContent.cta.multipleComments.popover', 'Call to action to view comments. This is displayed when there are multiple comments on a Pin'):r._('view comment', 'closeupCommentModule.commentModuleContent.cta.singleComment.popover', 'Call to action to view comments. This is displayed when there is a single comment on a Pin'),b=p?r._('View all comments', 'closeupCommentModule.commentModuleContent.cta.multipleComments', 'Call to action to view comments. This is displayed when there are multiple comments on a Pin'):r._('View comment', 'closeupCommentModule.commentModuleContent.cta.singleComment', 'Call to action to view comments. This is displayed when there is a single comment on a Pin'),v=d?f:b;return(0,u.useEffect)(()=>{let e=t?.current,n=s?.current;g&&((e,t)=>{if(!e||!t)return;let n=e?.offsetHeight;if(e?.scrollHeight>n){let n='..." ',i=t.innerText,a=i,l=0,r=i.length;for(;l<=r;){let o=Math.floor((l+r)/2);t.innerText=i.slice(0,o)+n,e.scrollHeight>e.offsetHeight?r=o-1:(l=o+1,a=i.slice(0,o))}return t.innerText=a+n}})(e,n)},[v,t,h,g,s]),(0,_.jsx)(m.xu,{children:(0,_.jsxs)(m.xu,{ref:t,dangerouslySetInlineStyle:{__style:{textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2",display:"-webkit-box",color:"var(--sema-color-text-subtle)"}},overflow:"hidden",children:[(0,_.jsx)(m.xe,{ref:s,color:"subtle",inline:!0,size:g&&!o?"300":"200",children:h}),g&&(0,_.jsx)(m.xu,{display:"inlineBlock",children:(0,_.jsx)(m.xe,{size:o?"200":"300",weight:"bold",children:v})})]})})}var v=n(646239);let w=(void 0!==i||(i=n(663705)).hash&&"361dbb7eac9d64408e9e81f7b01b2b75"!==i.hash&&console.error("The definition of 'CloseupCommentModule_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function k({inCommentsImprovedDropdownExp:e,inCommentsPopoverExp:t,onTap:n,pinKey:i,viewParameter:a}){(0,u.useEffect)(()=>{(0,c.Z)("CloseupCommentModule","/app/www/closeup/duplo/CloseupCommentModule.tsx")},[]);let l=(0,f.lV)(),o=(0,s.HG)(),{aggregatedPinData:d}=(0,r.Z)(w,i)||{},{commentCount:y,entityId:x}=d||{},k=(0,p.v9)(e=>(0,v.Z)(e,{aggregatedPinDataId:x,aggregatedComments:l}))[0],S=k?.type==="aggregatedcomment"?!!k.text:!!k?.details,P=(0,h.Z)(x?{name:"UnifiedCommentsPreviewResource",options:{aggregated_pin_id:x,redux_normalize_feed:!e}}:null).isLoaded&&S,C=(0,g.ZP)({componentType:13696,impressionType:"Comment",loggingId:k?.id,viewParameter:a,viewType:3});return P?(0,_.jsx)(m.iP,{onTap:n,children:(0,_.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:e?12:4,paddingBottom:e?16:4}},children:(0,_.jsx)(b,{commentCount:y??0,commentImpressionTrackerRef:C,inCommentsImprovedDropdownExp:!!e,inCommentsPopoverExp:!!t,isDesktop:o,previewComment:k})})}):null}var S=n(953238);let P=(void 0!==a||(a=n(738677)).hash&&"3a8cd51fec23643de121636949bbbcf6"!==a.hash&&console.error("The definition of 'UnifiedCommentModule_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function C({logCommunityViewIntent:e,pinKey:t,viewParameter:n}){let i=(0,r.Z)(P,t),{commentModalConfig:{setIsCommentThreadModalOpen:a}}=(0,S.B)();return(0,_.jsx)(k,{onTap:()=>{a(!0),e()},pinKey:i,viewParameter:n})}function j({inCommentsImprovedDropdownExp:e,inCommentsPopoverExp:t,logCommunityViewIntent:n,pinKey:i,viewParameter:a}){let l=(0,r.Z)(P,i),{setIsCommentThreadExpanded:o}=(0,d.x4)();return(0,_.jsx)(k,{inCommentsImprovedDropdownExp:e,inCommentsPopoverExp:t,onTap:()=>{o?.(!0),n()},pinKey:l,viewParameter:a})}let I=function(e){let t=(0,s.HG)(),{logContextEvent:n}=(0,l.u)(),{inCommentsImprovedDropdownExp:i}=e,a=()=>{n({component:13464,element:11533,event_type:10554,view_type:3}),t&&(0,o.tj)("dweb.unified_comment_module.community_view_intent",{tags:{experimentGroup:i?"improved_dropdown":"popover"}})};return t?(0,_.jsx)(j,{...e,logCommunityViewIntent:a}):(0,_.jsx)(C,{...e,logCommunityViewIntent:a})}},613465:function(e,t,n){n.d(t,{g:()=>s,h:()=>o});var i=n(686659),a=n(667294),l=n(785893);let r=(0,a.createContext)(void 0);function o({children:e}){(0,a.useEffect)(()=>{(0,i.Z)("VisitButtonAnimationContext","/app/common/react/components/auth-desktop-web-closeup/VisitButtonAnimationContext.tsx")},[]);let[t,n]=(0,a.useState)(!1),o=(0,a.useRef)(null),s=()=>{null!==o.current&&(window.clearTimeout(o.current),o.current=null)};(0,a.useEffect)(()=>()=>s(),[]);let d=(0,a.useCallback)(()=>{s(),n(!0),o.current=window.setTimeout(()=>{n(!1),o.current=null},2e3)},[]),c=(0,a.useMemo)(()=>({animateVisitSite:t,triggerVisitButtonAnimation:d}),[t,d]);return(0,l.jsx)(r.Provider,{value:c,children:e})}function s(){return(0,a.use)(r)||{animateVisitSite:!1,triggerVisitButtonAnimation:()=>{}}}},970766:function(e,t,n){n.d(t,{Z:()=>i});let i=({carouselData:e,domain:t})=>{let n="",i=t||"";if(e){let{carouselSlots:t=[]}=e,a=e.index??0;t&&t[a]&&(n=t[a].link||"",i=t[a].domain||i)}return{carouselLink:n,currentDomain:i}}},583522:function(e,t,n){n.d(t,{Z:()=>s});var i=n(667294),a=n(312048),l=n(774838),r=n(739405),o=n(683372);let s=({carouselContainsVideo:e,isShufflePin:t})=>{let{isAuthenticated:n}=(0,l.B)(),s=(0,r.HG)(),d=(0,o.C)((0,a.TH)());return(0,i.useMemo)(()=>({isCloseupMediaViewerEnabled:n&&s&&d&&!t&&!e}),[n,s,d,t,e])}},654805:function(e,t,n){n.d(t,{Z:()=>o});var i=n(891101),a=n(501010),l=n(774838),r=n(739405);function o(e){let{isAuthenticated:t}=(0,l.B)(),n=(0,r.HG)(),{checkExperiment:o}=(0,a.Z)(),s=t&&n&&o("closeup_dweb_peek_redesign_fast_follow").anyEnabled,d=o("closeup_dweb_peek_redesign_fast_follow").group,c=t&&n&&o("closeup_dweb_side_by_side_redesign_fast_follow").anyEnabled,u=c?o("closeup_dweb_side_by_side_redesign_fast_follow").group:"";return{peekRedesignFastFollowsExpGroup:d,peekRedesignFastFollowsEnabled:s&&(0,i.Z)(d,e),sideBySideRedesignFastFollowsExpGroup:u,sideBySideRedesignFastFollowsEnabled:c,sideBySideFullWidthCTAEnabled:"enabled_full_width_cta"===u||"employees"===u,sideBySidePWTDeferActionBarLoad:"enabled_pwt_defer_action_bar_load"===u}}},166988:function(e,t,n){n.d(t,{Z:()=>r});var i=n(501010),a=n(774838),l=n(739405);let r=({showProductDetailPage:e,skipActivation:t})=>{let{checkExperiment:n}=(0,i.Z)(),r=(0,l.HG)(),{isAuthenticated:o}=(0,a.B)();return!!o&&!!r&&!!e&&n("closeup_dweb_blended_ui",{dangerouslySkipActivation:t}).anyEnabled}},385826:function(e,t,n){n.d(t,{Z:()=>g});var i,a=n(686659),l=n(667294);n(167912);var r=n(399353),o=n(230201),s=n(319226),d=n(183e3),c=n(113759),u=n(667389),p=n(785893);let m=(void 0!==i||(i=n(472719)).hash&&"076ac514bfbb048036e79417ec3c0eb5"!==i.hash&&console.error("The definition of 'OfficialUserAttributionText_user' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function g({clickable:e=!0,getDisplayName:t,onMouseDown:n,userKey:i}){(0,l.useEffect)(()=>{(0,a.Z)("OfficialUserAttributionText","/app/common/react/components/shopping/ProductDetailPage/OfficialUserAttributionText.tsx")},[]);let{logContextEvent:g}=(0,o.u)(),h=(0,d.Z)(m,i),{peekCloseupEnabled:f}=(0,c.x4)(),{isVerifiedMerchant:y,fullName:x="",verifiedIdentity:_,username:b,isAdsOnlyProfile:v,adsOnlyProfileSite:w,imageMediumUrl:k}=h,S=h.avatarColorIndex,P=y||_?.verified,C=(0,p.jsxs)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{gap:"8px"}},direction:"row",display:"flex",onMouseDown:()=>{n&&n()},children:[f&&(0,p.jsx)(s.qE,{color:S,name:x??"",size:"xs",src:k??""}),(0,p.jsx)(r.qd,{accessibilityLevel:2,children:(0,p.jsx)(r.xe,{lineClamp:1,size:f?"200":"300",weight:"bold",children:t?t(x??""):x??""})})]});if(!e)return C;let j=v&&!!w;return(0,p.jsxs)(r.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,p.jsx)(r.xu,{children:j?(0,p.jsx)(r.Tg,{href:w||"",onTap:()=>{g({event_type:9371,element:13382,aux_data:{aop_origin:"OfficialUserAttributionText"}})},rel:"nofollow",target:"blank",children:C}):(0,p.jsx)(r.Tg,{href:`/${b}/`,children:C})}),P&&(0,p.jsx)(r.xu,{marginStart:2,children:(0,p.jsx)(u.Z,{isVerifiedIdentity:_?.verified||!1,isVerifiedMerchant:y||!1,size:"sm"})})]})}},255508:function(e,t,n){n.d(t,{Z:()=>K});var i,a,l,r,o,s,d=n(686659),c=n(667294);n(244311);var u=n(399353),p=n(41045),m=n(166988),g=n(230201),h=n(183e3),f=n(24246),y=n(23641),x=n(234278),_=n(282636),b=n(276469),v=n(785893);let w=(void 0!==i||(i=n(995122)).hash&&"0115eb52db8bd36a1a82754d3c39b478"!==i.hash&&console.error("The definition of 'StructuredDescription_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),k=(void 0!==a||(a=n(454959)).hash&&"733093776dc8e837966fbdda29e9d4c5"!==a.hash&&console.error("The definition of 'StructuredDescriptionText_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),S=({children:e,dangerouslySetInlineStyle:t,marginTop:n})=>(0,v.jsx)(u.xu,{dangerouslySetInlineStyle:t,"data-test-id":"structured-description",marginTop:n,children:e}),P=({content:e,order:t,type:n,pinKey:i})=>{let a=(0,h.Z)(k,i),{hyperlinkKeywordsEnabled:l}=(0,p.Z)(a);if(!e)return null;let r=n===b.X.HEADER,o=void 0!==n&&[b.X.HEADER,b.X.BOLD].includes(n),s=t>0&&r?4:2*(0!==t);return a&&l?(0,v.jsx)(S,{marginTop:s,children:(0,v.jsx)(u.xv,{color:"subtle",inline:!0,size:"200",weight:o?"bold":"normal",children:(0,v.jsx)(_.Z,{description:e,mentionLinkColor:"link",pinKey:a,shouldAdjustOffset:!1,textSize:"200"})})}):(0,v.jsx)(S,{marginTop:s,children:(0,v.jsx)(u.xv,{color:"subtle",size:"200",weight:o?"bold":"normal",children:e})})},C=({content:e,order:t})=>e?(0,v.jsx)(S,{marginTop:2*(0!==t),children:e}):null,j=({content:e,order:t,isInBlendedUIExp:n})=>Array.isArray(e)&&0!==e.length?(0,v.jsx)(S,{marginTop:2*(0!==t),children:e.map(e=>(0,v.jsxs)(u.xu,{direction:"row",display:"flex",marginStart:1,marginTop:1,children:[(0,v.jsx)(u.xv,{color:n?"subtle":"default",inline:!0,size:"200",weight:"bold",children:""}),(0,v.jsx)(u.xu,{marginStart:1,children:(0,v.jsx)(u.xv,{color:n?"subtle":"default",size:"200",children:e})})]},e))}):null,I=({accessibilityLabel:e,content:t,order:n})=>t&&"object"==typeof t?(0,v.jsx)(S,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:2*(0!==n),children:(0,v.jsx)(u.iA,{accessibilityLabel:e,children:(0,v.jsx)(u.iA.Body,{children:Object.entries(t).map(([e,t],n)=>(0,v.jsxs)(u.iA.Row,{children:[(0,v.jsx)(u.iA.Cell,{children:(0,v.jsx)(u.xv,{size:"100",weight:"bold",children:e})}),(0,v.jsx)(u.iA.Cell,{children:(0,v.jsx)(u.xv,{size:"100",children:String(t)})})]},n))})})}):null,T=({accessibilityLabel:e,content:t,order:n})=>{if(!Array.isArray(t)||t.length<2)return null;let i=t[0],a=t.slice(1);return(0,v.jsx)(S,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:2*(0!==n),children:(0,v.jsxs)(u.iA,{accessibilityLabel:e,children:[(0,v.jsx)(u.iA.Header,{children:(0,v.jsx)(u.iA.Row,{children:i.map((e,t)=>(0,v.jsx)(u.iA.HeaderCell,{children:(0,v.jsx)(u.xv,{size:"100",weight:"bold",children:e})},t))})}),(0,v.jsx)(u.iA.Body,{children:a.map((e,t)=>(0,v.jsx)(u.iA.Row,{children:e.map((e,t)=>(0,v.jsx)(u.iA.Cell,{children:(0,v.jsx)(u.xv,{size:"100",children:e})},t))},t))})]})})},F=e=>{let t=(void 0!==l||(l=n(116830)).hash&&"f867b797951e2d08797cfc2a432829dd"!==l.hash&&console.error("The definition of 'StructuredDescriptionComponent_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),i=(0,h.Z)(t,e.pinKey),a=(0,f.Z)(),r=(0,m.Z)({showProductDetailPage:!!i?.isEligibleForPdp});switch(e.type){case b.X.POINTS:return(0,v.jsx)(j,{...e,isInBlendedUIExp:r});case b.X.SPECS:return(0,v.jsx)(I,{accessibilityLabel:a._('Specification view of description', 'webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredSpecs', 'Content represented in specification format'),...e});case b.X.TABLE:return(0,v.jsx)(T,{accessibilityLabel:a._('Table view of description', 'webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredTable', 'Content represented in table format'),...e});case b.X.ELEMENT:return(0,v.jsx)(C,{...e});default:return(0,v.jsx)(P,{...e,pinKey:i})}};function D({descriptions:e,onLoad:t,pinKey:n}){(0,c.useEffect)(()=>{(0,d.Z)("StructuredDescription","/app/www/structuredDescription/StructuredDescription.tsx")},[]);let i=(0,h.Z)(w,n);return((0,c.useEffect)(()=>{"function"==typeof t&&t()},[t]),0===e.length)?null:e.map(({content:e,type:t},n)=>(0,v.jsx)(F,{content:e,order:n,pinKey:i,type:t},n))}let E=(void 0!==r||(r=n(32808)).hash&&"9758e05746f41597abb102ff4c921bd8"!==r.hash&&console.error("The definition of 'ProductDescription_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),A=({structuredDescription:e,type:t,pinKey:i})=>{let a=(void 0!==o||(o=n(553174)).hash&&"0ea92af6ed3e580e484b6776204f5277"!==o.hash&&console.error("The definition of 'ProductDescriptionAccordion_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),l=(0,h.Z)(a,i),r=(0,f.Z)(),s="expandable"===t&&e[0].type===b.X.PARAGRAPH,d=r._('Product Details', 'productDetails.accordionHeader.text', 'text in tap area to open product description accordion panel');return(0,v.jsx)(x.Z,{heading:d,children:(0,v.jsx)(u.xu,{paddingY:+!s,children:(0,v.jsx)(D,{descriptions:e,onLoad:()=>{(0,y.Nx)("description")},pinKey:l})})})},Z=({isOpen:e,onOpen:t,structuredDescription:i,pinKey:a})=>{let l=(void 0!==s||(s=n(843560)).hash&&"778f9a67c785189deaaa1c4cfec46ad3"!==s.hash&&console.error("The definition of 'ProductDescriptionPreview_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s),r=(0,h.Z)(l,a),o=(0,m.Z)({showProductDetailPage:!!r?.isEligibleForPdp}),[d,p]=(0,c.useState)(!1),g=(0,f.Z)(),x=(0,c.useRef)(null),_=o?g._('See more', 'productDescription.productDescriptionPreview.cta', 'CTA label for expanding the description'):g._('See details', 'productDescription.productDescriptionPreview.cta', 'CTA label for expanding the description'),b=e?g._('See less', 'productDescription.productDescriptionPreview.cta', 'CTA label for collapsing the description'):_;return(0,c.useLayoutEffect)(()=>{if(!x.current||e)return;let t=setTimeout(()=>{if(x.current){let e=x.current;p(e.scrollHeight>e.clientHeight)}},10);return()=>clearTimeout(t)},[i,e]),(0,v.jsxs)(u.xu,{"data-test-id":"product-description-preview",display:"block",children:[(0,v.jsx)(u.qd,{size:"300",children:g._('Description', 'productDescription.productDescriptionPreview.header', 'header for the product description')}),(0,v.jsx)(u.xu,{marginTop:2,position:"relative",children:(0,v.jsx)(u.xu,{ref:x,dangerouslySetInlineStyle:{__style:{...e?{}:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",lineClamp:3,boxOrient:"vertical"},transition:"height 200ms ease-in-out"}},children:(0,v.jsx)(D,{descriptions:i,onLoad:()=>{x.current&&(0,y.Nx)("description")},pinKey:r})})}),d&&(0,v.jsx)(u.kC,{justifyContent:"end",children:(0,v.jsx)(u.iP,{display:"inlineBlock",fullWidth:!1,onTap:t,children:(0,v.jsx)(u.xe,{align:"end",size:"200",weight:"bold",children:b})})})]})};function K(e){(0,c.useEffect)(()=>{(0,d.Z)("ProductDescription","/app/common/react/components/shopping/ProductDetailPage/ProductDescription.tsx")},[]);let{commerceData:t,structuredDescription:n,type:i="accordion",viewParameter:a,pinKey:l}=e,r=(0,h.Z)(E,l),{logContextEvent:o}=(0,g.u)(),[s,u]=(0,c.useState)(!1),m=(0,p.Z)(r);return((0,c.useEffect)(()=>{o({event_type:120,component:13597,view_type:3,view_parameter:a,aux_data:{...t}})},[]),m||0!==n.length)?"preview"===i?(0,v.jsx)(Z,{...e,isOpen:s,onOpen:()=>{u(!s),o({event_type:101,component:13597,view_type:3,element:s?13278:13277,view_parameter:a,aux_data:{...t}}),o({event_type:101,component:13597,view_type:3,element:10492,view_parameter:a,aux_data:{...t}})},pinKey:r}):(0,v.jsx)(A,{...e,pinKey:r}):null}},148547:function(e,t,n){n.d(t,{Z:()=>ec});var i,a,l=n(686659),r=n(667294);n(167912);var o=n(312048),s=n(399353),d=n(443376),c=n(340950),u=n(725557),p=n(803389),m=n(519371),g=n(970766),h=n(654805),f=n(166988),y=n(77957),x=n(489325),_=n(385826),b=n(255508),v=n(239321),w=n(183e3),k=n(680391),S=n(566431),P=n(902123),C=n(239757),j=n(113759),I=n(250704),T=n(785893);let F=(void 0!==i||(i=n(46531)).hash&&"8dced786a95725beb90a797a0e54242b"!==i.hash&&console.error("The definition of 'ProductHeading_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function D({clientTrackingParams:e,enableDynamicSizeAdjustment:t,link:n,pinKey:i,text:a,onClickThrough:o}){(0,r.useEffect)(()=>{(0,l.Z)("ProductHeading","/app/common/react/components/shopping/ProductDetailPage/ProductHeading.tsx")},[]);let d=(0,w.Z)(F,i),c=(0,r.useRef)(null),[u,p]=(0,r.useState)("500"),{closeupWithinMasonryEnabled:m,peekCloseupEnabled:g}=(0,j.x4)(),h=(0,f.Z)({showProductDetailPage:!!d?.isEligibleForPdp}),y=(0,k.Z)({href:n||"",clientTrackingParams:(0,I.Z)(e,d?.trackingParams),externalData:{pin:d&&{attributionSourceId:d.attributionSourceId,board:d.board&&{url:d.board.url},campaignId:d.campaignId,entityId:d.entityId,isDownstreamPromotion:d.isDownstreamPromotion,isPromoted:d.isPromoted,pinner:d.pinner&&{username:d.pinner.username},pinPromotionId:d.pinPromotionId,promoter:d.promoter&&{entityId:d.promoter.entityId},storyPinDataId:d.storyPinDataId,trackingParams:d.trackingParams,advertiserId:d.advertiserId}}}),x=(0,C.Z)({clickthroughType:"middleClick",location:"closeup.shopping.productTitle"}),_=(0,T.jsx)(s.xu,{ref:c,children:(0,T.jsx)(s.qd,{id:"product-heading",lineClamp:g?2:void 0,size:m&&!h?"400":u,children:a})});return(0,r.useEffect)(()=>{if(!c||!c.current||!t)return;let e=c.current.querySelector("#product-heading");if(!e)return;let n=Number(e.offsetHeight)||0;Number.isFinite(n)&&p(2>=Math.floor(n/33)?"500":"400")},[t,c]),(0,T.jsx)(P.q,{children:({hovered:t,onMouseEnter:i,onMouseLeave:a})=>(0,T.jsx)(v.Z,{clientTrackingParams:e,hovered:t,pinKey:d,viewType:3,children:(0,T.jsx)(s.xu,{onMouseEnter:i,onMouseLeave:a,children:n?(0,T.jsx)(s.xu,{"data-test-id":"link-navigation",children:(0,T.jsx)(s.xe,{children:(0,T.jsx)(s.rU,{_onAuxClick:({event:e})=>{(0,S.UE)(e)&&(x(),e.stopPropagation(),y({event:e}),o({componentType:14284}))},href:n,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),y({event:e}),o({componentType:14284})},underline:"none",children:_})})}):_})})})}var E=n(369756),A=n(228495),Z=n(319836),K=n(537356),z=n(935009),M=n(230201),L=n(470205),B=n(935059),R=n(24246),H=n(59111),O=n(173874),N=n(501010),U=n(220347),$=n(23641),W=n(774838),V=n(825605),G=n(680589),Y=n(605203),q=n(739405),X=n(575647),J=n(200619),Q=n(601871),ee=n(15392),et=n(405146),en=n(488598),ei=n(675312),ea=n(276469),el=n(9065);let er=(0,el.Z)(()=>n.e("96615").then(n.bind(n,188604)),void 0,e=>188604,"CloseupPartnerModule",e=>["96615"]),eo=(0,el.Z)(()=>Promise.resolve().then(n.bind(n,657654)),void 0,e=>657654,"app-common-react-components-auth-desktop-web-closeup-CloseupCommentModule-UnifiedCommentModule",e=>[]),es=(void 0!==a||(a=n(222433)).hash&&"420cbc88e50b7d12d8712ab2ffd91cf6"!==a.hash&&console.error("The definition of 'ProductMetadata_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),ed=({clientTrackingParams:e,closeupUnifiedTitle:t,durationDays:n,finalLink:i,inBlendedUIExp:a,lowestPrice:l,onClickThrough:o,pin:d,productTitleMarginTop:c,renderDomainOwner:u,renderPriceAndRatings:p,showDomainOwner:m,showDomainOwnerOnTop:g,showPriceHistorySummary:h,showTitle:f,typicalPrice:y})=>(0,T.jsxs)(r.Fragment,{children:[m&&g&&u(),f&&!!t&&(0,T.jsx)(s.xu,{"data-test-id":"product-title",marginTop:c,children:(0,T.jsx)(D,{clientTrackingParams:e,enableDynamicSizeAdjustment:a,link:i,onClickThrough:o,pinKey:d,text:t})},"product-title"),p(),h&&(0,T.jsx)(s.xu,{"data-test-id":"product-price-history-summary",marginTop:2,children:(0,T.jsx)(et.Z,{priceHistorySummary:{durationDays:n,lowestPrice:l,typicalPrice:y}})},"product-price-history-summary"),m&&!g&&u()]});function ec({clientTrackingParams:e,detailsScrollContainerRef:t,hideShopButton:n,inCommentsImprovedDropdownExp:i,inCommentsPopoverExp:a,isBoardOwnerOrCollaborator:v,isLoadingNewlyCreatedComment:k,onClickThrough:P,outerPaddingSize:C,pinKey:I,showPartnerModule:F,showPDPComments:D,showPinStats:et,showTrendsOnPinCloseup:el,trendsData:ec,viewParameter:eu,blendedUIScrollContainerRef:ep}){(0,r.useEffect)(()=>{(0,l.Z)("ProductMetadata","/app/common/react/components/shopping/ProductDetailPage/ProductMetadata.tsx")},[]);let em=(0,R.Z)(),{logContextEvent:eg}=(0,M.u)(),eh=(0,B.Z)(),{closeupWithinMasonryEnabled:ef,peekCloseupEnabled:ey,viewportSize:ex}=(0,j.x4)(),{sideBySideFullWidthCTAEnabled:e_}=(0,h.Z)(),eb=(0,w.Z)(es,I),ev=(0,f.Z)({showProductDetailPage:!!eb.isEligibleForPdp}),ew=(0,N.Z)(),ek=(0,q.ZP)(),eS=(0,r.useRef)(null),eP=ep||eS,{affiliateDisclosure:eC,affiliateLink:ej,carouselData:eI,closeupAttribution:eT,closeupUnifiedDescription:eF,closeupUnifiedTitle:eD,gridTitle:eE,commentsDisabled:eA,favoritedByMe:eZ,isDownstreamPromotion:eK,isEligibleForPreLovedGoodsLabel:ez,isGoLinkless:eM,isOosProduct:eL,isStaleProduct:eB,linkUserWebsite:eR,linkDomain:eH,promoter:eO,richMetadata:eN,sponsorship:eU,storyPinData:e$,nativeCreator:eW}=eb,eV=()=>{(0,$.Nx)("shopButton")},eG=(0,X.Z)(eb)(),{isAuthenticated:eY}=(0,W.B)(),{carouselInfo:eq}=(0,y.G)(),eX=(0,J.Z)(),eJ=(0,Q.lJ)(eh,eX),eQ=(0,Q.q6)(eh,eb?.pinner?.entityId,eX),e0=eN?.products?.[0],{inStock:e1,maxPrice:e2,minPrice:e3,price:e5,standardPrice:e6,unitPrice:e9,unitPricingBaseUnits:e4,unitPricingUnitType:e7}=e0?.offerSummary||{},{durationDays:e8,lowestPrice:te,typicalPrice:tt}=e0?.priceHistorySummary||{},tn=Number.isInteger(e8)&&(!!te||!!tt),ti=eL||!1===e1,{ratingValue:ta,reviewCount:tl,ratingCount:tr}=eN?.aggregateRating||{},to=!!ta&&(tl||tr),{brand:ts,shippingInfo:td}=e0||{},tc=eR?.officialUser?.firstName,{officialUser:tu}=eH||{},tp=eT||tu,{firstName:tm}=tp||{},tg=(0,G.ZP)(tc||tm||"",20),{name:th}=ts||{},tf=!!th,ty=(0,o.TH)(),tx=!eY&&(0,O.isBoardPage)(ty),t_=!!(eO&&!eK)&&eO?.entityId===eW?.entityId,tb=!!ej,tv=!!e$?.hasAffiliateProducts,tw=(!!eU||tv||tb)&&!t_&&!tx,tk=(0,r.useCallback)(e=>{if(e&&tf){let t=ey?"200":void 0;return(0,T.jsx)(s.xe,{align:"center",size:t,weight:"normal",children:e})}return e},[tf,ey]),tS=(eF||"").trim(),tP=(0,ei.Z)(eb),tC=(0,ea.j)({components:tP,pinDescription:tS}),tj=(eq?.carouselData?.carousel_slots?.length??0)>0,tI=(0,r.useMemo)(()=>{let e=eE||eD;if(tj){let{carouselData:t}=eq||{},{carousel_slots:n=[],index:i}=t||{};n&&null!=i&&n[i]&&(e=n[i].title||e)}return e},[eq,eD,eE,tj]),{link:tT,trackedLink:tF,utmLink:tD}=eb||{},tE=(0,S.Zt)({utmLink:tD,trackedLink:tF,link:tT})||"",tA=(0,Y.Z)(tE)??tE,{currentDomain:tZ}=(0,g.Z)({carouselData:eI&&{carouselSlots:eI.carouselSlots&&eI.carouselSlots.map(e=>({domain:e.domain,link:e.link})),index:eI?.index},domain:eb.domain}),tK=tZ.split(".")[0],{freeShippingPrice:tz,freeShippingValue:tM}=td||{},tL=!!tz&&!!tM,tB=!!(to||tL),tR=!n&&(tg||tK)&&tA&&!eM,tH=C??ee.ER,tO=6*!ef,tN="desktop"===ek&&!!ez&&!ti&&ew.checkExperiment("web_organic_pre_loved_goods_label").anyEnabled,tU=eZ?em._('Remove from favorites', 'closeup.productMetadata.removeFromFavorites', 'Text for button allowing users to unfavorite a saved Product Pin'):em._('Add to favorites', 'closeup.productMetadata.addToFavorites', 'Text for button allowing users to favorite a saved Product Pin'),t$=(eb.aggregatedPinData?.commentCount??0)+(eb.aggregatedPinData?.didItData?.imagesCount??0),tW=!!eb.isEligibleForAggregatedComments&&(i?!eb.commentsDisabled:!a)&&(!ev||t$>0),tV=i?!!t$:!(ey&&eb.aggregatedPinData?.commentCount===0),tG=a&&!eA,tY=[...tC.length>0&&tS?[(0,T.jsx)(u.Z,{paddingLeft:ef?tH/2:0,paddingRight:ef?tH/2:0,children:(0,T.jsx)(s.xu,{"data-test-id":"product-description",children:(0,T.jsx)(b.Z,{commerceData:eG,pinKey:eb,structuredDescription:tC,type:"expandable",viewParameter:eu})})},"closeupProductDescription")]:[],...v?[(0,T.jsx)(u.Z,{paddingLeft:ef?tH/2:0,paddingRight:ef?tH/2:0,children:(0,T.jsxs)(s.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:2*!ef,marginTop:2,children:[ef?(0,T.jsx)(s.qd,{size:"400",children:tU}):(0,T.jsx)(s.xe,{weight:"bold",children:tU}),(0,T.jsx)(c.Z,{pinKey:eb})]})},"closeupProductMetadataFavoriteBarMetadataPadding")]:[]],tq=()=>(0,T.jsxs)(s.xu,{alignItems:ev?"start":"center",dangerouslySetInlineStyle:{__style:{columnGap:ef?4:8,flexWrap:ef?"wrap":void 0}},direction:ev?"column":"row",display:"flex",marginTop:ev?1:2,children:[(0,T.jsx)(s.xu,{"data-test-id":"product-price",children:(0,T.jsx)(x.Z,{id:"ProductPrice",children:(0,T.jsx)(E.Z,{colorOverride:"default",isSoldOut:ti,isStale:eB,productDetails:{maxPrice:e2,minPrice:e3,price:e5,standardPrice:e6,unitPrice:e9,unitPricingBaseUnits:e4,unitPricingUnitType:e7},showPreOwnedLabel:tN,type:ef?"mobileHeading":"heading",weight:ev?"bold":"normal"})})},"product-price"),tB&&(ev?(0,T.jsx)(x.Z,{id:"VerticalProductRatingsAndShipping",children:(0,T.jsx)(K.Z,{bracket:!0,compact:!1,count:tr||tl,countFormat:"number",countType:tr?"rating":"review",hideSeparationDot:!0,ratingValue:ta,shippingInfo:{freeShippingPrice:tz,freeShippingValue:tM}})}):(0,T.jsx)(x.Z,{id:"ProductRatingsAndShipping",children:(0,T.jsx)(A.Z,{bracket:!0,count:tr||tl,countFormat:"number",countType:tr?"rating":"review",hideSeparationDot:!0,ratingValue:ta,shippingInfo:{freeShippingPrice:tz,freeShippingValue:tM}})}))]}),tX=()=>tp?(0,T.jsx)(s.xu,{"data-test-id":"pdp-product-metadata-domain-owner",marginBottom:ev?1:2,marginTop:2*!ev,children:(0,T.jsx)(x.Z,{id:"OfficialUserAttributionText",children:(0,T.jsx)(_.Z,{getDisplayName:tk,onMouseDown:tf?()=>{eg({event_type:102,object_id_str:eb.entityId,view_type:3,view_parameter:144,element:13592,aux_data:eG})}:void 0,userKey:tp})})}):null,tJ=()=>(0,T.jsx)(u.Z,{paddingBottom:ey?tH/2:void 0,paddingRight:0,children:(0,T.jsx)(s.xu,{"data-test-id":"product-shop-button",marginTop:ef||ev?0:3,children:(0,T.jsx)(z.Z,{clientTrackingParams:e,color:"secondary",fullWidth:e_,link:tA,onClickThrough:P,onLoad:eV,pinKey:eb,text:em._('Visit site', 'closeup.shop.button', 'shop button')})})}),tQ=4;ef?tQ=0:ey&&tp&&(tQ=2);let t0=`
    [data-testid="product-metadata-details-flex"] > div:last-of-type {
      margin-top: auto;
    }
  `;return(0,T.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{flexDirection:ev?"column":void 0}},display:ev?"flex":"block",height:ev?"100%":void 0,marginTop:ef&&!ev?2:0,children:[ev&&(0,T.jsx)(r.Fragment,{children:(0,T.jsxs)(s.xu,{color:"default",marginBottom:4,children:[(0,T.jsx)(s.xu,{marginBottom:3,children:(0,T.jsx)(x.Z,{id:"ProductMetadataHeader",children:(0,T.jsx)(ed,{clientTrackingParams:e,closeupUnifiedTitle:tI??void 0,durationDays:e8??void 0,finalLink:tA,inBlendedUIExp:ev,lowestPrice:te??void 0,onClickThrough:P,pin:eb,productTitleMarginTop:tQ,renderDomainOwner:tX,renderPriceAndRatings:tq,showDomainOwner:!!tp,showDomainOwnerOnTop:!0,showPriceHistorySummary:tn,showTitle:!!tI,typicalPrice:tt??void 0})})}),tj&&(0,T.jsx)(s.xu,{marginBottom:3,children:(0,T.jsx)(U.Z,{containerId:"InnerScrollContainer",children:(0,T.jsx)(Z.Z,{accessibilityControls:`closeup-image-container-${eb.entityId}`,commerceData:eG,inBlendedUIExp:ev,layout:ev?"row":"column",pinId:eb.entityId,size:"lg",surfaceType:"closeup",viewParameter:156})})}),tR&&(!ef||ev)&&tJ()]})}),ef&&F&&(0,T.jsx)(u.Z,{paddingRight:C,children:(0,T.jsx)(s.xu,{"data-test-id":"PartnerModule",width:"100%",children:(0,T.jsx)(L.Z,{name:"SafeSuspense_Closeup_PartnerModule",children:(0,T.jsx)(V.Z,{children:(0,T.jsx)(er,{borderStyle:m.te,isStoryPin:!1,pinKey:eb,showPinStats:et,trendsData:el?ec?.data?.results:null,viewportSize:ex})})})})}),ey&&(0,T.jsx)(u.Z,{paddingRight:0,children:tX()}),(0,T.jsxs)(s.xu,{ref:eP,dangerouslySetInlineStyle:{__style:{overflowY:ey||ev?"auto":void 0,paddingRight:ey?`${m.Gd}px`:void 0}},height:ey?"100%":void 0,marginBottom:v||D?0:5,marginEnd:ey?void 0:tO,marginTop:ef&&!ev?2:0,children:[ey&&(0,T.jsx)(H.Z,{unsafeCSS:t0}),(0,T.jsxs)(s.kC,{"data-testid":"product-metadata-details-flex",direction:"column",height:ey?"100%":void 0,children:[(0,T.jsxs)(u.Z,{paddingLeft:ef&&!ev?tH/2:0,paddingRight:ef&&!ev?tH/2:0,children:[(0,T.jsxs)(s.xu,{alignItems:ef?"start":void 0,display:ef?"flex":void 0,justifyContent:ef?"between":void 0,children:[(0,T.jsxs)(s.kC.Item,{flexBasis:!ef||ev?"100%":"77%",children:[!ev&&(0,T.jsx)(ed,{clientTrackingParams:e,closeupUnifiedTitle:tI??void 0,durationDays:e8??void 0,finalLink:tA,inBlendedUIExp:!1,lowestPrice:te??void 0,onClickThrough:P,pin:eb,productTitleMarginTop:tQ,renderDomainOwner:tX,renderPriceAndRatings:tq,showDomainOwner:!ey&&!ev&&!!tp,showDomainOwnerOnTop:!1,showPriceHistorySummary:tn,showTitle:!!tI,typicalPrice:tt??void 0}),tw&&!ey&&(0,T.jsx)(s.xu,{marginBottom:4,children:(0,T.jsx)(x.Z,{id:"SponsorshipText",children:(0,T.jsx)(en.Z,{affiliateDisclosure:eC,hasAffiliateLink:tb,hasAffiliateProducts:tv})})}),tG&&(0,T.jsx)(x.Z,{id:"UnifiedCommentModule",children:(0,T.jsx)(eo,{inCommentsPopoverExp:a,pinKey:eb,viewParameter:eu})})]}),tR&&ef&&!ev&&(0,T.jsx)(s.xu,{alignItems:"stretch",display:e_?"block":"flex",flex:"grow",justifyContent:"end",children:tJ()})]}),ev&&tC.length>0&&tS&&(0,T.jsx)(s.xu,{"data-test-id":"product-description",children:(0,T.jsx)(b.Z,{commerceData:eG,pinKey:eb,structuredDescription:tC,type:"preview",viewParameter:eu})})]}),(0,T.jsxs)(s.kC,{alignItems:"stretch",direction:"column",flex:"grow",justifyContent:"start",children:[(0,T.jsx)(r.Fragment,{children:!ev&&tY.map((e,t)=>(0,T.jsxs)(r.Fragment,{children:[e,(0,T.jsx)(u.Z,{paddingLeft:tH/2,paddingRight:tH/2,children:(0,T.jsx)(s.xu,{marginBottom:2,marginTop:2,width:"100%",children:(0,T.jsx)(p.Z,{show:!!(tW&&tV||t<tY.length-1),surface:"product-metadata-details"})})})]},`detailFragment-${e.key}`))}),(!tY.length||ev)&&(0,T.jsx)(s.xu,{marginBottom:3,marginTop:tW&&tV?3:0,width:"100%",children:(0,T.jsx)(p.Z,{show:(ef||ev)&&tW&&tV&&t$>0,surface:"product-metadata-details"})}),D&&!a&&(0,T.jsx)(u.Z,{paddingBottom:ef&&!(i&&tW)?tH/2:void 0,paddingLeft:ef&&!ev?tH/2:0,paddingRight:ef&&!ev?ee.ER/2:0,children:tW&&(0,T.jsx)(L.Z,{name:"ProductPinCanonicalCard",children:(0,T.jsx)(x.Z,{id:"CanonicalCard",children:(0,T.jsx)(d.Z,{aggregatedPinId:eb.aggregatedPinData?.entityId,closeupAttributionId:eb.closeupAttribution?.entityId,closeupAttributionUsername:eb.closeupAttribution?.username,commentCount:eb.aggregatedPinData?.commentCount??0,commentsDisabled:eb.commentsDisabled,inCommentsImprovedDropdownExp:i,isLoadingNewCreatedComment:k,isORBACProfileManager:eQ,isShopTheLook:eb.aggregatedPinData?.isShopTheLook,isVideo:!!eb.videos?.videoList,orbacSubjectId:eJ,photoCount:eb.aggregatedPinData?.didItData?.imagesCount??0,pinId:eb.entityId,pinKey:eb,pinnerId:eb.pinner?.entityId,scrollContainerRef:ev?eP.current:t,shouldShowHeading:tV,storyPinDataId:eb.storyPinData?.entityId,viewParameter:eu})})})},"closeupProductMetadataComments")]})]})]})]})}},369756:function(e,t,n){n.d(t,{Z:()=>c});var i=n(686659),a=n(667294),l=n(399353),r=n(724903),o=n(24246),s=n(113759),d=n(785893);function c({colorOverride:e,inlineComponent:t,isSoldOut:n,isStale:c,productDetails:u,showSalesPrice:p,showPreOwnedLabel:m,textSize:g,type:h,weight:f="normal"}){(0,a.useEffect)(()=>{(0,i.Z)("ProductPrice","/app/common/react/components/shopping/ProductDetailPage/ProductPrice.tsx")},[]);let{peekCloseupEnabled:y}=(0,s.x4)(),{maxPrice:x,minPrice:_,price:b,standardPrice:v,unitPrice:w,unitPricingBaseUnits:k,unitPricingUnitType:S}=u,P="100";"heading"!==h||y?"mobileHeading"===h?P="300":("cutout"===h||y)&&(P="200"):P="400",P=g||P;let C=(0,o.Z)(),j=C._('See price on site', 'product.price.stale', 'Product is stale'),I=C._('Sold out', 'product.price.soldOut', 'Product is sold out'),T=C._('Pre-owned', 'product.price.preOwned', 'Label to indicate that the product is pre-owned');return c?(0,d.jsx)(l.xe,{color:"subtle",size:P,weight:"normal",children:j}):(0,d.jsxs)(l.kC,{alignItems:"stretch",dataTestId:"product-price",direction:"row",justifyContent:"start",children:[n&&(0,d.jsx)(l.xu,{"data-test-id":"product-sold-out-text",marginEnd:2,children:(0,d.jsx)(l.xe,{color:"subtle",size:P,weight:"normal",children:I})}),(!!b||!!_||!!x)&&(0,d.jsx)(l.xe,{color:e||"default",dataTestId:"product-price",size:P,weight:f,children:(0,d.jsx)("span",{children:(0,r.Z)({maxPrice:x,minPrice:_,price:b})})}),!!w&&!!k&&!!S&&(0,d.jsx)(l.xu,{marginStart:1,children:(0,d.jsx)(l.xe,{color:"subtle",size:"200",weight:"normal",children:`(${w} / ${k} ${S})`})}),!!b&&!!v&&b!==v&&!p&&(0,d.jsx)(l.xu,{marginStart:1,children:(0,d.jsx)(l.xe,{color:"cutout"===h?"dark":"subtle",size:P,weight:["heading","mobileHeading"].includes(h)?"normal":"bold",children:(0,d.jsx)("span",{style:{textDecoration:"line-through"},children:v})})}),m&&(0,d.jsx)(l.xu,{marginStart:2,children:(0,d.jsx)(l.xe,{color:"subtle",size:P,weight:"normal",children:T})}),t||null]})}},228495:function(e,t,n){n.d(t,{Z:()=>p});var i=n(686659),a=n(667294),l=n(399353),r=n(759271),o=n(477252),s=n(113759),d=n(569905),c=n(674774),u=n(785893);function p({count:e,countType:t,countFormat:n,hideSeparationDot:p,bracket:m,ratingValue:g,unauthPdp:h,shippingInfo:f}){(0,a.useEffect)(()=>{(0,i.Z)("ProductRatingsAndShipping","/app/common/react/components/shopping/ProductDetailPage/ProductRatingsAndShipping/ProductRatingsAndShipping.tsx")},[]);let{closeupWithinMasonryEnabled:y,peekCloseupEnabled:x}=(0,s.x4)(),{mWebCloseupRedesignEnabled:_}=(0,r.Z)();return(0,u.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{columnGap:y?4:void 0,rowGap:8}},display:"flex",wrap:!0,children:[(0,u.jsx)(d.Z,{bracket:m,count:e,countFormat:n,countType:t,rating:g,textSize:x||_?"200":"300",unauthPdp:h}),(0,u.jsx)(l.xu,{marginStart:!y&&(0,c.Z)({count:e,rating:g})&&p?2:0,children:(0,u.jsx)(o.Z,{customStyles:{color:"default",size:x||_?"200":"300"},freeShippingPrice:f?.freeShippingPrice,freeShippingValue:f?.freeShippingValue,showPrevDot:(0,c.Z)({count:e,rating:g})&&!p})})]})}},319836:function(e,t,n){n.d(t,{g:()=>I,Z:()=>D});var i=n(686659),a=n(667294),l=n(399353),r=n(583522),o=n(77957),s=n(581722),d=n(230201),c=n(24246),u=n(293646),p=n(515158),m=n(72034),g=n(785893);function h({accessibilityControls:e,accessibilityLabel:t,currentlySelectedIndex:n,index:o,onSelect:h,pinId:f,isDarkMode:y=!1,isSelectOnHover:x,size:_,thumbnail:b,mediaType:v="image",viewParameter:w,inBlendedUIExp:k}){(0,a.useEffect)(()=>{(0,i.Z)("CarouselItem","/app/common/react/components/shopping/ProductDetailPage/CarouselItem.tsx")},[]);let{logContextEvent:S}=(0,d.u)(),P=(0,s.I0)(),C=(0,c.Z)(),[j,I]=(0,a.useState)(!1),{isCloseupMediaViewerEnabled:T}=(0,r.Z)({isShufflePin:!1}),F=(0,a.useCallback)(e=>{"video"===v&&e&&!j&&(I(!0),S({event_type:13,component:13596,element:12831,view_type:3,view_parameter:w}))},[S,v,w,j]),D=(0,u.Z)({onVisibilityChanged:F}),E=()=>{P((0,m.yR)(f,o)),h(o)},A=n===o||!n&&0===o;return(0,g.jsx)(l.xu,{ref:D,children:(0,g.jsx)(l.iP,{accessibilityControls:e,accessibilityCurrent:!!A||void 0,accessibilityLabel:t,onMouseEnter:({event:e})=>{e.preventDefault(),e.stopPropagation(),x&&E()},onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),x||E()},rounding:T?400:void 0,children:(0,g.jsx)(p.Z,{isDarkMode:y,outlined:A,rounding:T?400:void 0,type:k?"border":void 0,children:(0,g.jsxs)(l.xu,{position:"relative",children:[(0,g.jsx)(l.zd,{height:_,wash:!0,width:_,children:(0,g.jsx)(l.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:b})}),"video"===v&&(0,g.jsx)(l.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:!0,position:"absolute",top:!0,width:"100%",children:(0,g.jsx)(l.JO,{accessibilityLabel:C._('Secondary Carousel Video Icon', 'secondaryCarousel.carouselItem.videoIndicatorIcon', 'accessibility label on secondary carousel item'),color:"light",icon:"play",size:20})})]})})})})}var f=n(774838);let y=()=>{};function x({direction:e,handleNavHoverToggle:t,leftHover:n,isDarkMode:r=!1,hasBlurredBackground:o=!1,onScroll:s,rightHover:d,shouldPadArrows:u,size:p="md"}){(0,a.useEffect)(()=>{(0,i.Z)("DeprecatedArrows","/app/common/react/components/shopping/ProductDetailPage/DeprecatedArrows/DeprecatedArrows.tsx")},[]);let m=(0,c.Z)(),{isRTL:h}=(0,f.B)(),x=function({direction:e,isDarkMode:t,isRTL:n,leftHover:i,rightHover:a,shouldPadArrows:l,verticalSize:r,hasBlurredBackground:o=!1},s){let d={backgroundImage:`linear-gradient(to ${e}, rgba(255, 255, 255, 0) 0%, #fff 90%)`,height:"100%",top:"0px",bottom:void 0},c={color:t?"inverse":"default",height:"40px",justifyContent:"center",left:void 0,right:void 0},u={sm:"54px",md:"124px",lg:"28px"};return{up:{...c,backgroundImage:o?"":`linear-gradient(${t?"#000 0%, rgba(0, 0, 0, 0) 90%":"#fff 0%, rgba(255, 255, 255, 0) 90%"})`,bottom:"",icon:"chevron-up",label:s._('Up arrow', 'product.carousel.arrowUp', 'Label for up arrow button in closeup image carousel'),top:"0px",width:u[r]},down:{...c,backgroundImage:o?void 0:`linear-gradient(${t?"rgba(0, 0, 0, 0) 0%, #000 90%":"rgba(255, 255, 255, 0) 0%, #fff 90%"})`,bottom:"0px",icon:"chevron-down",label:s._('Down arrow', 'product.carousel.arrowDown', 'Label for down arrow button in closeup image carousel'),top:void 0,width:u[r]},left:{...d,color:l||i?"default":"subtle",icon:n?"chevron-right":"chevron-left",justifyContent:"start",label:s._('Left arrow', 'Label for left arrow button in search guides', 'Label for left arrow button in search guides'),left:"0px",right:void 0,width:n?"22px":"210px"},right:{...d,color:l||a?"default":"subtle",icon:n?"chevron-left":"chevron-right",justifyContent:"end",label:s._('Right arrow', 'Label for right arrow button in search guides', 'Label for right arrow button in search guides'),left:void 0,right:"0px",width:n?"22px":"210px"}}}({direction:e,isDarkMode:r,isRTL:h,leftHover:n,rightHover:d,shouldPadArrows:u,verticalSize:p,hasBlurredBackground:o},m);return(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{willChange:"transform",pointerEvents:"none",top:x[e].top,bottom:x[e].bottom,left:x[e].left,right:x[e].right}},height:x[e].height,position:"absolute",children:(0,g.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundImage:x[e].backgroundImage,marginTop:u?"25px":void 0}},display:"flex",height:"100%",justifyContent:x[e].justifyContent,width:x[e].width,children:(0,g.jsx)("button",{onClick:s,onMouseEnter:t?()=>t(e,!0):y,onMouseLeave:t?()=>t(e,!1):y,style:{backgroundColor:"transparent",border:0,height:"100%",outline:"none",padding:0,pointerEvents:"all"},children:(0,g.jsx)(l.kC,{alignItems:"center",height:"100%",justifyContent:x[e].justifyContent,width:"50px",children:(0,g.jsx)(l.JO,{accessibilityLabel:x[e].label,color:x[e].color,icon:x[e].icon})})})})})}var _=n(667980);function b({direction:e,isDarkMode:t=!1,onScroll:n}){return(0,a.useEffect)(()=>{(0,i.Z)("SecondaryCarouselArrows","/app/common/react/components/shopping/ProductDetailPage/SecondaryCarouselArrows.tsx")},[]),(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{top:"50%",transform:"translateY(-50%)",..."left"===e?{left:"8px"}:{right:"8px"}}},position:"absolute",zIndex:new l.Ry(10),children:(0,g.jsx)(_.Z,{children:(0,g.jsx)(l.hU,{accessibilityLabel:`${e} arrow`,bgColor:"default",icon:"left"===e?"chevron-left":"chevron-right",iconColor:t?"light":"dark",onClick:({event:e})=>n(e),size:"sm"})})})}var v=n(59111),w=n(216975),k=n(273675),S=n(829485),P=n(730448),C=n(113759),j=n(49254);let I=52,T={lg:60,md:120,sm:52},F=`
  .ProductCarousel-InnerScrollContainer {
    -ms-overflow-style: none;
    overflow-x: hidden;
    overflow-y: auto;
  }
  .ProductCarousel-InnerScrollContainer::-webkit-scrollbar {
    display: none;
  }
  .ProductCarousel-InnerScrollContainer--row {
    -ms-overflow-style: none;
    overflow-x: auto;
    overflow-y: hidden;
  }
  .ProductCarousel-InnerScrollContainer--row::-webkit-scrollbar {
    display: none;
  }
`;function D({accessibilityControls:e,commerceData:t={},isSelectOnHover:n,layout:s="column",onImageSelect:u,pinId:p,size:m,surfaceType:f,viewParameter:y,inBlendedUIExp:_}){let I;(0,a.useEffect)(()=>{(0,i.Z)("SecondaryCarousel","/app/common/react/components/shopping/ProductDetailPage/SecondaryCarousel.tsx")},[]);let{logContextEvent:D}=(0,d.u)(),E=(0,c.Z)(),{isCloseupMediaViewerEnabled:A}=(0,r.Z)({isShufflePin:!1}),{carouselInfo:Z}=(0,o.G)(),K=Z?.handleCarouselSwipe,z=Z?.carouselData?.carousel_slots??[],M=Z?.carouselData?.index??0,[L,B]=(0,a.useState)(),[R,H]=(0,a.useState)(0),[O,N]=(0,a.useState)(),[U,$]=(0,a.useState)(),[W,V]=(0,a.useState)(),[G,Y]=(0,a.useState)(!1),[q,X]=(0,a.useState)(!1),[J,Q]=(0,a.useState)(!1),[ee,et]=(0,a.useState)(!1),[en,ei]=(0,a.useState)(!1),ea=(0,j.t)(),{closeupWithinMasonryEnabled:el}=(0,C.x4)(),er=(0,a.useRef)(null),eo=(0,a.useRef)(null),es=T[m],ed=A&&"media-viewer"===f,ec=A&&"media-viewer"===f;(0,a.useEffect)(()=>{D({event_type:120,component:13596,view_type:3,view_parameter:y,aux_data:{pin_id:p,...t}})},[]),(0,a.useEffect)(()=>{if(!L||!er.current)return;let e=er.current.getBoundingClientRect();H(Math.floor(e.top)),N(Math.floor(e.bottom)),V(Math.floor(e.top)),$(Math.floor(e.bottom))},[er.current,L]),(0,a.useEffect)(()=>{if(er.current){let{height:e,top:t,bottom:n}=er.current.getBoundingClientRect();H(Math.floor(t)),N(Math.floor(n)),B(Math.floor(e))}},[z.length]),(0,a.useEffect)(()=>{!L&&er.current&&B(Math.floor(er.current.getBoundingClientRect().height))},[er.current]);let eu=8/(el?2:1);(0,a.useEffect)(()=>{R&&W&&U&&O&&z.length>=4&&(R<W?Y(!0):Y(!1),O>=490+ea+eu?X(!0):X(!1))},[R,O,W,U]);let ep=()=>{if(!eo.current)return;let{scrollTop:e,scrollHeight:n,clientHeight:i,scrollLeft:a,scrollWidth:l,clientWidth:r}=eo.current;if("column"===s)Y(e>0),X(e+i<n-5);else{let e=l>r,t=e&&a>0,n=e&&a+r<l-5;Q(t),et(n)}("column"===s?e>0:a>0)&&!en&&(ei(!0),D({event_type:110,component:13596,view_type:3,view_parameter:y,aux_data:{pin_id:p,...t}}))},em=(0,a.useRef)(ep);(0,a.useEffect)(()=>{em.current=ep}),(0,a.useEffect)(()=>{em.current()},[s,z.length,L]);let eg=eo.current;(0,a.useEffect)(()=>{let e=(0,P.Z)(()=>{if(er.current){let e=er.current.getBoundingClientRect();H(Math.floor(e.top)),N(Math.floor(e.bottom)),em.current()}},16);return eg?.addEventListener("scroll",e),()=>{eg?.removeEventListener("scroll",e)}},[eg]);let eh=(e,t=!1)=>{0!==e&&(I&&I.cancel(),er.current&&eo.current&&(t?eo.current.scrollBy({left:e,behavior:"smooth"}):(I=(0,S.Z)(eo.current,0,e,{easingFunction:"ease-in-out",scrollSpeedPxPerMs:.8,onAnimationComplete:()=>{I=null},extendToEdgeDistanceY:50})).start(),ep()))};return(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{marginTop:`${eu}px`}},overflow:"hidden",position:"relative",children:[(0,g.jsx)(v.Z,{unsafeCSS:F}),(0,g.jsx)("div",{ref:eo,className:`ProductCarousel-InnerScrollContainer${"row"===s?"--row":""}`,"data-test-id":"InnerScrollContainer",id:"InnerScrollContainer",style:{maxHeight:"column"===s?490:void 0,maxWidth:"row"===s?"100%":void 0,cursor:"default"},children:(0,g.jsx)(l.xu,{ref:er,alignItems:"center",dangerouslySetInlineStyle:{__style:{columnGap:"8px",rowGap:"16px"}},direction:"row"===s?"row":"column",display:"flex",justifyContent:"row"===s?"start":"center",marginEnd:"row"===s?4:6*!el,position:"relative",width:"row"===s?"100%":es+4,children:z.map((i,a)=>{let{images:l,videos:r}=i,{thumbnail:o,mediaType:s}=r?{thumbnail:r.cover_image_url,mediaType:"video"}:{thumbnail:(0,k.Z)({images:l,resolutionPreferences:["564x","736x","236x"]})?.url,mediaType:"image"};return(0,g.jsx)(h,{accessibilityControls:e,accessibilityLabel:(0,w.Wc)(E._('image {{ index }} of {{ total }}', 'secondaryCarousel.carouselItem.accessibilityLabel', 'Accessibility label for carousel item. index: the current image index. total: the total number of images'),{index:(a+1).toString(),total:z.length.toString()}),currentlySelectedIndex:M,inBlendedUIExp:_,index:a,isDarkMode:ed,isSelectOnHover:n,mediaType:s,onSelect:()=>{(u||K)&&(D({event_type:101,component:13596,element:"image"===s?11922:12831,view_type:3,view_parameter:y,aux_data:{...t}}),u?.(a),K?.(a))},pinId:p,size:es,thumbnail:o||"",viewParameter:y},`carousel-item-${i.image_signature||""}-${a}`)})})}),!!L&&z.length>3&&(0,g.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},height:L>490?494:L+4,overflow:"hidden",position:"absolute",top:!0,width:"100%",children:["column"===s&&G&&(0,g.jsx)(x,{direction:"up",hasBlurredBackground:ec,isDarkMode:ed,onScroll:e=>{e.preventDefault(),e.stopPropagation(),eh(-100)},size:m}),"column"===s&&q&&(0,g.jsx)(x,{direction:"down",hasBlurredBackground:ec,isDarkMode:ed,onScroll:e=>{e.preventDefault(),e.stopPropagation(),eh(100)},size:m}),"row"===s&&J&&(0,g.jsx)(b,{direction:"left",isDarkMode:ed,onScroll:e=>{e.preventDefault(),e.stopPropagation(),eh(-(eo.current?Math.floor(.85*eo.current.clientWidth):100),!0)},size:m}),"row"===s&&ee&&(0,g.jsx)(b,{direction:"right",isDarkMode:ed,onScroll:e=>{e.preventDefault(),e.stopPropagation(),eh(eo.current?Math.floor(.85*eo.current.clientWidth):100,!0)},size:m})]})]})}},537356:function(e,t,n){n.d(t,{Z:()=>u});var i=n(686659),a=n(667294),l=n(399353),r=n(785893);let o=()=>(0,r.jsx)(l.xu,{alignSelf:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"var(--base-color-grayscale-150)"}},height:44,width:1}),s=()=>(0,r.jsx)(l.xe,{color:"subtle",size:"200",children:""});function d({icon:e,iconAccessibilityLabel:t,children:n,iconColor:d="default",iconSize:c=18,layout:u="vertical",separatorType:p="line",showSeparator:m=!0}){return(0,a.useEffect)(()=>{(0,i.Z)("VerticalIconSection","/app/common/react/components/shopping/ProductDetailPage/VerticalIconSection.tsx")},[]),(0,r.jsxs)(l.kC,{alignItems:"center",direction:"row",gap:2,children:[m&&("dot"===p?(0,r.jsx)(s,{}):(0,r.jsx)(o,{})),(0,r.jsxs)(l.kC,{alignItems:"horizontal"===u?"center":"start",direction:"horizontal"===u?"row":"column",gap:1,children:[(0,r.jsx)(l.JO,{accessibilityLabel:t,color:d,icon:e,size:c}),n]})]})}var c=n(477252);function u({compact:e=!1,count:t,iconColor:n="default",iconSize:o=18,layout:s="vertical",ratingValue:u,separatorType:p="line",shippingInfo:m,textSize:g="200"}){(0,a.useEffect)(()=>{(0,i.Z)("VerticalProductRatingAndShipping","/app/common/react/components/shopping/ProductDetailPage/VerticalProductRatingAndShipping.tsx")},[]);let h=null!=u?parseFloat(u):0,f=null!=u&&!Number.isNaN(h);return(0,r.jsx)(l.xu,{marginTop:3*!e,paddingY:2*!e,width:"100%",children:(0,r.jsxs)(l.kC,{alignItems:"start",gap:e?2:void 0,justifyContent:e?"start":"between",children:[f&&(0,r.jsx)(d,{icon:"star",iconAccessibilityLabel:"Star rating",iconColor:n,iconSize:o,layout:s,separatorType:p,showSeparator:!1,children:(0,r.jsxs)(l.kC,{gap:1,children:[(0,r.jsx)(l.xe,{color:"subtle",size:g,children:h.toFixed(1)}),null!=t&&t>0&&(0,r.jsxs)(l.xe,{color:"subtle",size:g,children:["(",t,")"]})]})}),(m?.freeShippingPrice||m?.freeShippingValue)&&(0,r.jsx)(l.kC.Item,{flexBasis:(()=>{if(!e)return f?"50%":"100%"})(),children:(0,r.jsx)(d,{icon:"box",iconAccessibilityLabel:"Shipping",iconColor:n,iconSize:o,layout:s,separatorType:p,showSeparator:f,children:(0,r.jsx)(c.Z,{customStyles:{color:"subtle",size:g},freeShippingPrice:m?.freeShippingPrice,freeShippingValue:m?.freeShippingValue,showPrevDot:!1})})})]})})}},935009:function(e,t,n){n.d(t,{Z:()=>b});var i,a=n(686659),l=n(667294);n(167912);var r=n(399353),o=n(613465),s=n(239321),d=n(183e3),c=n(59111),u=n(680391),p=n(566431),m=n(501010),g=n(902123),h=n(239757),f=n(113759),y=n(785893);let x=(void 0!==i||(i=n(65003)).hash&&"e327c6c7127550a2f17b174cd4dcfa73"!==i.hash&&console.error("The definition of 'VisitButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),_=`
  .visit-button-animate {
    position: relative;
    overflow: hidden;
    transform-origin: center;
  }
  .visit-button-animate.pulse-glow {
    animation: pulseGlowShadow 1000ms ease-in-out 0ms 1;
  }
  .visit-button-animate.pulse-glow :where(svg, span, div) {
    transform-origin: center;
    animation: pulseGlowScale 1000ms ease-in-out 0ms 1;
  }
  @keyframes pulseGlowShadow {
    0%, 100% {
      box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.4);
    }
    50% {
      box-shadow: 0 0 20px 5px rgba(255, 255, 255, 0.2);
    }
  }
  @keyframes pulseGlowScale {
    0%, 100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.05);
    }
  }
  .visit-button-animate::before {
    content: '';
    position: absolute;
    top: 0;
    left: -120%;
    width: 120%;
    height: 100%;
    background: linear-gradient(90deg,
      transparent 0%,
      rgba(255,255,255,0.2) 30%,
      rgba(255,255,255,0.7) 50%,
      rgba(255,255,255,0.2) 70%,
      transparent 100%);
    animation: visitBtnShimmer 1000ms ease-out 0ms 1;
  }
  @keyframes visitBtnShimmer {
    0% { left: -120%; }
    100% { left: 100%; }
  }
`;function b({clientTrackingParams:e,color:t,link:n,onClickThrough:i,onLoad:b,pinKey:v,text:w,fullWidth:k=!1}){(0,l.useEffect)(()=>{(0,a.Z)("VisitButton","/app/common/react/components/shopping/ProductDetailPage/VisitButton.tsx")},[]);let S=(0,d.Z)(x,v),{peekCloseupEnabled:P}=(0,f.x4)(),{animateVisitSite:C}=(0,o.g)(),{anyEnabled:j}=(0,m.Z)().checkExperiment("closeup_dweb_visit_site_animation"),I=(0,h.Z)({clickthroughType:"middleClick",location:"closeup.visitButton"}),T=(0,u.Z)({href:{pathname:n,state:{trackingParams:e}},clientTrackingParams:e,externalData:{pin:S&&{attributionSourceId:S.attributionSourceId,board:S.board&&{url:S.board.url},campaignId:S.campaignId,entityId:S.entityId,isDownstreamPromotion:S.isDownstreamPromotion,isPromoted:S.isPromoted,pinner:S.pinner&&{username:S.pinner.username},pinPromotionId:S.pinPromotionId,promoter:S.promoter&&{entityId:S.promoter.entityId},storyPinDataId:S.storyPinDataId,trackingParams:S.trackingParams,advertiserId:S.advertiserId}}});return(0,l.useEffect)(()=>{"function"==typeof b&&b()},[b]),(0,y.jsx)(g.q,{children:({hovered:a,onMouseEnter:l,onMouseLeave:o})=>(0,y.jsx)(s.Z,{clientTrackingParams:e,hovered:a,pinKey:S,viewType:3,children:(0,y.jsxs)("div",{className:C&&j?"visit-button-animate pulse-glow":void 0,children:[(0,y.jsx)(c.Z,{unsafeCSS:_}),(0,y.jsx)(r.ZP,{_onAuxClick:({event:e})=>{(0,p.UE)(e)&&(I(),e.stopPropagation(),i({componentType:194}),T({event:e}))},_onMouseEnter:l,_onMouseLeave:o,color:t,fullWidth:P||k,href:n,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),i({componentType:194}),T({event:e})},rel:"nofollow",size:"lg",text:w})]})})})}},221175:function(e,t,n){n.d(t,{AL:()=>m,CT:()=>p,FA:()=>_,Kw:()=>w,MS:()=>d,O3:()=>C,OI:()=>r,Rk:()=>j,SP:()=>a,Wm:()=>i,Y4:()=>S,Zn:()=>u,at:()=>b,dH:()=>g,e4:()=>c,eX:()=>v,eq:()=>x,iC:()=>o,jf:()=>f,m6:()=>h,pg:()=>T,ps:()=>P,tT:()=>s,xZ:()=>l,xh:()=>y,yG:()=>I,yz:()=>k,z3:()=>F});let i=446,a=16,l=48,r={x:0,y:0,w:0,h:0},o=`
  .preview-crop-area-enter {
    opacity: 0;
  }

  .preview-crop-area-enter-active {
    opacity: 1;
    transition: opacity 300ms;
  }

  .preview-crop-area-exit {
    opacity: 1;
  }

  .preview-crop-area-exit-active {
    opacity: 0;
    transition: opacity 300ms;
  }

  .preview-crop-area-exit-done {
    opacity: 0;
  }
`,s="anchor",d=2,c=20,u=14,p=16,m=10,g=8,h=1,f=.75,y=4,x=3,_={nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},b="cropper-background",v="cropper-cropbox",w=32,k=20,S=10,P=1,C=0,j=120,I=2,T=.2,F=.25},876645:function(e,t,n){n.d(t,{Z:()=>a});let i="undefined"!=typeof window&&window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now();function a({window:e,duration:t,run:n}){let a=i(),l=0,r=null,o=()=>{let s=i()-a,d=s-l;if(t===1/0)n(0,s,d);else{let e=s/t;if(e>=1)return void n(1,s,d);n(e,s,d)}l=s,r=e.requestAnimationFrame(o)};return{start:()=>{r=e.requestAnimationFrame(o)},cancel:()=>{r&&(e.cancelAnimationFrame(r),r=null)}}}},375967:function(e,t,n){n.d(t,{Z:()=>_});var i=n(581722),a=n(331128),l=n(458465),r=n(230201),o=n(236269),s=n(924591),d=n(935059),c=n(24246),u=n(424868),p=n(577356),m=n(200619),g=n(601871),h=n(264267),f=n(107889),y=n(426130),x=n(785893);function _(){let e=(0,i.I0)(),t=(0,a.Z)(),{updateAggregatedComment:n}=(0,h.nf)(),{logContextEvent:_}=(0,r.u)(),{showOneToast:b}=(0,p.dI)(),v=(0,d.Z)(),w=(0,m.Z)(),k=(0,g.lJ)(v,w),S=(0,c.Z)();return{handleAddComment:async function(i,a,r,d,c,p,m,g,h,w){let{commentMedia:P,contentMarkdown:C,force:j,imageSignatures:I,tags:T}=i,F=!!w,D=!!h;if(!a)return!1;try{if(a){if(D)h.type===f.n.didIt?await e((0,y.IU)({id:h.id,details:C,pinId:r??"",image_signatures:"image_signatures"in h&&h.image_signatures?h.image_signatures:[]})):await n({commentId:h.id,force:j,orbacSubjectId:k,tags:T,text:C});else if(I.length){let t={aggregatedPinDataId:a,details:C,image_signatures:I,pin_id:r??"",username:v.isAuth&&v.username||"",fromUnifiedComment:!0};await e((0,y.DD)(t))}else if(F){let e=w?.parentType!==f.n.pin,n=e?w?.parentType===f.n.didIt:w?.type===f.n.didIt,i=e?w?.parentId||"":w?.id,a=n?f.o.didIt:f.o.aggregatedComment,l=e?w?.id:void 0;await t({force:j,fromUnifiedComment:!0,objectType:a,objectId:i,pinId:r,orbacSubjectId:k,replyToCommentId:l,tags:T,text:C})}else await t({commentMedia:P,force:j,fromUnifiedComment:!0,objectType:f.o.pin,objectId:a,pinId:r,tags:T,text:C,orbacSubjectId:k});_({event_type:7,clientTrackingParams:p,object_id_str:r,aux_data:{num_user_mention_tags:(T?JSON.parse(T):[]).length,...d?{creator_id:c,story_pin_data_id:d}:{}}})}}catch(e){return[u.ky,u.LJ].includes((0,o.Z)(e,"api_error_code")??0)?m((0,o.Z)(e,"api_error_code")===u.ky?l.A9.WARNING:l.A9.BLOCK):b(({hideToast:t})=>(0,x.jsx)(s.Z,{onHide:t,text:(0,o.Z)(e,"message_detail")||(0,o.Z)(e,"message")||S._('There was an issue posting your comment.', 'comment.post.errorMessage', 'error message for posting comment in toast'),type:"error"})),!1}return g(!1),!0}}}},434418:function(e,t,n){n.d(t,{Z:()=>r});var i=n(581722),a=n(264267),l=n(426130);function r(e){let t=(0,i.I0)(),{toggleAggregatedCommentLike:n,toggleAggregatedCommentHelpful:r}=(0,a.nf)();return{toggleCommentLike:(i,a,r)=>()=>{r?t((0,l.wH)({didItDataId:i,isLikedByMe:a,orbacSubjectId:e})):n({aggregatedCommentId:i,isLikedByMe:a,orbacSubjectId:e})},toggleCommentHelpful:(n,i,a)=>()=>{a?t((0,l.YH)({didItDataId:n,isMarkedHelpfulByMe:i,orbacSubjectId:e})):r({aggregatedCommentId:n,isMarkedHelpfulByMe:i,orbacSubjectId:e})}}}},400850:function(e,t,n){n.d(t,{A5:()=>l,ZP:()=>r,kH:()=>i});let i={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",YEAR_SHORT_MONTH_DAY_TIME_TIMEZONE:"year_short_month_day_time_timezone",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit",TWO_DIGIT_YEAR:"two_digit_year",NUMERIC_WITH_TIME:"numeric_with_time",NUMERIC_WITH_TIME_TIMEZONE:"numeric_with_time_timezone"},a=function(e){switch(e){case i.YEAR:return{year:"numeric"};case i.LONG:return{year:"numeric",month:"long",day:"numeric"};case i.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case i.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case i.TWO_DIGIT_YEAR:return{year:"2-digit",month:"2-digit",day:"2-digit"};case i.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case i.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case i.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case i.MONTH_DAY:return{month:"long",day:"numeric"};case i.SHORT_MONTH:return{month:"short"};case i.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case i.DAY:return{day:"numeric"};case i.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case i.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case i.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case i.YEAR_SHORT_MONTH_DAY_TIME_TIMEZONE:return{month:"short",year:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case i.TIME:return{hour:"numeric",minute:"2-digit"};case i.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case i.HOUR:return{hour:"numeric"};case i.NUMERIC_WITH_TIME:return{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit"};case i.NUMERIC_WITH_TIME_TIMEZONE:return{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};default:throw Error('invalid dateFormatType "'+e+'"')}};function l(){return -1!==Intl.DateTimeFormat.toString().indexOf("[native code]")}function r(e,t,n,i=!0,o){let s=a(n);return i?s.timeZone="UTC":o&&(s.timeZone=o),l()||(s.calendar="gregory"),new Intl.DateTimeFormat(e,s).format(t)}},295472:function(e,t,n){n.d(t,{Z:()=>r});var i=n(537347),a=n.n(i),l=n(767415);function r(e){if("undefined"==typeof window||!document.head)return(0,l.nP)("load_fonts.failure",{sampleRate:1,tags:{failure_reason:"window undefined"}}),Promise.reject(Error("Window is undefined or no head on the document. Unable to load fonts"));let{head:t}=document,n=[];return e.forEach(e=>{e.styles.forEach(i=>{let l=document.querySelector(`#${e.fontFamily??""}-${i.name}`);l||((l=document.createElement("style")).setAttribute("id",`${e.fontFamily??""}-${i.name}`),t.appendChild(l),e.format&&i.fontUrl&&l&&l.sheet&&l.sheet.insertRule(`
            @font-face {
              font-family: "${e.fontFamily??""}";
              font-style: "${i.fontStyle}";
              font-weight: "${i.fontWeight}";
              src: url("${i.fontUrl}") format("${e.format}");
            }
          `,0),n.push(new(a())(e.fontFamily,{style:i.fontStyle,weight:i.fontWeight}).load()))})}),Promise.all(n).then(()=>{Promise.resolve()}).catch(e=>{(0,l.nP)("load_fonts.failure",{sampleRate:1,tags:{failure_reason:"unsuccessful load"}}),Promise.reject(e)})}},454083:function(e,t,n){n.d(t,{Z:()=>r});var i=n(686659),a=n(667294),l=n(785893);let r=({color:e="#111"})=>((0,a.useEffect)(()=>{(0,i.Z)("ConversationReply","/app/packages/gestalt-custom-svg/dynamicSVGs/ConversationReply.tsx")},[]),(0,l.jsx)("svg",{"data-test-id":"conversation-reply",display:"block",fill:"none",height:"12",viewBox:"0 0 12 12",width:"12",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"m0 9.99945c0 .55505.45 1.00005 1.005 1.00005s1.005-.45 1.005-1.00005c0-2.07 1.69-3.755 3.765-3.755h2.4l-1.57 1.565c-.39.39-.39 1.025 0 1.415s1.025.39 1.42 0l3.975-3.965-3.97-3.965c-.39-.389997-1.025-.389997-1.42 0-.39.39-.39 1.025 0 1.415l1.53 1.525h-2.365c-3.185 0-5.775 2.585-5.775 5.765z",fill:e})}))},288692:function(e,t,n){async function i(e){return new Promise((t,n)=>{let i=document.createElement("img");i.onerror=()=>n(Error(`Image failed to load with src ${e}`)),i.onload=()=>t(!0),i.src=e})}async function a(e){try{let t=await fetch(e,{method:"HEAD"}),n=(await t.blob()).type.startsWith("image/");{let t=await i(e);return n&&t}}catch(e){return!1}}n.d(t,{Z:()=>a})},382964:function(e,t,n){n.d(t,{Z:()=>o});var i,a=n(667294);n(167912);var l=n(183e3);let r=(void 0!==i||(i=n(33653)).hash&&"8b6ce790922ff8b900b4ae18b06b7c11"!==i.hash&&console.error("The definition of 'useGetNormalizedPinImage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function o({pinKey:e,maxWidth:t}){let n=(0,l.Z)(r,e),i=n?.images_564x||n?.images_736x||n?.images_orig||n?.images_474x||n?.images_236x,o=i?.width||1,s=i?.height||1,d=i?.url||"",c=function(e,t,n=564){return e>n&&(t*=n/e,e=n),{width:e,height:t}}(o,s,t);return{getNormalizedPinImage:(0,a.useCallback)(()=>({width:c.width,height:c.height,url:d}),[c.height,c.width,d])}}},477252:function(e,t,n){n.d(t,{Z:()=>p});var i=n(686659),a=n(667294),l=n(399353),r=n(24246),o=n(216975),s=n(385114),d=n(785893);function c(){return (0, r.Z)()._('Free shipping', 'closeup.product.shipping', 'product shipping info')}function u({freeShippingPrice:e}){let t=(0,r.Z)();return(0,o.nk)(t._('Free shipping with {{ shippingPrice }}+', 'closeup.product.shipping', 'product shipping info'),{shippingPrice:e}).join("")}function p({customStyles:e,showPrevDot:t,freeShippingPrice:n,freeShippingValue:r}){let o;(0,a.useEffect)(()=>{(0,i.Z)("ShippingCostText","/app/packages/product-shipping/ShippingCostText.tsx")},[]);let p=t?[""]:[],{color:m="subtle",size:g="200"}=e||{};return Number.isFinite(r)?(0===r?o=(0,d.jsx)(c,{}):n&&(o=(0,d.jsx)(u,{freeShippingPrice:n})),o&&p.push((0,d.jsx)(l.kC,{direction:"row",children:o})),0===p.length)?null:(0,d.jsx)(l.xe,{color:m,size:g,children:(0,d.jsx)(s.Z,{color:m,items:p})}):null}},220347:function(e,t,n){n.d(t,{Z:()=>d});var i=n(686659),a=n(667294),l=n(399353),r=n(830031),o=n(23641),s=n(785893);function d(e){(0,a.useEffect)(()=>{(0,i.Z)("ImageContainerPerf","/app/packages/pwt-logger/ImageContainerPerf.tsx")},[]);let t=(0,r.A)();return(0,a.useEffect)(()=>{let n=document.getElementById(e.containerId),i=async(e,t)=>{let n=e.getBoundingClientRect(),i=t.getBoundingClientRect();return!!n&&!!i&&n.top>=i.top&&n.left>=i.left&&n.bottom<=i.bottom&&n.right<=i.right};if(null==n)t?.removeConstraint("thumbnailsLoaded"),(0,o.l7)("thumbnailsLoaded");else{let e=Array.from(n.querySelectorAll("*")).filter(e=>e instanceof HTMLElement&&"IMG"===e.tagName&&i(e,n)),a=e.length;e.forEach(e=>{e.onload=void(a-=1),0===a&&(t?.markConstraintComplete("thumbnailsLoaded"),(0,o.Nx)("thumbnailsLoaded"))})}},[e.containerId,t]),(0,s.jsx)(l.xu,{id:"imageContainerPerf",children:e.children})}},830031:function(e,t,n){n.d(t,{A:()=>a,S:()=>i});let{Provider:i,getMaybe:a}=(0,n(213491).Z)("pwtSurfaceContext")},829485:function(e,t,n){n.d(t,{Z:()=>o});var i=n(876645);function a({scrollPosition:e,containerSize:t,contentSize:n,intendedDistance:i,extendToEdgeDistance:a=0}){let l=n-t,r=i;return r=Math.max(r=Math.min(r,l-e),-e),i>0&&l-(e+r)<=a?r=l-e:i<0&&e+r<=a&&(r=-e),r}let l={easingFunction:"ease-in-out",extendToEdgeDistanceX:0,extendToEdgeDistanceY:0,scrollSpeedPxPerMs:1.2,minScrollDuration:200},r={linear:e=>e,"ease-in":e=>e*e,"ease-out":e=>e*(2-e),"ease-in-out":e=>e<.5?2*e*e:-1+(4-2*e)*e};function o(e,t,n,s={}){let d={...l,...s},{scrollLeft:c,scrollTop:u,scrollWidth:p,scrollHeight:m,clientWidth:g,clientHeight:h}=e,f=a({scrollPosition:c,containerSize:g,contentSize:p,intendedDistance:t,extendToEdgeDistance:d.extendToEdgeDistanceX}),y=a({scrollPosition:u,containerSize:h,contentSize:m,intendedDistance:n,extendToEdgeDistance:d.extendToEdgeDistanceY}),x=Math.max(Math.abs(Math.floor(f/d.scrollSpeedPxPerMs)),Math.abs(Math.floor(y/d.scrollSpeedPxPerMs)));d.minScrollDuration&&(x=Math.max(x,d.minScrollDuration));let _=r[d.easingFunction]||r["ease-in-out"];return(0,i.Z)({window,duration:x,run:t=>{e.scrollLeft=c+f*_(t),e.scrollTop=u+y*_(t),1===t&&d.onAnimationComplete&&setTimeout(d.onAnimationComplete,0)}})}},176783:function(e,t,n){n.d(t,{Cc:()=>m,DL:()=>d,Gf:()=>f,LX:()=>a,Lc:()=>y,Ls:()=>g,Rf:()=>s,YL:()=>o,ap:()=>l,h8:()=>u,pE:()=>c,s5:()=>h,tQ:()=>p,yR:()=>r});var i=n(399353);let a={w:9,h:16},l=a.w/a.h,r=800,o=10,s=5e3,d=2e3;function c(e,t=1){return{x:(e??24)/5,y:(e??24)*(t-1)}}let u={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},p=[u.IMAGE,u.VIDEO],m={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28},g=new i.Ry(1),h=new i.H3([g]),f=new i.H3([h]),y=e=>{let t=Math.floor(e||0),n=Math.floor(t/60),i=t-60*n,a=n<10?`${n}`:n,l=i<10?`0${i}`:i;return`${a}:${l}`}},450228:function(e,t,n){n.d(t,{BN:()=>c,RK:()=>d,d3:()=>p,tq:()=>m,xm:()=>u});var i=n(667294),a=n(295472),l=n(176783),r=n(408640),o=n(893957);let s=(e,t)=>{let n=(0,l.pE)(e,t);return`${n.y}px ${n.x}px`},d=({alignment:e,verticalAlignment:t})=>{let n={alignItems:"flex-start",display:"flex",height:"100%",justifyContent:"start",textAlign:"left",width:"100%"};return 1===t?n.alignItems="center":2===t&&(n.alignItems="flex-end"),1===e&&(n.justifyContent="center",n.textAlign="center"),n},c=({fontSize:e,hexColor:t,highlightColor:n,letterSpacing:i,lineHeight:a,name:l})=>({fontSize:e,letterSpacing:i,color:t,fontFamily:l,margin:0,maxHeight:"100%",textShadow:!n&&t&&"#ffffff"===t.toLowerCase()?"0px 1px 4px rgba(0, 0, 0, 0.2)":void 0,wordBreak:"break-word",...n?{backgroundColor:n,borderRadius:e/5,padding:s(e,a)}:{}}),u=({fontSize:e,hasText:t,highlightColor:n,lineHeight:i})=>({...n?{backgroundColor:t?n:void 0,borderRadius:e/5,padding:s(e,i)}:{}}),p=({letterSpacing:e,lineHeight:t,name:n,url:i})=>({fontFamily:n,fontGroup:"",fontOverrides:{letterSpacing:e,lineHeight:t,textTransform:!1},format:"truetype",defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"normal",fontUrl:i}]});function m({hasPin:e,pages:t,limitToSingleFont:n}){let[s,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)(()=>!!e&&(0,r.X7)(t)),m=()=>{let e=t.reduce((e,t)=>{let i=t?.blocks?.filter(e=>[l.h8.PARAGRAPH,l.h8.HEADING].includes(e.type))||[];return n&&i.length>1&&(i=[i[0]]),i.forEach(t=>{let n=t.style?.font||l.Cc.font,{name:i=""}=n;e[i]||(e[i]=n)}),e},{});if(Object.keys(e).length>0){let t=Object.keys(e).map(t=>{let n=e[t];return p({letterSpacing:n.letter_spacing,lineHeight:n.line_height,name:n.name,url:n.url})});(0,a.Z)(t),d(!0)}};return(0,o.Z)(()=>{m()}),(0,o.Z)(()=>{c||m()}),(0,i.useEffect)(()=>{c||u((0,r.X7)(t))},[c,t]),{fontsLoaded:s,mediaDataReceived:c}}},408640:function(e,t,n){n.d(t,{B7:()=>r,X7:()=>o,n4:()=>l});var i=n(176783);function a(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let l=(e,t)=>{let n=/^\d{1,3}\.\d{1,3}(?:\.\d{1,6})?$/;if(!e?.match(n)||!t?.match(n))return null;let i=e?.split("."),a=t?.split("."),l=Math.max((i??"").length,(a??"").length);for(let e=0;e<l;e+=1){let t=e<(i?.length??0)?parseInt(i?.[e]??"",10):0,n=e<(a?.length??0)?parseInt(a?.[e]??"",10):0;if(t<n)return -1;if(t>n)return 1}return 0};class r{constructor(e,t,n){if(a(this,"start",Date.now()),a(this,"paused",!1),this.onProgress=e,this.onComplete=t,this.duration=n,this.remaining=n,"undefined"==typeof window)return;this.intervalId=window.setInterval(()=>{let e=this.paused?this.duration-this.remaining:this.duration-this.remaining+(Date.now()-this.start);this.onProgress(e/this.duration)},500),this.resume()}currentTime(){return this.duration-this.remaining}pause(){this.paused=!0,window.clearTimeout(this.timerId),this.remaining-=Date.now()-this.start;let e=this.duration-this.remaining;this.onProgress(e/this.duration)}resume(){this.paused=!1,this.start=Date.now(),window.clearTimeout(this.timerId),this.timerId=window.setTimeout(this.onComplete,this.remaining)}clear(){window.clearTimeout(this.timerId),window.clearInterval(this.intervalId)}}function o(e){return e.some(e=>(e?.blocks??[]).some(e=>e.type===i.h8.IMAGE&&!!e.image||e.type===i.h8.VIDEO&&(!!e.video||!!e.video_signature)))}},327638:function(e,t,n){n.d(t,{Z:()=>o});var i=n(686659),a=n(667294),l=n(399353),r=n(785893);function o(){return(0,a.useEffect)(()=>{(0,i.Z)("A11yPause","/app/packages/ui/A11yPause.tsx")},[]),(0,r.jsx)(l.xu,{display:"visuallyHidden",children:", "})}},605203:function(e,t,n){function i(e){try{return decodeURIComponent(e)}catch{return null}}n.d(t,{Z:()=>i})},631796:function(e,t,n){n.d(t,{Z:()=>l});var i=n(667294),a=n(288692);function l(e){let[t,n]=(0,i.useState)(null);return(0,i.useEffect)(()=>{!async function(){n(await (0,a.Z)(e))}()},[e]),t}},293646:function(e,t,n){n.d(t,{Z:()=>o});var i=n(667294);let a=new Map,l=null,r=e=>{e.forEach(e=>{let t=a.get(e.target);t&&t(e)})};function o({onVisibilityChanged:e,trackFullVisible:t,rootMargin:n}){let o=(0,i.useRef)(null),s=!1,d=()=>{let t;o.current instanceof HTMLElement&&(t=o.current,a.has(t))&&s&&(e(!1),s=!1)},c=(0,i.useCallback)(n=>{o.current instanceof HTMLElement&&((e,t="-64px 0px 0px 0px",n)=>{let i={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};l=l||new window.IntersectionObserver(r,i),a.set(e,n),l.observe(e)})(o.current,n,n=>{if(!a.has(o.current))return;let i=t?n.intersectionRatio>=1:n.intersectionRatio>=.5,l=t?0===n.intersectionRatio:!i;!s&&i?(s=n.intersectionRatio>0||n.isIntersecting)&&e(!0):s&&l&&d()})},[o.current]);return(0,i.useEffect)(()=>(c(n),()=>{if(o.current instanceof HTMLElement){var e;d(),e=o.current,l.unobserve(e),a.delete(e)}}),[c]),o}},371266:function(e,t,n){function i({cropArea:e,cropSource:t,entrypoint:n,requestParams:i,searchQuery:a,surfaceType:l,title:r,trafficSource:o}){let s=[];if(e){let{x:t,y:n,w:i,h:a}=e;t>=0&&n>=0&&i>=0&&a>=0&&s.push(`x=${t}`,`y=${n}`,`w=${i}`,`h=${a}`)}return t&&s.push(`cropSource=${t}`),n&&s.push(`entrypoint=${n}`),l&&s.push(`surfaceType=${l}`),r&&s.push(`full_feed_title=${encodeURIComponent(r)}`),a&&s.push(`q=${a}`),o&&"unknown"!==o&&s.push(`rs=${o}`),i&&s.push(`requestParams=${encodeURIComponent(i)}`),s.length?`?${s.join("&")}`:""}n.d(t,{Z:()=>i})},405146:function(e,t,n){n.d(t,{Z:()=>d});var i=n(686659),a=n(667294),l=n(399353),r=n(24246),o=n(216975),s=n(785893);function d({priceHistorySummary:e}){let t;(0,a.useEffect)(()=>{(0,i.Z)("PriceHistorySummary","/app/www/PriceHistorySummary/PriceHistorySummary.tsx")},[]);let n=(0,r.Z)(),{durationDays:d,typicalPrice:c,lowestPrice:u}=e||{};return Number.isInteger(d)&&(c||u)?(c?t=(0,o.nk)(n._('{{ typicalPrice }} average price last {{ durationDays }} days', 'PriceHistorySummary.typicalPriceText', 'typicalPrice: typical price (average price), durationDays: duration days'),{typicalPrice:c,durationDays:d}):u&&(t=(0,o.nk)(n._('{{ lowestPrice }} lowest price in {{ durationDays }} days', 'PriceHistorySummary.lowestPriceText', 'lowestPrice: lowest price, durationDays: duration days'),{lowestPrice:u,durationDays:d})),(0,s.jsx)(l.xu,{"data-test-id":"price-history-summary",children:(0,s.jsx)(l.xv,{children:t})})):null}},143677:function(e,t,n){n.d(t,{Z:()=>A});var i,a=n(686659),l=n(667294);n(167912);var r=n(399353),o=n(104999),s=n(351736),d=n(935059),c=n(183e3),u=n(24246),p=n(995514),m=n(720459),g=n(216975),h=n(774838),f=n(935833),y=n(327638),x=n(380938),_=n(739405),b=n(507731),v=n(319226),w=n(914253),k=n(785893);function S({boardId:e}){(0,l.useEffect)(()=>{(0,a.Z)("CollaboratorsAvatars","/app/www/board/CollaboratorsAvatars.tsx")},[]);let t=(0,d.Z)(),n=(0,_.HG)(),i=(0,w.gC)()(e),o=function(e){let t=(0,d.Z)(),n=(0,_.HG)()&&t&&t.isAuth,i=(0,w.gC)()(e);return(0,l.useMemo)(()=>{if(!i)return[];let{owner:e,collaborating_users:a}=i,[l,r,o]=[new Set,new Set,new Set];for(let n of[...e?[e]:[],...a||[]])n.id===e?.id?l.add(n):n.id===(t.isAuth?t.id:void 0)?r.add(n):o.add(n);return[...l,...r,...o].map(e=>({name:(n?e.full_name:e.username)??"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":e.image_medium_url??"",color:e?.avatar_color_index??void 0}))},[n,i,t])}(e);if(!i)return null;let{collaborator_count:s=0}=i,c=n&&t&&t.isAuth?23:16,u=c/3*((o.length>2?3:o.length)*2+1),p=s>=o.length?s-o.length:0,m=[...o,...Array(p=p>99?100:p).fill({name:"",src:""})];return(0,k.jsxs)(r.xu,{height:c,marginStart:2,minWidth:u,width:u,children:[(0,k.jsx)(y.Z,{}),(0,k.jsx)(v.HE,{collaborators:m})]})}var P=n(464094),C=n(748261),j=n(338065),I=n(69841),T=n(798385),F=n(305375);let D=(void 0!==i||(i=n(492774)).hash&&"160b60f499ce33660e2c11915eed4d09"!==i.hash&&console.error("The definition of 'BoardCard_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),E=({children:e,isOwnProfile:t,lineClamp:n})=>(0,_.HG)()?(0,k.jsx)(r.qd,{accessibilityLevel:2,lineClamp:t?1:n,size:t?"400":"300",children:e}):(0,k.jsx)(r.xv,{lineClamp:t?1:n,size:t?void 0:"200",weight:"bold",children:e});function A({auxData:e,archivedDate:t,boardId:n,boardUrl:i,canEdit:v,numberOfCollaborators:w,containerBackgroundColor:A,coverPhoto:Z,display:K,followButtonDisabled:z=!1,followedByMe:M,fullSizeDrawer:L,sensitivityScreen:B,handleInviteResponse:R,hideMeta:H,hideSecretBoardIcon:O=!1,id:N,invite:U,imagesLego:$=[],isActive:W,isAttributionHeightUnfixed:V,isAuthenticated:G,isBoardInviteAccepted:Y,isCollaborative:q,isCollaborator:X,isCollaboratorsAttributionVisible:J=!1,isFeaturedBoardsModule:Q=!1,isHomePageBoards:ee,isOwner:et,isProtected:en,isSecret:ei,lastModifiedDate:ea,layout:el,lineClamp:er=2,locale:eo,metaMarginTop:es=0,metaMarginBottom:ed=0,metaPaddingY:ec=2,name:eu,numCols:ep,onEditClick:em,onFollow:eg,onUnfollow:eh,pinCount:ef=0,sectionCount:ey,slotIndex:ex,showFollowButton:e_,showBoardCollaborators:eb=!0,showTitleOnly:ev,trackingParams:ew,boardKey:ek,viewObjectIdStr:eS,viewParameter:eP,viewType:eC}){(0,l.useEffect)(()=>{(0,a.Z)("BoardCard","/app/www/board/BoardCard.tsx")},[]);let ej=(0,s.vs)(),eI=(0,u.Z)(),eT=(0,p.Z)(),eF=(0,m.Z)(),eD=(0,o.Z)(),eE=(0,_.HG)(),{isRTL:eA}=(0,h.B)(),eZ=(0,d.Z)(),{username:eK}=(0,F.Z)(),ez=(0,T.Z)(),eM=ez[eK??""]?.is_gco_account,eL=(0,c.Z)(D,ek),{featuredBoardMetadata:eB}=eL||{},{curator:eR,isSponsoredContent:eH}=eB||{},eO=Q&&eH,eN=eE&&G,eU="square"===el?P.M0:P.z9,e$="responsive"!==K&&(eN||Q)?eU:"100%",eW=eZ.isAuth&&eZ.username===eK,eV=e=>{G||(0,f.NC)("press_follow_board"),eg&&eg(e)},eG=e=>{G||(0,f.NC)("press_unfollow_board"),eh&&eh(e)},eY=$.map(e=>({url:e.url,name:eu})),eq=!!eL?.owner&&!v&&e_,eX=eL?.owner?.isVerifiedMerchant,eJ=eL?.owner?.verifiedIdentity?.verified,eQ=q&&!Q;eW||(eQ&&=!!eK&&!eM);let e0=!et&&!X&&!!B?.show_warning,e1={board_id:N,reason:B?.reason},e2=!eW&&!ev&&(!eK||J||eM),e3=eN?void 0:P.s0+(eq?P.o2:0);eW||(e3=eE?void 0:(e2?P.AC:P.Y_)+(eq?P.o2:0));let e5=eq&&"responsive"!==K?`max(calc(25vh + 10px), calc(210px + ${5*!eW}vh))`:"100%";return(0,l.useEffect)(()=>{e0&&eD({event_type:13,component:13861,view_type:215,aux_data:e1})},[]),(0,k.jsx)(I.fS,{auxData:{board_id:N,board_pin_count:ef??0,board_section_count:ey??0,grid_index:ex||0,...e},impressionData:{imageURL:Z?.url},loggingId:N,slotIndex:ex||0,trackingParams:ew,viewData:{view_object_id_str:eS},viewParameter:eP,viewType:eC,children:({impressionTrackerRef:e})=>(0,k.jsxs)(r.xu,{ref:e,"data-test-id":`boardCard-${eu}`,height:t&&!eE?"100%":e5,position:"relative",width:e$,children:[(0,k.jsx)(r.zd,{rounding:4,children:(0,k.jsx)(C.Z,{boardKey:eL,canEdit:v,containerBackgroundColor:A,coverPhoto:Z,coverPinKey:eL?.coverPin,fullSize:L,hideSecretBoardIcon:O,images:eY,isActive:W,isHomePageBoards:ee,isProtected:en,isSecret:ei,layout:el,onEditClick:em,renderAsImage:!0,showSensitivityScreen:e0})}),!H&&(0,k.jsx)(l.Fragment,{children:U?(0,k.jsxs)(l.Fragment,{children:[(0,k.jsxs)(r.xu,{alignItems:"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",padding:2,children:[(0,k.jsxs)(r.xu,{width:"100%",children:[(0,k.jsx)(r.rU,{href:i??"",children:(0,k.jsx)(r.xu,{marginBottom:1,marginTop:0,children:(0,k.jsx)(E,{isOwnProfile:eW,lineClamp:er,children:eu})})}),Y?(0,k.jsx)(r.xv,{lineClamp:1,size:"200",children:eI._('You\u2019ve joined', 'boardRep.invite.invitationAcceptedText', 'Text shown after accepting collaborator board invitations')}):(0,k.jsx)(r.xv,{size:"200",children:function(e,t){let{full_name:n,username:i}=e,a=(0,k.jsx)(r.rU,{display:"inlineBlock",href:`/${i}`,underline:"hover",children:n},"linkToUser");return(0,g.nk)(t._('{{ linkToUser }} invited you to join this board', 'boardRep.invite.invitationText', 'Indicating that another user invited the viewer to this board'),{linkToUser:a})}(U.invited_by_user,eI)})]}),eb&&(0,k.jsx)(S,{boardId:n})]}),Y?(0,k.jsx)(r.xu,{direction:"row",display:"flex",paddingX:2,children:(0,k.jsx)(r.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,k.jsx)(r.ZP,{fullWidth:!0,href:i??"",size:"lg",text:eI._('See board', 'boardRep.invite.seeBoardButton', 'Button text to see board after accepting collaborator invite')})})}):(0,k.jsxs)(r.kC,{direction:"row",flex:"grow",justifyContent:"start",wrap:!0,children:[(0,k.jsx)(r.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,k.jsx)(r.zx,{fullWidth:!0,onClick:()=>{R?.(!1)},size:"lg",text:eI._('Decline', 'boardRep.invite.declineButton', 'Button text to decline board collaborator invite or request')})}),(0,k.jsx)(r.xu,{flex:"grow",marginBottom:3,paddingX:1,children:(0,k.jsx)(r.zx,{color:"primary",fullWidth:!0,onClick:()=>{R?.(!0)},size:"lg",text:eI._('Accept', 'boardRep.invite.acceptButton', 'Button text to accept board collaborator invite or request')})})]})]}):(0,k.jsxs)(r.xu,{height:V?void 0:e3,marginBottom:ed,marginTop:es,paddingX:2,paddingY:ec,children:[(0,k.jsxs)(r.xu,{alignItems:eW?"center":"start","data-test-id":"board-card-title",display:"flex",flex:"grow",justifyContent:"between",children:[(0,k.jsx)(E,{isOwnProfile:eW,lineClamp:er,children:eu}),eQ&&eb&&(0,k.jsx)(S,{boardId:n})]}),e2&&(0,k.jsx)(r.xu,{marginTop:1,children:eO?(0,k.jsx)(b.Z,{numberOfCollaborators:0,ownerFullName:eR?.fullName??"",ownerIsVerifiedIdentity:!!eR?.verifiedIdentity?.verified,ownerIsVerifiedMerchant:!!eR?.isVerifiedMerchant,showBoardCollaborators:!1}):(0,k.jsx)(b.Z,{numberOfCollaborators:w,ownerFullName:eL?.owner?.fullName??"",ownerIsVerifiedIdentity:!!eJ,ownerIsVerifiedMerchant:!!eX,showBoardCollaborators:eb})}),!ev&&(0,k.jsxs)(r.xu,{alignItems:eE?"center":"start",direction:"row",display:"flex",marginTop:1,children:[(0,k.jsx)(r.kC.Item,{flex:"none",children:(0,k.jsxs)(r.xv,{color:eW?void 0:"subtle",lineClamp:1,size:"100",children:[(0,k.jsx)(y.Z,{}),(0,g.nk)(eI.ngettext('{{ count }} Pin', '{{ count }} Pins', ef, 'profile.ProfilePage.board.BoardCard.pinsCount', 'Show how many Pins there are in the board card. count:number of Pins'),{count:eF(eo,ef,{shortform:!0,shortform_maximum_fraction_digits:1})})]})}),!!ey&&(0,k.jsxs)(r.xv,{color:eW?void 0:"subtle",lineClamp:1,size:"100",children:[(0,k.jsx)(x.Z,{ariaHidden:!0,size:"100"}),(0,k.jsx)(y.Z,{}),(0,g.nk)(eI.ngettext('{{ count }} section', '{{ count }} sections', ey, 'profile.ProfilePage.board.BoardCard.sectionsCount', 'Show how many sections there are in the board card. count:number of sections'),{count:ey})]}),!eW&&(0,k.jsx)(r.xv,{color:"subtle",size:"100",children:(0,k.jsx)(x.Z,{ariaHidden:!0,size:"100"})}),(0,k.jsx)(r.kC.Item,{flex:ey?"none":"grow",children:(0,k.jsx)(r.xu,{display:"flex",marginEnd:2*!!eA,marginStart:eW?2:void 0,children:(0,k.jsxs)(r.xv,{color:"subtle",lineClamp:1,size:"100",children:[(0,k.jsx)(y.Z,{}),eT(ea,!0)]})})})]}),t&&!eE&&(0,k.jsxs)(r.xv,{color:"subtle",inline:!0,lineClamp:1,size:"100",children:[(0,k.jsx)(y.Z,{}),eI._('Archived', 'profile.ProfilePage.BoardCard.ArchivedText', 'label for archived boards')]}),eq&&(0,k.jsx)(r.xu,{column:2===ep?12:void 0,flex:"none",marginTop:2===ep?3:void 0,children:(0,k.jsx)(j.Z,{disabled:!!eL?.owner?.blockedByMe||z,followEventType:26,id:N,isFollowed:M,onFollow:eV,onUnfollow:eG,pinKey:null,shouldUseLegoColors:!0,size:"md",unfollowEventType:27,viewParameter:eP,viewType:eC})})]})}),eH&&(0,k.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:ej?"rgba(51,51,46,0.8)":"rgba(229,229,224,0.8)",pointerEvents:"none"}},left:!0,margin:2,paddingX:1.5,paddingY:1,position:"absolute",rounding:200,top:!0,children:(0,k.jsx)(r.xe,{size:"100",children:eI._('Sponsored', 'board.Headers.BoardHeader.BoardHeaderDetails.sponsored', 'Badge to tell the viewer for board with set sponsor user')})})]})})}},507731:function(e,t,n){n.d(t,{Z:()=>p});var i=n(686659),a=n(667294),l=n(399353),r=n(785893);let o=({text:e})=>((0,a.useEffect)(()=>{(0,i.Z)("LineClampWrapper","/app/analytics/react/components/DataTable/LineClampWrapper.tsx")},[]),(0,r.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}},"data-test-id":"line-clamp-wrapper",fit:!0,overflow:"hidden",children:e}));var s=n(24246),d=n(720459),c=n(774838);let u={xs:{icon:12,text:"100",height:15},sm:{icon:16,text:"200",height:17},md:{icon:20,text:"300",height:18},lg:{icon:24,text:"400",height:23}};function p({ownerFullName:e,ownerIsVerifiedMerchant:t,ownerIsVerifiedIdentity:n,numberOfCollaborators:p,size:m="xs",showBoardCollaborators:g=!0}){(0,a.useEffect)(()=>{(0,i.Z)("CollaboratorsAttribution","/app/www/board/CollaboratorsAttribution.tsx")},[]);let h=(0,s.Z)(),{locale:f}=(0,c.B)(),y=(0,d.Z)();return(0,r.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",maxHeight:u[m].height,children:[(0,r.jsx)(l.xe,{lineClamp:1,size:u[m].text,children:(0,r.jsx)(o,{text:e})}),(t||n)&&(0,r.jsx)(l.xu,{flex:"none",marginStart:1,children:t?(0,r.jsx)(l.JO,{accessibilityLabel:h._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant is verified'),color:"info",icon:"compact-circle-check",size:u[m].icon}):(0,r.jsx)(l.JO,{accessibilityLabel:h._('Identity verification badge icon', 'identityVerification.badge.icon', 'Badge indicating that user is verified'),color:"error",icon:"compact-circle-check",size:u[m].icon})}),g&&p>0&&(0,r.jsx)(l.xu,{flex:"none",marginStart:1,marginTop:.25,children:(0,r.jsx)(l.xe,{size:u[m].text,children:"+ "+y(f,p,{shortform:!0,shortform_maximum_fraction_digits:0})})})]})}},422913:function(e,t,n){n.d(t,{Z:()=>o}),n(167912);var i,a=n(183e3),l=n(914253);let r=(void 0!==i||(i=n(97812)).hash&&"756d8d8edca35eac0a0500359bf60618"!==i.hash&&console.error("The definition of 'useGetCoverPhoto_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),o=e=>{let t=(0,a.Z)(r,e),n=(0,l.gC)(),i=t?.entityId?n(t.entityId):null,o=t?.imageCoverUrl??i?.image_cover_url,s=t?.coverImageSpec_216x146??i?.cover_images?.spec_216x146,d=t?.coverImageSpec_222x??i?.cover_images?.spec_222x,c=t?.coverImageSpec_400x300??i?.cover_images?.spec_400x300;return e=>{let n=t?.imageCoverHdUrl||t?.imageCoverUrl;if(n)return n;let i=c?.url??d?.url??s?.url??"";return e&&e>2&&i?i:o||""}}},214451:function(e,t,n){n.d(t,{Bw:()=>o,Jx:()=>r,po:()=>i});let i=(e="")=>(e??"").substring((e??"").lastIndexOf("/")+1),a=e=>({dominant_color:"#FFFFFF",height:1,url:e,width:1}),l=e=>{if(!e)return()=>!0;let t=i(e);return e=>"string"==typeof e?i(e)!==t:i(e.url??"")!==t},r=(e,t,n)=>e?e.filter(l(n)):t?t.filter(l(n)).map(a):[],o=e=>(e&&e.crop&&e.size&&{x:e.crop[0],y:e.crop[1],width:e.size[0],height:e.size[1]})??{x:0,y:0,width:0,height:0}},234278:function(e,t,n){n.d(t,{Z:()=>p});var i=n(686659),a=n(667294),l=n(399353),r=n(320748),o=n(230201),s=n(774838),d=n(739405),c=n(113759),u=n(785893);function p({actionButton:e,auxData:t,children:n,collapseButtonElementType:p,collapseByDefault:m=!0,componentType:g,disabled:h,displayViewState:f,expandButtonElementType:y,forceTappableHeader:x,headerHeight:_,headerPreview:b,heading:v,icon:w,surface:k,viewParameter:S,viewType:P}){(0,a.useEffect)(()=>{(0,i.Z)("CollapsibleLayout","/app/www/closeup/CollapsibleLayout.tsx")},[]);let C=(0,d.HG)(),{isBot:j}=(0,s.B)(),{logContextEvent:I}=(0,o.u)(),{setIsShoppingModuleExpanded:T}=(0,c.x4)(),F=(0,a.useRef)(null),[D,E]=(0,a.useState)(void 0),[A,Z]=(0,a.useState)(h||!j&&m||null!=f&&[1,2].includes(f));return(0,a.useEffect)(()=>{F.current&&E(F.current.scrollHeight+parseInt(window.getComputedStyle(F.current?.firstElementChild).marginTop,10))},[F]),(0,a.useEffect)(()=>{T&&T(!A)},[]),(0,u.jsxs)(l.kC,{dataTestId:"collapsible-layout",direction:"column",gap:4*!C,children:[(0,u.jsx)(r.Z,{actionButton:e,collapsed:A,disabled:h,displayViewState:f,forceTappableHeader:x,headerHeight:_,headerPreview:b,heading:v,icon:w,onClick:()=>{Z(!A),T&&T(A),I({aux_data:t,component:g,element:A?y:p,event_type:C?101:102,view_parameter:S,view_type:P})},showArrow:!0,surface:k}),C?(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{transition:"height 600ms cubic-bezier(.25,1,.5,1)"}},"data-test-id":`collapsible-layout-content-${A?"collapsed":"expanded"}`,height:A?"0px":`${D}px`,marginBottom:A?void 0:1,overflow:"hidden",children:(0,u.jsx)(l.xu,{ref:F,children:n})}):!A&&(0,u.jsx)(l.xu,{children:n})]})}},683372:function(e,t,n){n.d(t,{C:()=>i,_:()=>a});let i=e=>!!e&&/^\/pin\/[\w-]+\/?$/.test(e.pathname),a=e=>{let t=[...e].reverse().find(({location:e})=>e&&!i(e));return t&&t.location&&(({pathname:e})=>/^\/search\/pins\//.test(e))(t.location)?(({pathname:e,search:t})=>{let n=/^\/search\/pins\/(\?.*)$/.exec(e),i=(t||n&&n[1]||"").substr(1).split("&").map(e=>e.split("=")).find(e=>"q"===e[0]);return i?decodeURIComponent(i[1]):""})(t.location):""}},953238:function(e,t,n){n.d(t,{B:()=>a,q:()=>i});let{Provider:i,get:a}=(0,n(213491).Z)("CloseupPageContext")},488436:function(e,t,n){n.d(t,{Z:()=>p});var i=n(686659),a=n(667294),l=n(399353),r=n(351736),o=n(454083),s=n(24246),d=n(216975),c=n(739405),u=n(785893);let p=({onClose:e,replyToComment:t})=>{(0,a.useEffect)(()=>{(0,i.Z)("CommentContextBanner","/app/www/comments/CommentContextBanner.tsx")},[]);let n=(0,s.Z)(),p=(0,r.Yc)(),m=(0,c.HG)(),g=t?.text||t?.details,h=t?.user?.first_name||t?.user?.username,f=n._('Edit comment icon', 'commentContextBanner.editing.icon', 'Banner icon for editing a comment'),y=t?(0,d.nk)(n._('Replying to {{ userName }}', 'commentContextBanner.replying.header', 'Header text for replying to a comment. userName: name of the user being replied to'),{userName:h}):n._('Editing your comment', 'commentContextBanner.editing.header', 'Header text for editing a comment'),x=t?(0,u.jsx)(o.Z,{color:p?"white":void 0}):(0,u.jsx)(l.JO,{accessibilityLabel:f,color:"default",icon:"pencil",size:12});return(0,u.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"var(--sema-color-background-secondary)",paddingLeft:"16px",paddingRight:"14px"}},direction:"row",display:"flex",justifyContent:"between",paddingY:3,children:[(0,u.jsxs)(l.kC,{direction:"column",justifyContent:"center",children:[(0,u.jsxs)(l.kC,{alignItems:"center",direction:"row",children:[(0,u.jsx)(l.xu,{marginEnd:1.5,children:x}),(0,u.jsx)(l.xe,{size:"100",weight:"bold",children:y})]}),g&&(0,u.jsx)(l.xu,{marginTop:1.5,children:(0,u.jsx)(l.xe,{color:p?"default":"subtle",lineClamp:1,size:"100",children:g})})]}),m&&(0,u.jsx)(l.hU,{accessibilityLabel:n._('Close comment context banner', 'commentContextBanner.close.icon', 'Icon to close the comment context banner'),icon:"close",onClick:e,padding:1,size:"lg"})]})}},515158:function(e,t,n){n.d(t,{Z:()=>o});var i=n(686659),a=n(667294),l=n(399353),r=n(785893);function o({children:e,color:t,isDarkMode:n,outlined:o,type:s="bold",rounding:d=400}){return(0,a.useEffect)(()=>{(0,i.Z)("OutlinedBox","/app/www/common/OutlinedBox/OutlinedBox.tsx")},[]),(0,r.jsxs)(l.xu,{position:"relative",children:[(0,r.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},"data-test-id":"outline-content",overflow:"hidden",rounding:d,children:e}),o&&(0,r.jsx)(l.xu,{bottom:!0,color:"transparent",dangerouslySetInlineStyle:{__style:function({color:e,isDarkMode:t,type:n}){let i=t?"#fff":"#000",a=t?"#000":"#fff";return"solid"===n?{boxShadow:`inset 0 0 0 2px ${e??i}`,WebkitBoxShadow:`inset 0 0 0 2px ${e??i}`,MozBoxShadow:`inset 0 0 0 2px ${e??i}`}:"border"===n?{border:`1px solid ${e??"var(--sema-color-border-selected)"}`,boxShadow:"inset 0 0 0 1px var(--sema-color-border-inverse)",WebkitBoxShadow:"inset 0 0 0 1px var(--sema-color-border-inverse)",MozBoxShadow:"inset 0 0 0 1px var(--sema-color-border-inverse)"}:{boxShadow:`inset 0 0 0 2px ${e??i}, inset 0 0 0 4px ${a}`,WebkitBoxShadow:`inset 0 0 0 2px ${e??i}, inset 0 0 0 4px ${a}`,MozBoxShadow:`inset 0 0 0 2px ${e??i}, inset 0 0 0 4px ${a}`}}({color:t,isDarkMode:n,type:s})},"data-test-id":"outline-box",left:!0,position:"absolute",right:!0,rounding:d,top:!0})]})}},523614:function(e,t,n){n.d(t,{A:()=>o,Z:()=>s});var i=n(686659),a=n(667294),l=n(399353),r=n(785893);let o={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function s({backgroundColor:e,children:t,coverImage:n,disableTabIndex:s,height:d,id:c,isHovered:u,onClick:p,onMouseDown:m,onMouseEnter:g,onMouseLeave:h,searchBoxRenderStopwatch:f,url:y,width:x}){(0,a.useEffect)(()=>{(0,i.Z)("BubbleWrapper","/app/www/discover/Bubbles/BubbleWrapper.tsx")},[]);let[_,b]=(0,a.useState)(!1),v=()=>{g?g():b(!0)},w=()=>{h?h():b(!1)},k=u||_,S=k?o.hoverOverlay:o.bubbleOverlay;return(0,r.jsx)(l.Tg,{href:y,onBlur:w,onFocus:v,onMouseDown:m,onMouseEnter:v,onMouseLeave:w,onTap:()=>{p?.(c)},rounding:4,tabIndex:s?-1:void 0,children:(0,r.jsx)(l.zd,{height:d,rounding:4,width:x||"100%",children:n?.url?(0,r.jsxs)(l.Ee,{alt:"",color:e,fit:"cover",naturalHeight:n.height??1,naturalWidth:n.width??1,onLoad:()=>{f?.stop()},role:"presentation",src:n.url,children:[(0,r.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:S},height:"100%",width:"100%"}),"function"==typeof t?t({isHovered:k}):t]}):(0,r.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},701572:function(e,t,n){n.d(t,{Z:()=>l,f:()=>r});var i=n(47755),a=n(160587);function l(e,t){return async n=>{n((0,a.md)(e,!0));try{await (0,i.Z)({url:"/v3/boards/{board}/follow/",urlParams:{board:e},method:"PUT"}),t({event_type:26,object_id_str:e})}catch(t){n((0,a.md)(e,!1))}}}function r(e,t){return async n=>{n((0,a.md)(e,!1));try{await (0,i.Z)({url:"/v3/boards/{board}/follow/",urlParams:{board:e},method:"DELETE"}),t({event_type:27,object_id_str:e})}catch(t){n((0,a.md)(e,!0))}}}},279394:function(e,t,n){function i(e){let t=[],n="";for(let i of e)if(n){let e=!!i.match(/\s/),a=!!n.match(/\s/);if(e===a)n+=i;else if(!a&&n.includes("-")){let e=0;for(let i=0;i<n.length;i+=1)"-"===n[i]&&(t.push(n.substring(e,i+1)),e=i+1);t.push(n.substring(e)),n=i}else t.push(n),n=i}else n=i;return n.length&&t.push(n),t}function a({boxHeight:e,boxWidth:t,font:n,startFontSize:a,text:l}){if("undefined"==typeof document||!document.body)return{fontSize:a,lines:[]};let{body:r}=document,o=document.createElement("div");r.appendChild(o);let s=l?.split(/\r?\n/g),d=a,c={letterSpacing:n.fontOverrides?.letterSpacing!=null?`${n.fontOverrides.letterSpacing}px`:void 0,lineHeight:String(n.fontOverrides?.lineHeight||1.1),fontFamily:n.fontFamily,fontSize:`${d}px`,position:"absolute",visibility:"hidden",width:`${t}px`};Object.assign(o.style,c);let u=document.createElement("div");for(u.style.display="inline",o.appendChild(u),(s??[]).forEach((e,t)=>{let n=document.createElement("span");n.style.wordBreak="break-word",u.appendChild(n),n.appendChild(document.createTextNode(e)),t!==(l??"").length-1&&n.appendChild(document.createElement("br"))});(u.offsetHeight>e||u.offsetWidth>t)&&d>0;)d-=1,o.style.fontSize=`${d}px`;return u.remove(),o.remove(),{fontSize:d,lines:d>0?function({font:e,fontSize:t,textList:n,width:a}){if("undefined"==typeof document||!document.body||a<=0||t<=0)return[];let{body:l}=document,r=document.createElement("div");l.appendChild(r);let o={letterSpacing:e.fontOverrides?.letterSpacing!=null?`${e.fontOverrides.letterSpacing}px`:void 0,lineHeight:String(e.fontOverrides?.lineHeight||1.1),fontFamily:e.fontFamily,fontSize:`${t}px`,visibility:"hidden"};Object.assign(r.style,o);let s=document.createElement("div");s.style.display="inline",r.appendChild(s);let d=document.createTextNode("");s.appendChild(d);let c=[],u="",p=e=>{let t=e.trim();return d.textContent=t,{text:t,width:s.offsetWidth}},m=e=>{let t=!!e.match(/\s/),n=0===u.length;if(d.textContent=`${u}${e}`,s.offsetWidth>a)if(t)c.push(p(u)),u="";else if(n)for(let t of e)m(t);else c.push(p(u)),u="",m(e);else u+=e};for(let e of n??[])0===e.length&&c.push(p(u)),i(e).forEach(e=>m(e)),u.length&&(c.push(p(u)),u="");return s.remove(),r.remove(),c}({font:n,fontSize:d,textList:s,width:t}):[]}}function l(e){let t=window.getComputedStyle(e,null),n=parseFloat(t.getPropertyValue("height").replace("px","")),i=parseFloat(t.getPropertyValue("font-size").replace("px","")),a=parseFloat(t.getPropertyValue("line-height").replace("px",""));return Number.isNaN(a)&&(a=1.2*i),Math.ceil(n/a)}n.d(t,{KV:()=>a,Yd:()=>i,xW:()=>l})},542392:function(e,t,n){n.d(t,{Af:()=>c,Ei:()=>s,II:()=>_,Lh:()=>h,U:()=>m,Zy:()=>o,dD:()=>l,er:()=>g,hb:()=>y,in:()=>d,j7:()=>f,kX:()=>u,mx:()=>x,n5:()=>r,q8:()=>p,xH:()=>a});var i=n(176783);let a=1048576,l=3,r=20,o=3,s=10,d=50,c=10,u=1200,p=375,m=375/i.ap,g=4096,h="#FFFFFF",f={blockStyle:{x_coord:4.27,y_coord:46.82,width:91.46,height:26.35,corner_radius:0},style:{font_id:6,hex_color:"#FFFFFF",font_size:36,alignment:1},text:"",type:"story_pin_paragraph_block"},y=420,x=325,_=768},675312:function(e,t,n){n.d(t,{Z:()=>o}),n(167912);var i,a=n(183e3),l=n(276469);let r=(void 0!==i||(i=n(751297)).hash&&"f5443b1193b0aed988404fef7c7338fe"!==i.hash&&console.error("The definition of 'useStructuredDescription_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function o(e){var t;return(t=(0,a.Z)(r,e).formattedCloseupDescription)&&Array.isArray(t.components)?t.components.filter(e=>("DescriptionHeader"===e.__typename||"DescriptionTable"===e.__typename||"DescriptionPoints"===e.__typename||"DescriptionSpecs"===e.__typename||"DescriptionString"===e.__typename||"DescriptionStringBold"===e.__typename)&&e.type).map(e=>{let t="DescriptionHeader"===e.__typename||"DescriptionTable"===e.__typename||"DescriptionPoints"===e.__typename||"DescriptionSpecs"===e.__typename||"DescriptionString"===e.__typename||"DescriptionStringBold"===e.__typename?e.type:"";if("DescriptionSpecs"===e.__typename&&t===l.X.SPECS)return{type:t,content:e.specsContent?.reduce((e,t)=>({...e,[t.key]:t.value}),{})};let n="DescriptionString"===e.__typename?e:null,i="DescriptionPoints"===e.__typename?e:null,a="DescriptionTable"===e.__typename?e:null,r="DescriptionHeader"===e.__typename?e:null,o="DescriptionStringBold"===e.__typename?e:null;return{type:t,content:n?.stringContent??i?.pointsContent??a?.tableContent??r?.headerContent??o?.boldContent}}):[]}},276469:function(e,t,n){n.d(t,{X:()=>i,j:()=>a});let i={BOLD:"formatted_description_bold_component",ELEMENT:"formatted_description_element_component",HEADER:"formatted_description_header_component",PARAGRAPH:"formatted_description_paragraph_component",POINTS:"formatted_description_points_component",SPECS:"formatted_description_specs_component",TABLE:"formatted_description_table_component"},a=({components:e,pinDescription:t})=>e&&0!==e.length?e:[{content:t,type:i.PARAGRAPH}]}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/13545-8d1ecc6f7af3e062.mjs.map