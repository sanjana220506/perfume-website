(self.modernJsonp=self.modernJsonp||[]).push([["54089"],{687412:function(e,t,n){n.d(t,{KJ:()=>p,Rp:()=>l});let r={merchant_catalogs_data_sources:{id:228,name:"merchant_catalogs_data_sources_user_nav"},merchant_catalogs_listings:{id:230,name:"merchant_catalogs_listings_user_nav"},merchant_catalogs_product_groups:{id:229,name:"merchant_catalogs_product_groups_user_nav"},own_profile:{id:14,name:"own_profile"},own_profile_no_pins:{id:45,name:"own_profile_no_pins"},other_profile:{id:15,name:"other_profile"},other_profile_no_pins:{id:46,name:"other_profile_no_pins"},sterling_ads_edit:{id:225,name:"sterling_edit_flow_user_nav"},sterling_reporting_overview:{id:226,name:"sterling_reporting_overview_user_nav"}},a={initial_app_load:{unauth:{board:{id:114,name:"board_page_interactive"},pin_closeup:{id:113,name:"pin_page_interactive"},other_profile:{id:115,name:"user_page_interactive"},topic:{id:119,name:"topic_page_interactive"},sterling_signup:{id:201,name:"sterling_signup_main_pageload"},sterling_login:{id:202,name:"sterling_login_main_pageload"}},auth:{bizhub:{id:607,name:"bizhub_pinteractive"},homefeed:{id:19,name:"home_feed_pinteractive"},own_profile:{id:123,name:"own_profile_page_load"},own_profile_no_pins:{id:125,name:"own_profile_no_pins_page_load"},other_profile:{id:122,name:"other_profile_page_load"},other_profile_no_pins:{id:124,name:"other_profile_no_pins_page_load"},self_profile:{id:126,name:"self_profile_page_load"},sterling_reporting_overview:{id:219,name:"sterling_reporting_overview_pageload"},sterling_ads_create:{id:221,name:"sterling_adscreate_main_pageload"},sterling_ads_duplicate:{id:206,name:"sterling_adsduplication_main_pageload"},sterling_ads_edit:{id:204,name:"sterling_adsedit_main_pageload"},sterling_billing_profile:{id:203,name:"sterling_billingprofile_main_pageload"},sterling_bulk_editor:{id:205,name:"sterling_bulkeditor_main_pageload"},sterling_bulk_editor_history:{id:231,name:"sterling_bulkeditor_history_pageload"},sterling_pin_builder:{id:222,name:"sterling_adscreate_pinbuilder_pageload"},sterling_recommendations:{id:223,name:"sterling_recommendations_pageload"},sterling_reporting_details:{id:218,name:"sterling_reporting_details_pageload"}}},client_route_push:{unauth:{},auth:{...r,bizhub:{id:608,name:"bizhub_page_render"},homefeed:{id:2,name:"home_feed_render"},search:{id:3,name:"search_feed_render"},search_tab:{id:25,name:"search_tab_render"},related_feed:{id:51,name:"related_feed"},related_feed_pageload:{id:127,name:"related_feed_pageload"},nux_pin_picker_feed_render:{id:49,name:"nux_pin_picker_feed_render"},self_profile:{id:47,name:"self_profile"},pin_closeup:{id:13,name:"pin_closeup_details"},sterling_audiences:{id:224,name:"sterling_audiences_page_user_nav"},sterling_bulk_editor_history:{id:232,name:"sterling_bulkeditor_history_user_nav"},sterling_reporting_details:{id:227,name:"sterling_reporting_details_user_nav"},visual_search:{id:44,name:"visual_search_page_render"}}},client_route_replace:{unauth:{},auth:{...r}}},i={initial_app_load:{auth:{pin_closeup:{product_detail_page:{id:120,name:"product_details_interactive"},product_detail_page_plus:{id:121,name:"product_details_plus_interactive"}}}},client_route_push:{auth:{pin_closeup:{story_pin:{id:700,name:"story_pin_closeup"},product_detail_page:{id:37,name:"product_details_render"},product_detail_page_plus:{id:38,name:"product_details_plus_render"}}}},client_route_replace:{auth:{pin_closeup:{product_detail_page:{id:37,name:"product_details_render"},product_detail_page_plus:{id:38,name:"product_details_plus_render"}}}}},o={board_picker:16,grid_bottom_spinner:12,facebook_autologin:500,google_autologin:501,story_pin_step:701,nux_pin_picker_feed_render:49,related_feed:51,sterling_adscreate_pinselection_tableload:236,sterling_adscreate_pinselection_search:237,sterling_adscreate_pinselection_board:238,sterling_adscreate_pinselection_checkbox:241,sterling_adscreate_adgroup_pageload:239,sterling_adsedit_adgroup_pageload:240},s=e=>{let{navigationType:t,isAuthenticated:n,segment:r,surface:o}=e,s=n?"auth":"unauth",l=i[t]?.[s]?.[o];return r&&l&&l[r]||a[t][s][o]},l=e=>{if("stopwatch"===e.type&&"name"in e)return o[e.name]||null;if("surface"===e.type){let t=s(e);return t?t.id:null}return null},p=e=>{if("stopwatch"===e.type&&"name"in e||"core_web_vitals"===e.type&&"name"in e)return e.name;let{navigationType:t,isAuthenticated:n,segment:r,surface:a}=e,i=s(e);return i?i.name:`${t}_${n?"auth":"unauth"}_${a}${r?"_"+r:""}`}},62798:function(e,t,n){n.d(t,{cC:()=>i,jy:()=>a,qr:()=>s,sk:()=>o});let r=e=>"number"==typeof e?Math.round(e):e,a=e=>({type:"I16",value:r(e)}),i=e=>({type:"I32",value:r(e)}),o=e=>({type:"STRING",value:e}),s=e=>({type:"BOOL",value:e})},267398:function(e,t,n){n.d(t,{W:()=>w,N:()=>S});var r=n(449896),a=n(192496),i=n(780764),o=n(649324),s=n(648447);let l=(e,t)=>Object.keys(t).reduce((n,r)=>({...n,[`${e}${r}`]:t[r]}),{});var p=n(448021),d=n(337751),c=n(767415);let u=["client-","vendor-react-","index-","runtime-","locale-"],_=(e,t,n)=>{"number"==typeof t&&Number.isFinite(t)&&!(t<0)&&(0,c.LY)(e,t,n)},m=(e,t,n)=>{"number"==typeof t&&Number.isFinite(t)&&!(t<0)&&(0,c.S0)(e,t,n)},f=["PinResource","UserHomefeedResource","BaseSearchResource","BoardResource","UserResource","BoardFeedResource","runtime-","polyfills-","locale-","vendor-react-","vendor-react-","client-","index-","AuthDesktopHeader","StructuredFeed","[id]-","[scope]-","[username]-","CloseupActionBarCommon-","SaveAffordance-"],g=({eventPrefix:e,endTime:t,tags:n,resourceArr:r,resourceType:a="allResources"})=>{let i=r.length;if("object"==typeof r[0]&&!Array.isArray(r[0])&&0!==i){if(u.includes(a)){let t=r[0],i={...n,swIntercepted:t.workerStart>0,workerFinalSourceType:t.workerFinalSourceType||"unknown"};_(`${e}.app_start_script_${a.replace("-","")}.InFlight`,t.fetchStart,{tags:i}),_(`${e}.app_start_script_${a.replace("-","")}.Complete`,t.responseEnd,{tags:i})}if(f.includes(a)){let t=r[0];_(`${e}.critical_resource_${a.replace("-","")}.InFlight`,t.fetchStart,{tags:n}),_(`${e}.critical_resource_${a.replace("-","")}.Complete`,t.responseEnd,{tags:n})}else{let o=[...r].sort((e,t)=>e.fetchStart-t.fetchStart),s=[...r].sort((e,t)=>e.responseEnd-t.responseEnd),l=1,p=t/5,d=0;for(;l<=5;){let t=0;for(;d<=i-1&&o[d].fetchStart<=p*l;)d+=1,t+=1;m(`${e}.${a}.fetchStartInterval${l}of5`,t,{sampleRate:.2}),l+=1}let c={InFlightP0:o[0].fetchStart,InFlightP25:o[Math.floor(i/4)].fetchStart,InFlightP50:o[2*Math.floor(i/4)].fetchStart,InFlightP75:o[3*Math.floor(i/4)].fetchStart,InFlightP100:o[i-1].fetchStart,CompleteP25:s[Math.floor(i/4)].responseEnd,CompleteP50:s[2*Math.floor(i/4)].responseEnd,CompleteP75:s[3*Math.floor(i/4)].responseEnd,CompleteP100:s[i-1].responseEnd};for(let t in c)c[t]&&_(`${e}.${a}.${t}`,c[t],{tags:n})}}};var h=n(240083),y=n(591048);let v=({type:e,annotateExperiments:t,annotations:n,binaryAnnotations:c,constraintMap:_,endTime:m,imageTimings:v,isV4Logger:w,metricId:S,pwtMeasures:T,pwtStaticContext:E,startTime:k,traceId:C,spans:b})=>{let M,$=(0,y.Cg)();"initial_app_load"===S.navigationType&&(M=(0,a.Z)());let R=v.map(({name:e})=>e),P=$.map(e=>(0,i.p)(e,R)).filter(({timing:e})=>!(({startTime:e,responseEnd:t},n)=>e>n.endTime||!!t&&t<n.startTime)(e,{startTime:k,endTime:m})),x=Object.values(T||{}).filter(e=>null!=e).map(e=>({name:e.name,id:(0,h.Z)(),parentId:C,startTime:e.startTime||k,endTime:e.startTime+(e.duration||0),annotationMap:{},binaryAnnotationMap:{}})).filter(e=>!(({startTime:e,endTime:t},n)=>e>n.endTime||!!t&&t<n.startTime)(e,{startTime:k,endTime:m}));return .2>Math.random()&&(({annotateExperiments:e,endTime:t,entries:n,metricId:r,pwtStaticContext:a})=>{if("undefined"!=typeof document&&"hidden"===document.visibilityState)return;let{isAuthenticated:i,isBot:o,isSocialBot:s,deviceType:l}=a,p=`${s&&"socialBot"||o&&"bot"||"nonbot"}.${l}.${r.surface}`,d=[p];e&&[...new Set(e)].forEach(e=>{let t=a.getExperimentGroup(e);t&&d.push(`${p}.experiment.${e}.${t}`)});let c={isAuthenticated:i,navigationType:r.navigationType,startType:a.startType},_=Array.from(n.filter(e=>"number"==typeof e.encodedBodySize&&("xmlhttprequest"===e.initiatorType&&e.encodedBodySize>=1e3||e.encodedBodySize>=1e4)&&e.responseEnd<=t)),m={img:[],css:[],script:[],xmlhttprequest:[],preloadedImages:[]};_.forEach(e=>{if("link"===e.initiatorType&&e.name.includes("i.pinimg.com"))m.preloadedImages=[...m.preloadedImages||[],e];else if(e.initiatorType in m){let t=e.initiatorType;m[t]=[...m[t]||[],e];let n=f.find(t=>e.name.includes(t));n&&(m[n]=[e]);let r=u.find(t=>e.name.includes(t));r&&(m[r]=[e])}}),d.forEach(e=>{g({eventPrefix:e,endTime:t,tags:c,resourceArr:_}),Object.entries(m).forEach(([n,r])=>{g({eventPrefix:e,endTime:t,tags:c,resourceArr:r,resourceType:n})})})})({annotateExperiments:t,endTime:m,entries:$,metricId:S,pwtStaticContext:E}),{traceId:C,startTime:k,endTime:m,spans:[...P.map(e=>(0,d.Z)(e,C)).filter(Boolean),...x].concat(b),annotationMap:(({constraintMap:e,initialNavTiming:t,annotations:n})=>({...n,...l("constraint_",e),...l("mark_",Object.values((0,p.lj)()||{}).filter(e=>null!=e).reduce((e,t)=>({...e,[t.name]:t.startTime}),{})),...l("browser_",{...t?{...(0,o.Z)(t),domComplete:t.domComplete||0,domContentLoadedEventStart:t.domContentLoadedEventStart||0,domInteractive:t.domInteractive||0,workerStart:t.workerStart||0}:{},...(()=>{let{largestContentfulPaint:e}=(0,s.v2)();return{largestContentfulPaint:e||0}})()})}))({constraintMap:_,initialNavTiming:M,annotations:n}),binaryAnnotationMap:(0,r.rA)({initialNavTiming:M||{},type:e,annotateExperiments:t,binaryAnnotations:c,entries:$,isV4Logger:w,metricId:S,performanceResources:P,pwtEndTime:m,pwtStaticContext:E})}},w=({annotateExperiments:e,annotations:t,binaryAnnotations:n,constraintMap:r,endTime:a,imageTimings:i,isV4Logger:o=!1,metricId:s,pwtMeasures:l,pwtStaticContext:p,startTime:d,traceId:c,spans:u})=>({type:"COMPLETE",...v({type:"COMPLETE",annotateExperiments:e,annotations:t,binaryAnnotations:n,constraintMap:r,endTime:a,imageTimings:i,isV4Logger:o,metricId:s,pwtMeasures:l,pwtStaticContext:p,startTime:d,traceId:c,spans:u})}),S=({reason:e,annotateExperiments:t,annotations:n,binaryAnnotations:r,constraintMap:a,endTime:i,imageTimings:o,isV4Logger:s=!1,metricId:l,pwtMeasures:p,pwtStaticContext:d,startTime:c,traceId:u,spans:_})=>({type:"ABORT",reason:e,...v({type:"ABORT",annotateExperiments:t,annotations:n,binaryAnnotations:r,constraintMap:a,endTime:i,imageTimings:o,isV4Logger:s,metricId:l,pwtMeasures:p,pwtStaticContext:d,startTime:c,traceId:u,spans:_})})},449896:function(e,t,n){n.d(t,{E9:()=>u,ng:()=>h,rA:()=>v});var r=n(437993),a=n(687412),i=n(62798),o=n(160927),s=n(648447),l=n(591048),p=n(308374),d=n(448021),c=n(178355);let u=(e,t)=>(e||[]).reduce((e,n)=>{let r=t(n);return r?{...e,[`experiment.${n}`]:(0,i.sk)(r)}:e},{}),_=(e,t)=>"number"==typeof t?e(t):null,m=e=>Number(Number(e/1024).toFixed(3)),f=e=>e.reduce((e,t)=>e+t,0),g=(e,t,n,r,o)=>{let s,{devicePixelRatio:d,navigator:c,innerWidth:u,innerHeight:m,performance:f}=window,{deviceMemory:g,hardwareConcurrency:h,platform:y,userAgent:v,connection:w}=c,{memory:S}=f,{appType:T,appVersion:E,browserName:k,browserVersion:C,deviceType:b,hasActiveServiceWorker:M,isAppShell:$,isAuthenticated:R,isBot:P,isSocialBot:x,locale:A,osName:I,stageName:j,startType:z,unauthId:O}=t,{navigationType:q}=e,D=null;if("initial_app_load"===q){s=1;let e=(0,p.Z)("navigation")[0]?.transferSize;D=e?parseFloat((.001*e).toFixed(1)):null}else s=4;let L={"app.type":(0,i.jy)("desktop"===b?T||5:T||6),"app.version":(0,i.sk)(E),"browser.name":(0,i.sk)(k),"browser.version":(0,i.sk)(C),"cpu.speed":(0,i.jy)(h),"device.memory":(0,i.jy)(g),"device.type":(0,i.jy)(0),"device.typeName":(0,i.sk)(b),"device.version":(0,i.sk)("unknown"),"pwt.cause":(0,i.jy)(s),"net.effectiveType":(0,i.sk)(w?.effectiveType||null),"net.downlink":(0,i.cC)(_(e=>10*Math.round(e/10),w?.downlink)),"net.downlinkMax":(0,i.cC)(_(e=>10*Math.round(e/10),w?.downlinkMax)),"net.rtt":(0,i.cC)(_(e=>10*Math.round(e/10),w?.rtt)),"net.speed":(0,i.cC)((0,l.Hv)(n,!1)),"pwt.result":(0,i.jy)("COMPLETE"===r?1:2),"viewport.height":(0,i.cC)(m||0),"viewport.width":(0,i.cC)(u||0),devicePixelRatio:(0,i.cC)(d||0),hasActiveServiceWorker:(0,i.qr)(M),isAppShell:(0,i.qr)($),isAuthenticated:(0,i.qr)(R),isBot:(0,i.qr)(P),isSocialBot:(0,i.qr)(x),locale:(0,i.sk)(A),osName:(0,i.sk)(I),...null!==D&&{htmlResponseSize:(0,i.cC)(D)},nextHopProtocol:(0,i.sk)((0,p.Z)("navigation")[0]?.nextHopProtocol||null),platform:(0,i.sk)(y||null),profilerVersion:o?(0,i.sk)("4"):(0,i.sk)("3"),pwtActionName:o&&"id"in e?(0,i.jy)(e.id):(0,i.jy)((0,a.Rp)(e)),stageName:(0,i.sk)(j),startType:(0,i.sk)(z||""),userAgent:(0,i.sk)(v),usedJSHeapSize:(0,i.cC)(S?.usedJSHeapSize||0),totalJSHeapSize:(0,i.cC)(S?.totalJSHeapSize||0),jsHeapSizeLimit:(0,i.cC)(S?.jsHeapSizeLimit||0)};return R?L:{...L,unauthId:(0,i.sk)(O)}},h=({annotateExperiments:e,metricId:t,pwtStaticContext:n,binaryAnnotations:r={},performanceResourceTimings:a=[],type:o})=>({...u(e,n.getExperimentGroup),...g(t,n,a,o),...r,stopwatchVersion:(0,i.jy)(1),...r["view.type"]?{"view.type":r["view.type"]}:{"view.type":(0,i.cC)(0)}}),y=(e,t=10,n=!1)=>{let r=e.sort((e,t)=>(n?e[1]-t[1]:t[1]-e[1])||e[0].localeCompare(t[0])),a=new Set;return r.filter(([e])=>!a.has(e)&&(a.add(e),!0)).slice(0,t)},v=({type:e,annotateExperiments:t,binaryAnnotations:n={},entries:a,isV4Logger:l,metricId:p,performanceResources:_,pwtStaticContext:h,initialNavTiming:v})=>({...(e=>{let t={script_deferred:[],external:[],visually_complete:[],script:[],css:[],video:[],image:[],xmlhttprequest:[],other:[]};return e.length&&e.forEach(e=>{let{timing:n}=e;t[e.category]=[...t[e.category]??[],n],e.isDeferred&&(t.script_deferred=[...t.script_deferred??[],n]),e.isExternal&&(t.external=[...t.external??[],n]),e.isVisuallyCompleteRequired&&(t.visually_complete=[...t.visually_complete??[],n])}),{...Object.keys(t).reduce((e,n)=>{let r,a;return{...e,...(r=`resource.${n}.`,Object.keys(a=(e=>{let t=e.filter(e=>!!e.responseEnd);return{...e.length?{...(e=>{if(!e.length)return{};let t=e.map(({startTime:e,requestStart:t,responseStart:n,responseEnd:r})=>{let a=t||e;return{startTime:e,requestStart:a,responseStart:n||a,responseEnd:r}}),n=f(t.map(e=>e.requestStart-e.startTime)),r=f(t.map(e=>e.responseStart-e.requestStart)),a=f(t.map(e=>e.responseEnd-e.responseStart)),o=f(e.map(e=>e.decodedBodySize||0)),s=f(e.map(e=>e.encodedBodySize||0)),l=f(e.map(e=>e.transferSize||0));return{decodedBodySize:(0,i.cC)(m(o)),encodedBodySize:(0,i.cC)(m(s)),transferSize:(0,i.cC)(m(l)),"duration.all":(0,i.cC)(n+r+a),"duration.requestStartToResponseStart":(0,i.cC)(r),"duration.responseStartToResponseEnd":(0,i.cC)(a),"duration.startToRequestStart":(0,i.cC)(n)}})(t),"count.completed":(0,i.cC)(t.length)}:{},"count.all":(0,i.cC)(e.length)}})(t[n])).reduce((e,t)=>({...e,[`${r}${t}`]:a[t]}),{}))}},{})}})(_),...u(t,h.getExperimentGroup),...g(p,h,a,e,l),...(e=>{let{navigator:t}=window,{serviceWorker:n}=t,{surface:r,navigationType:a,isAuthenticated:o}=e,{cumulativeLayoutShiftScore:l,longTaskDurations:p}=(0,s.v2)(),{scrollDuringLayout:c}=(0,d.lj)();return{...p.length?{"longTask.count":(0,i.cC)(p.length),"longTask.maxDuration":(0,i.cC)(Math.max(...p)),"longTask.totalDuration":(0,i.cC)(f(p))}:{},cumulativeLayoutShiftScore:(0,i.cC)(100*l),"metricId.isAuthenticated":(0,i.qr)(o),"metricId.navigationType":(0,i.sk)(a),"metricId.surface":(0,i.sk)(r),scrollDuringLayout:(0,i.qr)(!!c),serviceWorker:(0,i.qr)(n?!!n.controller:null),serviceWorkerState:(0,i.sk)(n?.controller?.state||null)}})(p),...v?{"navTiming.workerFinalSourceType":(0,i.sk)(v.workerFinalSourceType||null),"navTiming.workerMatchedSourceType":(0,i.sk)(v.workerMatchedSourceType||null)}:{},...((e,t)=>{if(!["HOME_FEED_PINTERACTIVE","HOME_FEED_RENDER","initial_page_load_auth_pin","PIN_CLOSEUP_DETAILS","STORY_PIN_CLOSEUP","PIN_PAGE_INTERACTIVE","client_route_push_unauth_pin","render_performance_test_page"].includes(e.surface))return{};let n=(0,c.H)()??"",a=(0,r.$A)(n),s=(0,r.B4)(n),l="enabled"===t("perf_profiler_logs"),{info:p}=console;if(l&&(p("=== RENDER PERFORMANCE METRICS ==="),p("Current Handler:",n)),!a)return l&&p("No render metrics found"),{};s&&l&&p("Raw data:",s);let d={},u=[],_=[],m=[],f=[],g=[],h=[],v=[],w=[],S=[],T=[],E=[],k={};Object.keys(a).forEach(e=>{let t=a[e];t&&0!==Object.keys(t).length&&Object.keys(t).forEach(n=>{let r=t[n];if(!r?.metrics)return;let{groupTags:a,metrics:s}=r,{rawCount:l,rawTiming:p,totalTiming:c,totalCount:y,updatesCount:C,updateTiming:b,averageUpdateTiming:M,maxMemoizationDelta:$,averageMemoizationDelta:R,maxMemoizationRatio:P,averageMemoizationRatio:x}=s,A=Math.floor(100*p),I=Math.floor((c??0)*100),j=Math.floor((b??0)*100),z=Math.floor((M??0)*100),O=Math.floor(($??0)*100),q=Math.floor((R??0)*100),D=Math.floor((P??0)*100),L=Math.floor((x??0)*100),N=(0,o.pp)(e,n,a);d[`renderMetricsCountRaw.${N}`]=(0,i.cC)(l),u.push([N,l]),d[`renderMetricsCountTotal.${N}`]=(0,i.cC)(y),m.push([N,y??0]),d[`renderMetricsCountUpdates.${N}`]=(0,i.cC)(C),g.push([N,C]),d[`renderMetricsTimingRaw.${N}`]=(0,i.cC)(A),_.push([N,A]),d[`renderMetricsTimingTotal.${N}`]=(0,i.cC)(I),f.push([N,c??0]),d[`renderMetricsTimingUpdate.${N}`]=(0,i.cC)(j),h.push([N,b??0]),d[`renderMetricsTimingUpdatesAverage.${N}`]=(0,i.cC)(z),v.push([N,M??0]),0!==O&&(d[`renderMetricsMaxMemoDelta.${N}`]=(0,i.cC)(O),w.push([N,O])),0!==q&&(d[`renderMetricsAverageMemoDelta.${N}`]=(0,i.cC)(q),S.push([N,q])),0!==D&&(d[`renderMetricsMaxMemoRatio.${N}`]=(0,i.cC)(D),T.push([N,D])),0!==L&&(d[`renderMetricsAverageMemoRatio.${N}`]=(0,i.cC)(L),E.push([N,L])),a&&a.length>0&&a.forEach(e=>{k[e]||(k[e]=[]),k[e].push([N,b??0])})})});let C=y(u,100),b=y(m,100),M=y(g,100),$=y(_,100),R=y(f,100),P=y(h,100),x=y(h,3),A=y(v,100),I=y(w,100),j=y(S,100),z=y(T,100),O=y(E,100);return x.forEach(([e,t])=>{d[`renderMetricsWorstUpdateTiming.${e}`]=(0,i.cC)(t)}),Object.keys(k).forEach(e=>{y(k[e]??[],3).forEach(([e,t])=>{d[`renderMetricsWorstUpdateTimingWithTag.${e}`]=(0,i.cC)(t)})}),l&&(p(`RPM - PWT Complete [${e.surface}], binary annotations:`,d),p(`RPM - PWT Complete [${e.surface}], rawCount:`,C),p(`RPM - PWT Complete [${e.surface}], totalCount:`,b),p(`RPM - PWT Complete [${e.surface}], updateCount:`,M),p(`RPM - PWT Complete [${e.surface}], rawTiming:`,$),p(`RPM - PWT Complete [${e.surface}], totalTiming:`,R),p(`RPM - PWT Complete [${e.surface}], updateTiming:`,P),p(`RPM - PWT Complete [${e.surface}], updateTimingAverage:`,A),p(`RPM - PWT Complete [${e.surface}], maxMemoDelta:`,I),p(`RPM - PWT Complete [${e.surface}], averageMemoDelta:`,j),p(`RPM - PWT Complete [${e.surface}], maxMemoRatio:`,z),p(`RPM - PWT Complete [${e.surface}], averageMemoRatio:`,O),p(`RPM - PWT Complete [${e.surface}], worstUpdateTiming:`,x),p("=== END RENDER PERFORMANCE METRICS ===")),(0,r._J)(n),d})(p,h.getExperimentGroup),...n,...n["view.type"]?{"view.type":n["view.type"]}:{"view.type":(0,i.cC)(0)}})},192496:function(e,t,n){n.d(t,{Z:()=>a});var r=n(296264);let a=()=>{let[e]=r.Z?r.Z.getEntriesByType("navigation"):[];return e}},780764:function(e,t,n){n.d(t,{i:()=>r,p:()=>a});let r=({name:e,initiatorType:t})=>{switch(t){case"xmlhttprequest":return"xmlhttprequest";case"img":return"image";case"video":return"video";default:{let t=e.split("."),n=(t.length>1&&t.pop()||"").toLowerCase();if(["js","mjs"].includes(n))return"script";if("css"===n)return"css";if(["mp4","m4v","mov","ts","m3u8"].includes(n))return"video";if(["bmp","gif","jpg","jpeg","png","tiff","webp","svg"].includes(n))return"image";return"other"}}},a=(e,t)=>{let n=r(e),{name:a}=e;return{category:n,isDeferred:"script"===n&&(e=>{let t=e.replace(RegExp(`^${window.location.origin||""}`),""),n=document&&document.querySelector(`script[src='${t}']`);return!!n&&n.hasAttribute("defer")})(a),isExternal:["pinimg","pinterest","pinterdev"].every(e=>!a.includes(`${e}`)),isVisuallyCompleteRequired:"image"===n&&t.includes(a),timing:e}}},217472:function(e,t,n){n.d(t,{C:()=>h,Z:()=>y});var r=n(877762),a=n(49831),i=n(687412),o=n(774303),s=n(705460);let l=null;var p=n(62798),d=n(192496),c=n(240083),u=n(308374);let _=({span:e,timeOrigin:t})=>{let n,r;return{id:e.id,parent_id:e.parentId||null,result:1,name:e.name,timestamp:t+e.startTime,duration:e.endTime-e.startTime,annotations:Object.keys(n=e.annotationMap).reduce((e,r)=>{let a=n[r];return a?{...e,[r]:{timestamp:t+a}}:e},{}),binary_annotations:Object.keys(r=e.binaryAnnotationMap).reduce((e,t)=>{let n=r[t];if(!n)return e;let{value:a,type:i}=n;return null==a?e:e.concat({name:t,value:a,annotation_type:i})},[])}},m=(e,t)=>({...e,annotations:{...(({annotations:e})=>e.reduce((e,{key:t,timestamp:n})=>({...e,[`server_${t}`]:{timestamp:n}}),{}))(t),...e.annotations},binary_annotations:[...t.binary_annotations,...e.binary_annotations]});var f=n(767415);let g=(0,o.XV)("reportResult"),h=({resultReason:e,resultLog:t,annotateExperiments:n,getExperimentGroup:r,options:a})=>{[...new Set(n)].forEach(n=>{let i=r(n),o=e?t.concat(`.${e}`):t;if(i){let e=`.experiment.${n}.${i}`;(0,s.A9)(`${o}${e}`,a)}})};function y({metricId:e,pwtStaticContext:t,result:n,isAuth:o,isV4Logger:y=!1,annotateExperiments:v}){let w,S=t.getServerData();if(y){let{surface:t}=e;w=t}else w=(0,i.KJ)(e);let T=`${n.type}.${w}`,E=void 0!==o&&{tags:{isAuth:o}}||void 0;"FEED_RENDER"!==w&&(0,s.A9)(n.reason?T.concat(`.${n.reason}`):T,E),v&&h({resultReason:n.reason,resultLog:T,annotateExperiments:v,getExperimentGroup:t.getExperimentGroup,options:E});let k=`${n.type}.${w}`;a.is||((0,f.S0)(`${k}.spans`,n.spans.length,{sampleRate:1}),(0,f.S0)(`${k}.annotations`,Object.keys(n.annotationMap).length,{sampleRate:1})),"COMPLETE"!==n.type&&g(`Abort metric ${w}`,n);let C=window.performance?.now?Date.now()-window.performance.now():"unknown";if("unknown"===C){g(`Unable to convert to absolute times for ${w} due to missing time origin`),(0,s.A9)(`missingTimeOrigin.${w}`,E);return}if(a.is&&(window.PWT_LAB_DATA=((l=l||{results:[],context:t}).results.push(n),l)),n.spans.length&&(n.spans=n.spans.map(e=>(e.parentId||e.id===n.traceId||"network_resources"===e.name||(e.parentId=n.traceId),e))),!a.is){let i=e.navigationType&&"initial_app_load"===e.navigationType,{traceId:o}=n,s=JSON.stringify((({traceId:e,actionName:t,result:n,timeOrigin:r,serverDataToJoin:a})=>{let i=_({span:((e,{startTime:t,endTime:n,annotationMap:r,binaryAnnotationMap:a,parentId:i,traceId:o})=>({name:`pwt/${e}`,startTime:t,endTime:n,annotationMap:r,binaryAnnotationMap:a,parentId:i,id:o}))(t,n),timeOrigin:r}),o=null;return a&&(i=m(i,a),o=((e,t,n)=>{let r=(0,d.Z)();return r?.responseEnd?m(_({span:{name:"html",startTime:0,endTime:r?.responseEnd||1,annotationMap:{},binaryAnnotationMap:{nextHopProtocol:(0,p.sk)((0,u.Z)("navigation")[0]?.nextHopProtocol||null)},id:(0,c.Z)(),parentId:t},timeOrigin:n}),e):null})(a,e,r)),{trace_id:e,type:n.type,spans:[i,...o?[o]:[],...n.spans.map(e=>_({span:e,timeOrigin:r}))]}})({traceId:o,actionName:w,result:n,timeOrigin:C,serverDataToJoin:i&&S||null}));a.is||(0,f.S0)(`${k}.size`,s.length,{sampleRate:1});let{promise:l}=(0,r.Z)({type:"POST",url:"/_/_/trace/trace/",data:{report_data:s,report_context:JSON.stringify({debugTrace:a.eD,locale:t.locale,stageName:t.stageName})}});(async()=>{try{await l}catch(e){g(`Failed to report trace for ${w}:`,e)}})(),g(`PinTrace ${w} will be available shortly: https://pintrace.pinadmin.com/zipkin/traces/${o}`,{duration:n.endTime-n.startTime,result:n,pwtStaticContext:t})}}},649324:function(e,t,n){n.d(t,{Z:()=>r});let r=e=>({connectEnd:e.connectEnd||0,connectStart:e.connectStart||0,domainLookupEnd:e.domainLookupEnd||0,domainLookupStart:e.domainLookupStart||0,fetchStart:e.fetchStart||0,requestStart:e.requestStart||0,redirectEnd:e.redirectEnd||0,redirectStart:e.redirectStart||0,responseEnd:e.responseEnd||0,responseStart:e.responseStart||0,secureConnectionStart:e.secureConnectionStart||0,startTime:e.startTime||0,workerStart:e.workerStart||0,unloadEventStart:e.unloadEventStart||0,unloadEventEnd:e.unloadEventEnd||0,workerCacheLookupStart:e.workerCacheLookupStart||0,workerRouterEvaluationStart:e.workerRouterEvaluationStart||0})},337751:function(e,t,n){n.d(t,{Z:()=>o});var r=n(62798),a=n(649324),i=n(240083);function o(e,t){let{category:n,timing:o,isDeferred:s,isExternal:l,isVisuallyCompleteRequired:p}=e;if(!o.responseEnd||"image"===n&&!p)return null;let d=!1,c=o.serverTiming?.find(e=>"spanId"===e.name)?.description;return c||(d=!0),{name:(({category:e,isDeferred:t,isExternal:n})=>[e].concat(t?["deferred"]:[]).concat(n?["external"]:[]).join("_"))(e),id:c||(0,i.Z)(),parentId:t,startTime:o.startTime,endTime:o.responseEnd,annotationMap:(0,a.Z)(o),binaryAnnotationMap:{isRandomSpanId:(0,r.qr)(d),category:(0,r.sk)(n),decodedBodySize:(0,r.cC)(o.decodedBodySize||0),initiatorType:(0,r.sk)(o.initiatorType),isDeferred:(0,r.qr)(s),isExternal:(0,r.qr)(l),name:(0,r.sk)(o.name),nextHopProtocol:(0,r.sk)(o.nextHopProtocol),transferSize:(0,r.cC)(o.transferSize||0),workerFinalSourceType:(0,r.sk)(o.workerFinalSourceType),workerMatchedSourceType:(0,r.sk)(o.workerMatchedSourceType)}}}},648447:function(e,t,n){n.d(t,{UQ:()=>s,on:()=>i,v2:()=>o});var r=n(679767);let a={cumulativeLayoutShiftScore:0,longTaskDurations:[],largestContentfulPaint:null,elementTimings:[]},i=()=>{a.longTaskDurations=[]},o=()=>a,s=()=>{(0,r.Z)({entryTypes:["longtask"]},e=>{e.getEntries().map(e=>a.longTaskDurations.push(e.duration))},()=>i()),(0,r.Z)({type:"largest-contentful-paint",buffered:!0},e=>{let t=e.getEntries(),n=t.length,r=t[n-1];r&&(a.largestContentfulPaint=r.renderTime||r.loadTime||null)}),(0,r.Z)({type:"layout-shift",buffered:!0},e=>{e.getEntries().forEach(e=>{e.hadRecentInput||(a.cumulativeLayoutShiftScore+=e.value)})})}},679767:function(e,t,n){n.d(t,{Z:()=>r});let r=(e,t,n)=>{if(!window.PerformanceObserver)return null;try{let r=new window.PerformanceObserver(t);return r.observe(e),window.addEventListener("beforeunload",()=>{r.disconnect()}),n&&window.addEventListener("popstate",()=>{n()}),r}catch(e){return null}}},591048:function(e,t,n){n.d(t,{Cg:()=>o,Hv:()=>s,MM:()=>l});var r=n(705460),a=n(780764),i=n(308374);let o=()=>(0,i.Z)("resource"),s=(e,t=!0)=>{let n,i=0,o=0,s=(n=e.filter(e=>t?"image"===(0,a.i)(e)&&(e.responseEnd||(i+=1),e.transferSize||(o+=1),!!e.responseEnd&&!!e.transferSize):!!e.responseEnd&&!!e.transferSize).map(e=>8*(e.transferSize||0)/((e.responseEnd-e.responseStart)/1e3)/1e3)).length?n.reduce((e,t)=>e+t,0)/n.length:null;return t&&(i>0&&(0,r.A9)("images.downloadSpeed.noResponseEnd",{tags:{count:i}},!1),o>0&&(0,r.A9)("images.downloadSpeed.transferSize",{tags:{count:o}},!1)),s},l=e=>{if(!e)return"unknown";let t=Math.floor(e/1e3);return t<1?"0-1":t<5?"1-5":t<10?"5-10":t<20?"10-20":t<40?"20-40":t<80?"40-80":"80_or_above"}},308374:function(e,t,n){n.d(t,{Z:()=>r});function r(e){return window?.performance?.getEntriesByType&&window.performance.getEntriesByType(e)||[]}},296264:function(e,t,n){let r;n.d(t,{Z:()=>a});let a=(r=window.performance)&&r.clearMarks&&r.clearMeasures&&r.clearResourceTimings&&r.getEntries&&r.getEntriesByName&&r.getEntriesByType&&r.mark&&r.measure&&r.now&&r.setResourceTimingBufferSize?r:null},774254:function(e,t,n){n.d(t,{Z:()=>i});var r=n(712655),a=n(547314);function i(e,t,n){(0,r.Z)()&&((0,a.qu)("Measure:",`pwt__${e}: ${t} -> ${n}`),performance.measure(`pwt__${e}`,{start:t||0,end:n||performance.now()}))}},448021:function(e,t,n){n.d(t,{fd:()=>i,kA:()=>o,lj:()=>a});let r={};function a(){return r}function i(e,t){r[e]=t}function o(){r={}}},479901:function(e,t,n){let r,a,i;n.d(t,{Em:()=>$,Eq:()=>N,Gf:()=>A,H7:()=>q,LD:()=>H,Ly:()=>B,O3:()=>P,Of:()=>y,P9:()=>F,Qm:()=>z,Rz:()=>O,TF:()=>L,Wj:()=>C,Yb:()=>W,_A:()=>U,_f:()=>R,a7:()=>b,an:()=>G,cg:()=>I,e:()=>w,fC:()=>S,fI:()=>T,gM:()=>J,h:()=>k,je:()=>D,mn:()=>V,nn:()=>M,pX:()=>v,qH:()=>x,xY:()=>E,xb:()=>j,zU:()=>Z});let o={},s=[],l=[],p={},d={},c=[],u=0,_=0,m={},f={},g=!1,h=["webpack_react_profiler","web_early_hydration","web_ngjs_related_modules_response_remove_nulls","web_ngjs_homefeed_response_remove_nulls","web_ngjs_search_response_remove_nulls","ap_dweb_res_user_simplified_grid_overflow_menu_entrypoint","www_isolated_build","web_optimize_font_loading","delta_compressed_mjs","web_sw_serve_locales"];function y(){return r}function v(){return h}function w(){return l}function S(){return a}function T(){return d}function E(){return p}function k(){return c}function C(){return i}function b(){return u}function M(){return g}function $(e){g=e}function R(){return s}function P(e){l.splice(e,1)}function x(e){s.push(e)}function A(){return o}function I(e){u=e}function j(e,t){p[e]=t}function z(e){r=e}function O(e){_=e}function q(e){a=e}function D(e){i=e}function L(e){c=e}function N(){return r?_:0}function B(){return r?r.name:"unknown"}function F(){return r?_:null}function Z(){return f}function H(e,t){f[e]=t}function W(){return m}function U(e,t){m[e]=t}function J(e){l.push(e)}function G(e,t){d={...d,[e]:t}}function V(){o={},s=[],l=[],p={},d={},c=[],r=null,u=0,_=0,i="",m={},f={}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/54089-b1ab21a16c849690.mjs.map