(self.modernJsonp=self.modernJsonp||[]).push([["92044"],{731517:function(e,t,r){r.d(t,{Z:()=>n});var i=r(994193);async function n(e,t){let{api:r}=(0,i.t)(),n=(0,i.u)();try{n.attempt("getMultipleBizEntityProperties",t);let i=new Date().getTime(),a=await r.post("/ads/v4/business_entities",e,!1);return n.success("getMultipleBizEntityProperties",t),n.latency("getMultipleBizEntityProperties",new Date().getTime()-i,t),a}catch(e){throw n.failure("getMultipleBizEntityProperties",t),e}}(0,i.u)()},185040:function(e,t,r){r.d(t,{Z:()=>n});var i=r(994193);async function n(e,t){let{api:r}=(0,i.t)(),n=(0,i.u)();try{n.attempt("setMultipleBizEntityProperties",t);let i=new Date().getTime(),a=await r.patch("/ads/v4/business_entities",e,!1);return n.success("setMultipleBizEntityProperties",t),n.latency("setMultipleBizEntityProperties",new Date().getTime()-i,t),a}catch(e){throw n.failure("setMultipleBizEntityProperties",t),e}}(0,i.u)()},65711:function(e,t,r){r.d(t,{Z:()=>n});var i=r(935059);let n=()=>{let e=(0,i.Z)();return!!e.isAuth&&e.isPartner}},69406:function(e,t,r){r.d(t,{Oz:()=>i,mo:()=>s,nt:()=>a,v8:()=>n});let i={BUSINESS_ACCOUNT:"BUSINESS_ACCOUNT",BUSINESS_HIERARCHY:"BUSINESS_HIERARCHY",USER_ACCOUNT:"USER",AD_ACCOUNT:"AD_ACCOUNT",PROFILE:"PROFILE",CATALOG:"CATALOG"},n="BUSINESS_PANEL",a="ASSET_PANEL",s=500},800287:function(e,t,r){r.d(t,{lG:()=>h,FE:()=>U,NM:()=>L});var i=r(667294),n=r(312048),a=r(65711),s=r(684645),u=r(935059),l=r(501010),o=r(767415),d=r(581722),c=r(917569),_=r(387535),E=r(442279),p=r(498539);let S=(0,E.createSelector)(p.Z,({viewerIsProfileOwnerOrProfileManager:e})=>e??void 0);var m=r(200619),I=r(601871),A=r(414448),T=r(69406),g=r(230201),O=r(213491),R=r(173874),N=r(138482),P=r(341687),C=r(229819),y=r(131990),f=r(520803),b=r(785893);let{Provider:v,get:L}=(0,O.Z)("AccountSwitcherContext"),h=e=>e.search&&(0,P.Z)(e.search).advertiserId,U=({children:e})=>{let t=(0,n.TH)(),{params:{userBizId:r,businessHierarchyId:E,advertiserId:p,username:O}}=(0,f.Z)(),{catalogId:P}=(0,y.Z)(),L=h(t),U=(0,u.Z)(),{viewerIsProfileOwnerOrProfileManagerData:D,previousIsViewerProfileOwnerOrProfileManager:M}=(()=>{let e=(0,u.Z)(),t=(0,i.useRef)(e);t.current=e;let r=(0,d.I0)(),n=(0,m.Z)(),a=(0,i.useRef)(n);a.current=n;let l=(0,d.v9)(S),o=l?.data||void 0,E=(0,i.useRef)(o);E.current=o;let p=(0,c.Z)()();(0,i.useEffect)(()=>{(async()=>{if(t.current.isAuth&&l?.data===void 0&&(!p||a.current.id)){let e=await (0,s.bG)({user_id:t.current.id});if(void 0!==e&&void 0===E.current){let i=(0,I.D3)(t.current,e?.id??"",a)||t.current.isAuth&&t.current.username===e?.username;r((0,_.Z)(!!i))}}})()},[t,E,r,a,l,p]);let T=(0,A.rc)(o);return{viewerIsProfileOwnerOrProfileManagerData:o,previousIsViewerProfileOwnerOrProfileManager:T}})(),{checkExperiment:w}=(0,l.Z)(),Z=w("web_m10n_business_access_catalogs").anyEnabled,B=w("web_m10n_bm_mega_nav_improvements").anyEnabled,[G,V]=(0,i.useState)(""),[$,H]=(0,i.useState)(null),[F,x]=(0,i.useState)(!1),[k,Y]=(0,i.useState)(null),W=new URLSearchParams(t.search),[z,j]=(0,i.useState)(W.has("actingBusinessId")?null:{id:U.isAuth&&U.id||"",name:U.isAuth&&U.fullName||"",img:U.isAuth&&U.imageMediumUrl||""}),[q,K]=(0,i.useState)(!1),X=(0,a.Z)(),{logContextEvent:J}=(0,g.u)(),{accountSwitcherConfig:Q,setConfig:ee}=(()=>{let e=(0,u.Z)(),t=(0,a.Z)(),{checkExperiment:r}=(0,l.Z)(),[n,d]=(0,i.useState)({isReady:!1}),c=(0,i.useCallback)(async({entityId:e,actingBusinessId:i,favorites:n})=>{if(t){let{anyEnabled:t}=r("aid_exp_bes_account_switcher_use_resource");await (0,s.yo)({entityId:e,actingBusinessId:i,favorites:n,useResource:t}),d(e=>{let t={...e,actingBusinessId:i};return n&&(t.favoriteAdAccounts={favoriteAdAccountsMap:{...e.favoriteAdAccounts?.favoriteAdAccountsMap||{},[n.actingBusinessId]:{advertiserId:n.adAccounts}}}),t})}},[t,r]);return(0,i.useEffect)(()=>{t&&e.isAuth&&!n.isReady&&(async()=>{let t=!1,{anyEnabled:i}=r("aid_exp_bes_account_switcher_use_resource");try{let t=await (0,s.SF)({entityId:e.id,useResource:i});d(e=>({...e,...t}))}catch{t=!0}finally{(0,o.nP)("globalAccountSwitcher.getFavoriteAdAccounts",{sampleRate:1,tags:{businessId:e.id,hasError:t}}),d(e=>({...e,isReady:!0}))}})()},[n.isReady,t,r,e]),{accountSwitcherConfig:n,setConfig:c}})();(0,i.useEffect)(()=>{E?V(E):V("")},[E]);let et=(0,i.useCallback)(async({id:e,username:t})=>{let r=await (0,s.bG)({user_id:e,username:t});r&&Y({type:e?T.Oz.BUSINESS_ACCOUNT:T.Oz.PROFILE,id:e||r.id,name:r.full_name,img:r.image_medium_url,username:t,ownerImg:r.image_medium_url,ownerName:r.full_name,actingBusinessFullName:z?.name||r.full_name}),K(!1)},[z]),er=(0,A.rc)(O);(0,i.useEffect)(()=>{let e=U.isAuth?U.username:void 0;(0,N.Z)(t)&&k&&er!==O&&O===e&&(et({username:e}),j({id:U.isAuth&&U.id||"",name:U.isAuth&&U.fullName||"",img:U.isAuth&&U.imageMediumUrl||""}),H({type:T.nt,id:U.isAuth?U.id:void 0}))},[t,er,et,k,O,U]),(0,i.useEffect)(()=>{let e=async({businessId:e,assetId:r})=>{if(!e)return void K(!1);let i=Z&&(0,R.isCatalogsAndProductGroupsPage)(t)?"CATALOG":"AD_ACCOUNT";try{let e={asset:{name:""},type:i};if(U.isAuth){let{data:{data:t={[r]:e}}={}}=await (0,C.pI)({businessId:z?.id||U.id,assetIds:[r],resourceType:i}),n=t[r]?.asset||e.asset,a=t[r]?.type||e.type,s=t[r]&&"owner"in t[r]?t[r].owner:null;Y({id:r,name:"CATALOG"===i?s?.full_name||"":n.name,img:s?.image_medium_url||"",type:a,ownerImg:s?.image_medium_url,ownerName:s?.full_name||"",actingBusinessFullName:z?.name||s?.full_name||""})}}catch{Y({id:U.isAuth&&U.id||"",name:U.isAuth&&U.fullName||"",img:U.isAuth&&U.imageMediumUrl||"",type:T.Oz.BUSINESS_ACCOUNT,ownerImg:U.isAuth&&U.imageMediumUrl||"",ownerName:U.isAuth&&U.fullName||"",actingBusinessFullName:U.isAuth&&U.fullName||""})}K(!1)},i=async({id:e})=>{let t=await (0,s.p)({hierarchyId:e});Y({id:e,name:t?.data?t.data.name:"",img:t?.data?t.data.img_medium_url:"",type:T.Oz.BUSINESS_HIERARCHY,ownerImg:t?.data?t.data.img_medium_url:"",ownerName:t?.data?t.data.name:"",actingBusinessFullName:t?.data?t.data.name:""}),K(!1)};if(U.isAuth&&X){let n=k&&k.username&&k.username!==O,a=!0===D&&D!==M,s=((0,R.isPinPage)(t)||(0,R.isPinBuilderPage)(t)||(0,R.isStoryPinBuilderPage)(t)||(0,R.isSearchPage)(t))&&k&&z&&k.type===T.Oz.PROFILE&&k.id===z.id;if((!k||n||a)&&!q&&!s&&z){let n=(0,R.isBusinessManagerPage)(t)||(0,R.isBusinessHubPage)(t),a=p||!!L&&!n||(0,R.isCatalogsAndProductGroupsPage)(t)&&Z;K(!0),E?i({id:E}):r?et({id:r}):B&&z.id&&!(p||L)?et({id:z.id}):(0,N.Z)(t)&&O&&D?et({username:O}):a?e({businessId:U.id,assetId:p||L||P||""}):k&&k.id===U.id||(Y({type:T.Oz.BUSINESS_ACCOUNT,id:U.id||"",name:U.fullName||"",img:U.imageMediumUrl||"",ownerImg:U.imageMediumUrl||"",ownerName:U.fullName||"",actingBusinessFullName:U.fullName||""}),K(!1))}}},[k,U,E,r,O,p,L,z,X,t,et,q,D,M,P,Z,B]);let ei=(0,i.useMemo)(()=>({activePanel:$,selectedHierarchyId:G,switcherOpen:F,openAccountSwitcher:()=>{if(J({event_type:101,view_type:608,component:14346}),!$)if((0,R.isBusinessManagerPage)(t))H({type:T.v8});else{let e=new URLSearchParams(t.search).get("actingBusinessId");H({type:T.nt,id:e??z?.id})}x(!0)},closeAccountSwitcher:()=>{H(k&&!(0,R.isBusinessManagerPage)(t)?{type:T.nt,id:z?.id}:{type:T.v8}),x(!1)},openAssetPanel:e=>{H({type:T.nt,id:e})},closeAssetPanel:()=>{H(k&&!(0,R.isBusinessManagerPage)(t)?{type:T.nt,id:z?.id}:{type:T.v8})},activateBusinessPanel:()=>{H({type:T.v8})},actingBusiness:z,selectedAccount:k,setSelectedAccount:Y,setActingBusiness:j,accountSwitcherConfig:Q,setConfig:ee}),[$,G,F,z,k,Q,ee,J,t]);return(0,b.jsx)(v,{value:ei,children:e})}},684645:function(e,t,r){r.d(t,{IT:()=>o,SF:()=>E,WP:()=>d,bG:()=>_,p:()=>c,yo:()=>p});var i=r(731517),n=r(185040),a=r(27399),s=r(69406),u=r(47755),l=r(109563);let o=e=>({id:e.id,entity_type:s.Oz.BUSINESS_ACCOUNT,requires_mfa_for_roles:e.requires_mfa_for_roles,user:{id:e.user.id,entity_type:s.Oz.USER_ACCOUNT,username:e.user.username,email:e.user.email,full_name:e.user.full_name,image_small_url:e.user.image_small_url,image_medium_url:e.user.image_medium_url}}),d=e=>({id:e.id,entity_type:s.Oz.BUSINESS_ACCOUNT,user:{id:e.id,entity_type:s.Oz.USER_ACCOUNT,username:e.username,email:e.email,full_name:e.fullName,image_small_url:e.imageSmallUrl,image_medium_url:e.imageMediumUrl}}),c=async({hierarchyId:e})=>(await (0,u.Z)({url:"/ads/v4/business_access/business_hierarchy/{business_hierarchy_lookup_id}",urlParams:{business_hierarchy_lookup_id:e}})).resource_response,_=async({user_id:e,username:t})=>{if(!t&&!e)return null;let{resource_response:{data:r}}=await a.Z.create("UserResource",{user_id:e,username:t}).callGet();return r},E=async({entityId:e,useResource:t=!1})=>{let r;if(t){let t=await (0,u.Z)({url:"/ads/v4/business_entities",method:"POST",data:[{entity_type:"BIZ_USER",entity_id:e,property_keys:["GLOBAL_ACCOUNT_SWITCHER_CONFIG"]}]}),i=t.resource_response?.data;r=i?.[0]}else r=(await (0,i.Z)([{entity_type:"BIZ_USER",entity_id:e,property_keys:["GLOBAL_ACCOUNT_SWITCHER_CONFIG"]}]))[0];return r&&r.properties&&r.properties.GLOBAL_ACCOUNT_SWITCHER_CONFIG||{}},p=async({entityId:e,actingBusinessId:t,favorites:r,useResource:i=!1})=>{let a={};(0,l.k)(t)||(a.actingBusinessId=t),r&&(a.favoriteAdAccounts={favoriteAdAccountsMap:{[r.actingBusinessId]:{advertiserId:r.adAccounts}}}),Object.keys(a).length>0&&(i?await (0,u.Z)({url:"/ads/v4/business_entities",method:"PATCH",data:[{entity_type:"BIZ_USER",entity_id:e,properties:{GLOBAL_ACCOUNT_SWITCHER_CONFIG:a}}]}):await (0,n.Z)([{entity_type:"BIZ_USER",entity_id:e,properties:{GLOBAL_ACCOUNT_SWITCHER_CONFIG:a}}]))}},611649:function(e,t,r){r.d(t,{Z:()=>l});var i=r(935059),n=r(501010),a=r(739405),s=r(200619),u=r(601871);function l(e){let t=(0,a.HG)(),{checkExperiment:r}=(0,n.Z)(),l=(0,s.Z)(),o=(0,i.Z)(),d=(0,u.lJ)(o,l),c=!t||r("web_sce_organic_pinbuilder_dep").anyEnabled;return!d&&(e&&r("sce_lightswitch_organic"),!t||!!c)}},680405:function(e,t,r){r.d(t,{E:()=>i,N:()=>n});let{Provider:i,get:n}=(0,r(213491).Z)("legacyServerContext")},249459:function(e,t,r){r.d(t,{G:()=>i,Z:()=>n});let i=e=>e.replace(/\s+/g,"-"),n={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,VIDEO_IFRAME_ID:"video-iframe"}},865575:function(e,t,r){r.d(t,{Z:()=>_});var i=r(465989),n=r(925201),a=r(37321),s=r(918985);let u={campaignFilter:"all",adGroupFilter:"all",adFilter:"all"},l=e=>{let t={};return e&&(t={objectiveTypes:[e]}),t},o=e=>{let{campaignId:t,objectiveType:r,partialCreate:i,catalogsFeedId:a,managedClientId:s,catalogId:u,productGroupId:l,resumeLastDraft:o,optimizeCampaign:d}=e,c={};return t&&i&&(c.campaignId=t),r&&(c.objectiveType=r),"CATALOG_SALES"===r&&a&&(c.catalogsFeedId=a),u&&(c.catalogId=u),l&&(c.productGroupId=l),s&&(c.managedClientId=s),o&&(c.resumeLastDraft=!0),void 0!==d&&(c.optimizeCampaign=String(d)),(0,n.Z)("/ads/create/",c)},d=e=>{let{campaignToolPreference:t,...r}=e;return(0,n.Z)("/automated/ads/create/",r)},c={overview:()=>"/",reporting:e=>{let t=e.objectiveType||null;delete e.objectiveType;let r={...e,...l(t)};return(0,n.Z)("/reporting/campaigns/",r)},reportingAdGroup:e=>{let{campaignId:t,objectiveType:r,showAllEntities:i,adGroupId:a,message:s}=e,o={campaignIds:[t],...i?u:{},...l(r),...a?{adGroupIds:[a]}:{},message:s};return(0,n.Z)("/reporting/adgroups/",o)},campaign:e=>{let{id:t,objectiveType:r}=e;return(0,n.Z)("/reporting/adgroups/",{campaignIds:[t],...l(r)})},editCampaign:e=>e.isAutomatedCampaign?c.editAutomated({campaignId:e.id,view:"campaign"}):c.editV2({campaignId:e.id,view:"campaign"}),adgroup:e=>{let{id:t,objectiveType:r,showAllEntities:i,pinPromotionId:a,campaignId:s}=e;return"TEMPORARY_SHOPPING"===r||"CATALOG_SALES"===r?(0,n.Z)("/reporting/productgroups/",{adGroupIds:[t],...l(r)}):(0,n.Z)("/reporting/ads/",{adGroupIds:[t],...l(r),...i?u:{},...a?{pinPromotionIds:[a]}:{},...s?{campaignIds:[s]}:{}})},editAdGroup:e=>e.isAutomatedCampaign?c.editAutomated({campaignId:e.id,view:"campaign"}):c.editV2({adGroupId:e.id,view:"adgroup"}),pinPromotion:e=>{let{id:t,adFilter:r}=e;return(0,n.Z)("/reporting/ads/",{pinPromotionIds:[t],...r?{adFilter:r}:{}})},editPinPromotion:e=>{let t=e.isCreatingPins?{isCreatingPins:!0}:{},r=e.pinPromotionId?{pinPromotionId:e.pinPromotionId}:{};return c.editV2({adGroupId:e.adGroupId,view:"ad",...r,...t})},productGroup:e=>{let{id:t,name:r}=e;return(0,n.Z)("/reporting/productgroups/",{productGroupIds:[t],name:r})},campaigns:()=>"/reporting/campaigns/",adgroups:()=>"/reporting/adgroups/",manage_wtb_products:()=>"/manage_products",ads:()=>"/reporting/ads/",bulkEdit:e=>{let{entity_level:t,ids:r}=e;return(0,n.Z)("/ads/bulk_edit/",{entity_level:t,ids:r})},productgroups:()=>"/reporting/productgroups/",productitems:()=>"/reporting/productitems/",campaignNegativeKeywords:()=>"/reporting/campaignNegativeKeywords/",campaignSearchQueries:()=>"/reporting/campaignSearchQueries/",adGroupNegativeKeywords:()=>"/reporting/adGroupNegativeKeywords/",adGroupPositiveKeywords:()=>"/reporting/adGroupPositiveKeywords/",adGroupSearchQueries:()=>"/reporting/adGroupSearchQueries/",ad:e=>c.pinPromotion(e),createPreferred:e=>{switch(e.campaignToolPreference){case s.k.ADS_MANAGER:return o(e);case s.k.AUTOMATED_CAMPAIGN:return d(e);default:return(0,n.Z)("/ads/campaign_mode/",e.managedClientId?{managedClientId:e.managedClientId}:void 0)}},campaignMode:e=>(0,n.Z)("/ads/campaign_mode/",e.managedClientId?{managedClientId:e.managedClientId}:void 0),create:o,createAutomated:d,editV2:e=>(0,n.Z)("/ads/edit/",e),editAutomated:e=>(0,n.Z)("/automated/ads/edit/",e),editDraftCampaign:e=>(0,n.Z)("/ads/edit_draft/",{campaignId:e.campaignId,view:"campaign"}),duplicateCampaign:e=>(0,n.Z)("/ads/duplicate/",e),audiences:e=>(0,n.Z)("/audiences/",e.managedClientId?{managedClientId:e.managedClientId}:void 0),audience_debug:()=>"/audience_debug/",billing:e=>{let{page:t,subSection:r,nextStepUrl:a,startDate:s,id:u}=e,l={};switch(r&&(l.section=r),a&&(l.next_step_link_url=a),t){case i.kM.BILLING_HISTORY:return(0,n.Z)("/billing/history/",l);case i.kM.BILLING_RECEIPT:return(0,n.Z)(`/billing/${u}/`,l);case i.kM.ORDER_LINES:return(0,n.Z)("/billing/order_lines/",l);case i.kM.PROMOTIONS:return(0,n.Z)("/billing/promotions/",l);case i.kM.DOCUMENTS:return(0,n.Z)("/billing/documents/",l);case i.kM.TAX_DOCUMENTS:return(0,n.Z)("/billing/tax_documents/",l);case i.kM.PREPAID_SPEND_SUMMARY:return(0,n.Z)("/billing/prepaid_campaign_spend_summary/",l);case i.kM.PREPAID_SPEND_BREAKDOWN:return l.start_date=s,(0,n.Z)("/billing/prepaid_spend_campaign_breakdown/",l);case i.kM.BILLING_FORMS:return(0,n.Z)("/billing/payment_settings/",l);case i.kM.SUMMARY:default:return(0,n.Z)("/billing/",l)}},bulk:e=>{let{subSection:t,page:r,jobStarted:a}=e||{};switch(r){case i.fm.UPLOAD_TEMPLATE:return(0,n.Z)("/bulk_editor/upload_template/",{section:t});case i.fm.DOWNLOAD_TEMPLATE:return(0,n.Z)("/bulk_editor/download_template/",{section:t});case i.fm.HISTORY:return(0,n.Z)("/bulk_editor/history/",{section:t,job_started:a});case i.fm.BULK_ID_LIBRARY:return(0,n.Z)("/bulk_editor/bulk_id_library/",{section:t});case i.fm.RESOURCES:return(0,n.Z)("/bulk_editor/resources/",{section:t});default:return"/bulk_editor/"}},experiments:e=>{let{page:t,id:r,campaigns:a}=e;switch(t){case i.S9.CREATE:return"/experiments/create/";case i.S9.MANAGE:return"/experiments/manage/";case i.S9.VIEW_REPORT:return`/experiments/manage/${r}`;case i.S9.AB_TEST_CREATE:return(0,n.Z)("/experiments/ab-test/create",a?{campaigns:a}:void 0);default:return"/experiments/"}},history:e=>(0,n.Z)("/history/",e),shopping:e=>c.reporting(l("TEMPORARY_SHOPPING")),pinterest_tag:e=>{let{page:t,subSection:r,platform:a,source:s,origin:u}=e;switch(t){case i.qp.PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:return"/conversions/events-overview/";case i.qp.PINTEREST_EVENT_HISTORY:if(s)return(0,n.Z)("/conversions/event-history/",{source:s});return"/conversions/event-history/";case i.qp.CONVERSION_HEALTH:return"/conversions/health/";case i.qp.PINTEREST_TEST_EVENTS:return(0,n.Z)("/conversions/test-events/",{subPage:r,platform:a});case i.qp.PINTEREST_TAG:return(0,n.Z)("/conversions/tag/",{subPage:r,platform:a});case i.qp.PINTEREST_TAG_MANUAL_SETUP_FLOW:let l=(0,n.Z)("/conversions/tag_manual_setup/",{origin:u});if(a)return(0,n.Z)(l,{platform:a,source:s});return l;case i.qp.CONVERSION_UPLOAD:return(0,n.Z)("/conversions/upload/",{subPage:r});case i.qp.UPLOAD_HISTORY:return(0,n.Z)("/conversions/history/",{subPage:r});case i.qp.PCA_UPLOAD_HISTORY:return(0,n.Z)("/conversions/pca_history/",{subPage:r});case i.qp.PCA_UPLOAD:return(0,n.Z)("/conversions/pca_upload/",{subPage:r});case i.qp.CONVERSIONS_API_MANUAL_SETUP_FLOW:if(s||u)return(0,n.Z)("/conversions/api_manual_setup/",{source:s,origin:u});return"/conversions/api_manual_setup/";case i.qp.CONVERSIONS_API_PARTNER_SETUP_FLOW:if(s||u)return(0,n.Z)("/conversions/api_partner_setup/",{source:s,origin:u});return"/conversions/api_partner_setup/";case i.qp.CONVERSIONS_API_ACCESS_TOKEN:return"/conversions/access_token/";case i.qp.PINTEREST_SETUP_API:return"/conversions/setup-api/";case i.qp.CONVERSIONS_API_DEDUPLICATION:return"/conversions/deduplication/";case i.qp.PAYLOAD_HELPER:return"/conversions/payload-helper/";case i.qp.CONVERSIONS:return"/conversions/";case i.qp.NOCODE_CONVERSIONS_API_SETUP_FLOW:return"/conversions/pinterest_capi_connect/";case i.qp.PINTEREST_EVENT_HISTORY_CAPI_TAB:return"/conversions/event-history/#conversionsAPI";case i.qp.PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:return"/conversions/events-overview/#conversionsAPI";default:return"/conversions/tag/"}},"pin-builder":e=>(0,n.Z)("/pin-builder/",e),purchases:()=>c.reporting(l("PURCHASE")),awareness_reserved:()=>c.reporting(l("IMPRESSION")),engagement:()=>c.reporting(l("BILLABLE_ENGAGEMENT")),videos:()=>c.reporting(l("TEMPORARY_BIDDED_CPM_VIDEO")),videos_reserved:()=>c.reporting(l("TEMPORARY_IMPRESSION_VIDEO")),videos_cpv:()=>c.reporting(l("TEMPORARY_MRC_CPV_VIDEO")),conversions:()=>c.reporting(l("WEB_CONVERSION")),accounts_manager:()=>"/accounts_manager/",reporting_preferences:e=>(0,n.Z)("/reporting/preferences/",e),report_builder:e=>(0,n.Z)("/report-center/builder/",e),report_history:e=>(0,n.Z)("/report-center/history/",e),report_unsubscribe:e=>(0,n.Z)("/report-center/unsubscribe/",e),report_download:e=>(0,n.Z)("/report-center/download/",e),awareness:()=>c.reporting(l("AWARENESS")),traffic:()=>c.reporting(l("TRAFFIC")),app_installs:()=>c.reporting(l("APP_INSTALL")),catalog_sales:()=>c.reporting(l("CATALOG_SALES")),web_conversion:()=>c.reporting(l("WEB_CONVERSION")),video_view:()=>c.reporting(l("VIDEO_VIEW")),recommendations:e=>(0,n.Z)("/recommendations/",e),catalog_view:()=>"/product-catalogs/data-source",campaign_insights:e=>{let t=`/campaign-insights/${e.campaignId}/`;if(e.queryParams){let{start_date:r,end_date:i,comp_start_date:n,comp_end_date:s}=e.queryParams;t+=`?${(0,a.Z)({start_date:r,end_date:i,comp_start_date:n,comp_end_date:s})}`}return t},product_group_reporting:e=>`/campaign-insights/${e.campaignId}/product-group/${e.productGroupId}`,media_planner:e=>(0,n.Z)("/media_planner/",e),ad_spend_optimizer:e=>(0,n.Z)("/msot-optimizer/",e)},_=c},465989:function(e,t,r){r.d(t,{$N:()=>d,Cu:()=>_,NR:()=>u,S9:()=>a,bC:()=>c,fm:()=>i,kM:()=>n,qp:()=>s,uV:()=>l,ug:()=>o});let i={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",BULK_ID_LIBRARY:"BULK_ID_LIBRARY",RESOURCES:"RESOURCES"},n={BILLING_HISTORY:"BILLING_HISTORY",BILLING_RECEIPT:"BILLING_RECEIPT",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",TAX_DOCUMENTS:"TAX_DOCUMENTS",DOCUMENTS:"DOCUMENTS",PREPAID_SPEND_SUMMARY:"PREPAID_SPEND_SUMMARY",PREPAID_SPEND_BREAKDOWN:"PREPAID_SPEND_BREAKDOWN",SUMMARY:"SUMMARY"},a={CREATE:"CREATE",MANAGE:"MANAGE",VIEW_REPORT:"VIEW_REPORT",AB_TEST_CREATE:"AB_TEST_CREATE"},s={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",CONVERSIONS:"CONVERSIONS",PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:"PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP",PINTEREST_SETUP_API:"PINTEREST_SETUP_API",NOCODE_CONVERSIONS_API_SETUP_FLOW:"NOCODE_CONVERSIONS_API_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:"PINTEREST_EVENTS_OVERVIEW_CAPI_TAB",PINTEREST_EVENT_HISTORY_CAPI_TAB:"PINTEREST_EVENT_HISTORY_CAPI_TAB"},u={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",HOSTNAME:"hostname",CAMPAIGN_ID:"campaign_id",ADVERTISER_ID:"advertiser_id"},l="604800",o="86400",d={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"},c="click",_="view"},457223:function(e,t,r){r.d(t,{Z:()=>a});let i="/business/business-manager/",n="/business/business-hierarchy/",a=(e,t,r,a)=>{switch(e){case"DASHBOARD":return a?`${n}${String(a)}/dashboard/`:`${i}${String(t)}/dashboard/`;case"MEDIA_NETWORK_DASHBOARD":return`${i}${String(t)}/media-network-hub/dashboard/`;case"PEOPLE":return`${i}${String(t)}/employees/`;case"PARTNERS":return`${i}${String(t)}/partners/`;case"AD_ACCOUNTS":return`${i}${String(t)}/ad-accounts/`;case"HISTORY":return`${i}${String(t)}/history/`;case"PEOPLE_DETAIL":return`${i}${String(t)}/employees/${String(r)}/details/`;case"PARTNERS_DETAIL":return`${i}${String(t)}/partners/${String(r)}/details/`;case"SHARED_PARTNERS_DETAIL":return`${i}${String(t)}/shared/${String(r)}/details/`;case"AD_ACCOUNTS_DETAIL":return`${i}${String(t)}/ad-accounts/${String(r)}/details/`;case"PENDING_AD_ACCOUNTS_DETAIL":return`${i}${String(t)}/ad-accounts/pending/${String(r)}/details/`;case"PEOPLE_PENDING_TAB":return`${i}${String(t)}/employees/pending/`;case"PARTNERS_PENDING_TAB":return`${i}${String(t)}/partners/pending/`;case"AD_ACCOUNTS_PENDING_TAB":return`${i}${String(t)}/ad-accounts/pending`;case"AD_ACCOUNTS_CEE_MIGRATION":return`${i}${String(t)}/ad-accounts/cee-migration`;case"PROFILES":return`${i}${String(t)}/profiles/`;case"PROFILES_DETAIL":return`${i}${String(t)}/profiles/${String(r)}/details/`;case"BUSINESS_SECURITY":return`${i}${String(t)}/security/`;case"ASSET_GROUPS":return r?`${i}${String(t)}/asset-groups/?asset_group_id=${String(r)}`:`${i}${String(t)}/asset-groups/`;case"INVOICE_MANAGEMENT":return`${i}${String(t)}/invoice-management/`;case"BUSINESS_HIERARCHY":return`${n}${String(a)}/hierarchy/`;case"BUSINESS_HIERARCHY_BUSINESS_SECURITY":return`${n}${String(a)}/business_security/`;case"MANAGERS":return`${n}${String(a)}/managers/`;case"AUDIENCES":return`${i}${String(t)}/audiences/`;case"SHARED_TAGS":return`${i}${String(t)}/shared-tags/`;case"CATALOGS":return`${i}${String(t)}/catalogs/`;case"CATALOGS_DETAIL":return`${i}${String(t)}/catalogs/${String(r)}/details/`;case"BRAND_SAFETY":return`${i}${String(t)}/brand-safety/`;case"BUSINESS_SETTINGS":return`${i}${String(t)}/settings/`;case"SYSTEM_USERS":return`${i}${String(t)}/system-users/`;case"APPS":return`${i}${String(t)}/apps/`;case"CONVERSION_DATA":return`${i}${String(t)}/conversion-data/`;default:return i}}},104999:function(e,t,r){r.d(t,{Z:()=>n});var i=r(230201);let n=()=>(0,i.u)().logContextEvent},209404:function(e,t,r){r.d(t,{Z:()=>n});var i=r(667294);let n=function(e,t){let[r,n]=(0,i.useState)(e);return(0,i.useEffect)(()=>{let r=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(r)}},[e,t]),r}},835301:function(e,t,r){r.d(t,{iP:()=>T,nv:()=>N,zx:()=>d,Tg:()=>O,ZP:()=>_,rU:()=>m,hU:()=>p});var i=r(667294),n=r(399353),a=r(104999),s=r(347436);function u({auxData:e,componentType:t,elementType:r,eventType:i,view:n,viewParameter:u}){let l=(0,a.Z)(),o=(0,s.w)(),d=Object.entries({...e}).filter(([,e])=>void 0!==e).reduce((e,[t,r])=>{let i={...e};return i[t]=r,i},{});return()=>l({event_type:i,view_type:n||o?.view,view_parameter:u||o?.viewParameter,component:t||null,element:r,aux_data:{...d}})}var l=r(785893);let o=(0,i.forwardRef)(({onClick:e,accessibilityLabel:t,color:r,dataTestId:a,disabled:s,iconEnd:o,iconStart:d,fullWidth:c,size:_,tabIndex:E,text:p,logEventProps:S,...m},I)=>{let A=(0,i.useRef)(null),T=(0,i.useRef)(null);(0,i.useImperativeHandle)(I,()=>"submit"===m.type?A.current:T.current);let{auxData:g,componentType:O,elementType:R,view:N,viewParameter:P}=S||{},C=u({componentType:O,elementType:R??10233,eventType:101,view:N,viewParameter:P,auxData:{...g,element_id:a,element_name:m.name}});return"submit"===m.type?(0,l.jsx)(n.zx,{ref:A,accessibilityLabel:t,color:r,dataTestId:a,disabled:s,fullWidth:c,name:m.name,onClick:({event:t})=>{C(),e?.({event:t})},size:_,tabIndex:E,text:p,type:"submit"}):(0,l.jsx)(n.zx,{ref:T,accessibilityControls:m.accessibilityControls,accessibilityExpanded:m.accessibilityExpanded,accessibilityHaspopup:m.accessibilityHaspopup,accessibilityLabel:t,color:r,dataTestId:a,disabled:s,fullWidth:c,iconEnd:o,iconStart:d,lineClamp:m.lineClamp,name:m.name,onClick:({event:t})=>{C(),e?.({event:t})},selected:m.selected,size:_,tabIndex:E,text:p,type:"button"})});o.displayName="Button";let d=o,c=(0,i.forwardRef)(({onClick:e,accessibilityLabel:t,color:r,dataTestId:a,disabled:s,iconEnd:o,fullWidth:d,size:c,tabIndex:_,text:E,href:p,rel:S,target:m,logEventProps:I},A)=>{let T=(0,i.useRef)(null);(0,i.useImperativeHandle)(A,()=>T.current);let{auxData:g,componentType:O,elementType:R,view:N,viewParameter:P}=I||{},C=u({componentType:O,elementType:R??10233,eventType:101,view:N,viewParameter:P,auxData:{...g,element_id:a}});return(0,l.jsx)(n.ZP,{ref:T,accessibilityLabel:t,color:r,dataTestId:a,disabled:s,fullWidth:d,href:p??"",iconEnd:o,onClick:({event:t,dangerouslyDisableOnNavigation:r})=>{C(),e?.({event:t,dangerouslyDisableOnNavigation:r})},rel:S,size:c,tabIndex:_,target:m,text:E})});c.displayName="ButtonLink";let _=c,E=(0,i.forwardRef)(({accessibilityLabel:e,bgColor:t,dangerouslySetSvgPath:r,dataTestId:a,disabled:s,icon:o,iconColor:d,onClick:c,padding:_,tabIndex:E,tooltip:p,size:S,logEventProps:m,...I},A)=>{let T=(0,i.useRef)(null),g=(0,i.useRef)(null);(0,i.useImperativeHandle)(A,()=>"submit"===I.type?T.current:g.current);let{auxData:O,componentType:R,elementType:N,view:P,viewParameter:C}=m||{},y=u({componentType:R,elementType:N??10233,eventType:101,view:P,viewParameter:C,auxData:{...O,element_id:a,element_name:I.name}}),f=({event:e})=>{y(),c?.({event:e})};return"submit"===I.type?(0,l.jsx)(n.hU,{accessibilityLabel:e,bgColor:t,dangerouslySetSvgPath:r,dataTestId:a,disabled:s,icon:o,iconColor:d,name:I.name,onClick:f,padding:_,size:S,tabIndex:E,tooltip:p,type:"submit"}):(0,l.jsx)(n.hU,{accessibilityControls:I.accessibilityControls,accessibilityExpanded:I.accessibilityExpanded,accessibilityHaspopup:I.accessibilityHaspopup,accessibilityLabel:e,bgColor:t,dangerouslySetSvgPath:r,dataTestId:a,disabled:s,icon:o,iconColor:d,name:I.name,onClick:f,padding:_,selected:I.selected,size:S,tabIndex:E,tooltip:p,type:"button"})});E.displayName="IconButton";let p=E;(0,i.forwardRef)(({accessibilityLabel:e,bgColor:t,dangerouslySetSvgPath:r,dataTestId:a,disabled:s,href:o,icon:d,iconColor:c,onClick:_,padding:E,tabIndex:p,rel:S,size:m,target:I,tooltip:A,logEventProps:T},g)=>{let O=(0,i.useRef)(null);(0,i.useImperativeHandle)(g,()=>O.current);let{auxData:R,componentType:N,elementType:P,view:C,viewParameter:y}=T||{},f=u({componentType:N,elementType:P??10233,eventType:101,view:C,viewParameter:y,auxData:{...R,element_id:a}});return(0,l.jsx)(n.I_,{ref:g,accessibilityLabel:e,bgColor:t,dangerouslySetSvgPath:r,dataTestId:a,disabled:s,href:o,icon:d,iconColor:c,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{f(),_?.({event:e,dangerouslyDisableOnNavigation:t})},padding:E,rel:S,size:m,tabIndex:p,target:I,tooltip:A})}).displayName="IconButtonLink";let S=(0,i.forwardRef)(({accessibilityLabel:e,children:t,dataTestId:r,display:a,externalLinkIcon:s,href:o,id:d,onBlur:c,onClick:_,onFocus:E,rel:p,rounding:S,underline:m,tapStyle:I,target:A,logEventProps:T},g)=>{let O=(0,i.useRef)(null);(0,i.useImperativeHandle)(g,()=>O.current);let{auxData:R,componentType:N,elementType:P,view:C,viewParameter:y}=T||{},f=u({componentType:N,elementType:P??10213,eventType:101,view:C,viewParameter:y,auxData:{...R,element_id:r}});return(0,l.jsx)(n.rU,{ref:g,accessibilityLabel:e,dataTestId:r,display:a,externalLinkIcon:s,href:o,id:d,onBlur:c,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{f(),_?.({event:e,dangerouslyDisableOnNavigation:t})},onFocus:E,rel:p,rounding:S,tapStyle:I,target:A,underline:m,children:t})});S.displayName="Link";let m=S;var I=r(686659);let A=(0,i.forwardRef)(({accessibilityLabel:e,accessibilityChecked:t,accessibilityControls:r,accessibilityExpanded:a,accessibilityHaspopup:s,children:o,dataTestId:d,disabled:c,fullHeight:_,fullWidth:E,mouseCursor:p,onBlur:S,onKeyDown:m,onFocus:I,onMouseDown:A,onMouseUp:T,onMouseEnter:g,onMouseLeave:O,onTap:R,tabIndex:N,role:P,rounding:C,tapStyle:y,logEventProps:f},b)=>{let v=(0,i.useRef)(null);(0,i.useImperativeHandle)(b,()=>v.current);let{auxData:L,componentType:h,elementType:U,view:D,viewParameter:M}=f||{},w=u({componentType:h,elementType:U??10233,eventType:101,view:D,viewParameter:M,auxData:{...L,element_id:d}});return(0,l.jsx)(n.iP,{accessibilityChecked:t,accessibilityControls:r,accessibilityExpanded:a,accessibilityHaspopup:s,accessibilityLabel:e,dataTestId:d,disabled:c,fullHeight:_,fullWidth:E,mouseCursor:p,onBlur:S,onFocus:I,onKeyDown:m,onMouseDown:A,onMouseEnter:g,onMouseLeave:O,onMouseUp:T,onTap:({event:e})=>{w(),R?.({event:e})},role:P,rounding:C,tabIndex:N,tapStyle:y,children:o})});A.displayName="TapArea";let T=A,g=(0,i.forwardRef)(({accessibilityLabel:e,accessibilityCurrent:t,children:r,dataTestId:a,disabled:s,fullHeight:o,fullWidth:d,href:c,mouseCursor:_,onBlur:E,onKeyDown:p,onFocus:S,onMouseDown:m,onMouseUp:I,onMouseEnter:A,onMouseLeave:T,onTap:g,tabIndex:O,rel:R,rounding:N,tapStyle:P,target:C,logEventProps:y},f)=>{let b=(0,i.useRef)(null);(0,i.useImperativeHandle)(f,()=>b.current);let{auxData:v,componentType:L,elementType:h,view:U,viewParameter:D}=y||{},M=u({componentType:L,elementType:h??10233,eventType:101,view:U,viewParameter:D,auxData:{...v,element_id:a}});return(0,l.jsx)(n.Tg,{ref:f,accessibilityCurrent:t,accessibilityLabel:e,dataTestId:a,disabled:s,fullHeight:o,fullWidth:d,href:c,mouseCursor:_,onBlur:E,onFocus:S,onKeyDown:p,onMouseDown:m,onMouseEnter:A,onMouseLeave:T,onMouseUp:I,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{M(),g?.({event:e,dangerouslyDisableOnNavigation:t})},rel:R,rounding:N,tabIndex:O,tapStyle:P,target:C,children:r})});g.displayName="TapAreaLink";let O=g;var R=r(209404);let N=({autoComplete:e,dataTestId:t,disabled:r,errorMessage:u,errorMessageDisplay:o,helperText:d,id:c,isPii:_,label:E,labelDisplay:p,logEventProps:S,maxLength:m,name:A,onBlur:T,onChange:g,onFocus:O,onKeyDown:N,placeholder:P,size:C,type:y,value:f,hasError:b,mobileEnterKeyHint:v,mobileInputMode:L,readOnly:h,tags:U,ref:D})=>{(0,i.useEffect)(()=>{(0,I.Z)("TextField","/app/packages/gestaltExtensions/adsLoggingExtension/TextField.tsx")},[]);let[M,w]=(0,i.useState)(null);return(({dataTestId:e,id:t,isPii:r,logEventProps:n,name:u,type:l,valueToDebounce:o})=>{let d=(0,a.Z)(),c=(0,s.w)(),_=(0,R.Z)(o,3e3),{auxData:E,componentType:p,elementType:S,view:m,viewParameter:I}=n||{},A=(0,i.useMemo)(()=>(({auxData:e,componentType:t,elementType:r,eventType:i,view:n,viewParameter:a,reportingContext:s})=>({event_type:i,view_type:n||s?.view,view_parameter:a||s?.viewParameter,component:t||null,element:r,aux_data:{...(({auxData:e})=>Object.entries({...e}).filter(([,e])=>void 0!==e).reduce((e,[t,r])=>{let i={...e};return i[t]=r,i},{}))({auxData:e})}}))({auxData:{...E,element_id:t||e,element_name:u,value:"password"===l||r?null:_},componentType:p,elementType:S??10211,eventType:97,view:m,viewParameter:I,reportingContext:c}),[p,S,m,I,c,E,e,_,t,r,u,l]);(0,i.useEffect)(()=>{"string"==typeof _&&d(A)},[A,d,_])})({dataTestId:t,id:c,isPii:_,logEventProps:S,name:A,type:y,valueToDebounce:M}),(0,l.jsx)(n.nv,{ref:D,autoComplete:e,dataTestId:t||c,disabled:r,errorMessage:u,errorMessageDisplay:o,hasError:b,helperText:d,id:c,label:E,labelDisplay:p,maxLength:m,mobileEnterKeyHint:v,mobileInputMode:L,name:A,onBlur:T,onChange:({event:e,value:t})=>{g({event:e,value:t}),w(t)},onFocus:O,onKeyDown:N,placeholder:P,readOnly:h,size:C,tags:U,type:y,value:f})}},145626:function(e,t,r){r.d(t,{Ag:()=>a,C0:()=>l,L1:()=>_,Vi:()=>s,YD:()=>c,kS:()=>n,oo:()=>u,vC:()=>o,vI:()=>d});var i=r(721703);let n="https://www.pinterest.com/business/hub/",a="https://www.pinterest.com/homefeed/",s="www.pinterest.com",u="https://www.pinterest.com/_/_/help",l=`${(0,i.Z)({site:"www"})}`,o=(0,i.Z)({site:"developers"}),d=`${(0,i.Z)({site:"sterling"})}`,c=`${(0,i.Z)({site:"analytics"})}`,_=`${(0,i.Z)({site:"trends"})}`;(0,i.Z)({site:"www",path:"/business/catalogs/?advertiserId="}),(0,i.Z)({site:"business"})},387535:function(e,t,r){r.d(t,{Z:()=>i});function i(e){return{type:"UPDATE_VIEWER_IS_PROFILE_OWNER_OR_PROFILE_MANAGER",payload:e}}},498539:function(e,t,r){r.d(t,{Z:()=>i});let i=({businessAccess:e})=>e??{}},190914:function(e,t,r){r.d(t,{r:()=>I,W:()=>m});var i=r(667294),n=r(213491),a=r(935059),s=r(661376),u=r(739258),l=r(15881),o=r(418282),d=r(640200);let c=e=>{let t={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&("object"!=typeof e[r]||null===e[r]||Array.isArray(e[r])?t[(0,d.Z)(r)]=e[r]:t[(0,d.Z)(r)]=c(e[r]));return t},_={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},E=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}};var p=r(785893);let{Provider:S,getMaybe:m}=(0,n.Z)("RoleBasedAccessControlContext"),I=({children:e})=>{let t=(0,a.Z)(),r=!!(t.isAuth&&t.isPartner),{state:n,actions:d,receiveProfiles:m}=(e=>{let[t,r]=(0,i.useReducer)(E,_),n=(({dispatch:e,isEnabled:t,state:r})=>{let{orbacVisibility:n,disableProfileChanger:a,headerVisible:s}=r,u=(0,i.useCallback)(r=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:r})},[t,e]);return{changeProfile:u,toggleORBACVisibility:(0,i.useCallback)(r=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:r??!n})},[t,e,n]),toggleDisableProfileChanger:(0,i.useCallback)(r=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:r??!a})},[t,e,a]),toggleHeaderVisibility:(0,i.useCallback)(r=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:r??!s})},[t,e,s])}})({dispatch:r,isEnabled:e,state:t}),{activeProfile:a,orbacVisibility:s}=t;return(0,i.useEffect)(()=>{let e=(0,o.Nl)().getItem(l.Zo)||!1;e&&r({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,i.useEffect)(()=>{let e=(0,o.Nl)().getItem(l.ig)||!1;e&&r({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,i.useEffect)(()=>{(0,o.Nl)().setItem(l.ig,s)},[s]),(0,i.useEffect)(()=>{(0,o.Nl)().setItem(l.Zo,a)},[a]),{state:t,actions:n,receiveProfiles:(0,i.useCallback)((e,t)=>{r({type:"LOAD_PROFILES",payload:((e,t)=>{let r=[];for(let i in e)i!==t&&r.push({id:i,...c(e[i])});let i=r.sort(({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t)),n=new Map;for(let e of i)n.set(e.id,e);return n})(e,t)})},[r])}})(r),{activeProfile:I,headerVisible:A,profiles:T}=n,g=(0,i.useMemo)(()=>T?Array.from(T.values()):[],[T]),O=(0,u.Z)(g),R=!!t.isAuth&&g.length>0&&O,N=t.isAuth?t.id:"",P=t.isAuth?t.username:"",{changeProfile:C,toggleORBACVisibility:y,toggleDisableProfileChanger:f,toggleHeaderVisibility:b}=d;(0,i.useEffect)(()=>{if(r){if("string"==typeof O)return void C(O);I||C(N)}},[O,N,r,C,I]),(0,i.useEffect)(()=>{r&&(R&&!A&&b(!0),!R&&A&&b(!1))},[b,R,r,A,T]);let{data:v}=(0,s.Z)(r?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),L=v?.profiles,h=(0,i.useMemo)(()=>t&&t.isAuth&&I===t.id?{id:t.id,permissions:["OWNER"],user:{username:P,businessName:t.fullName,imgUrl:t.imageSmallUrl}}:I&&T?T.get(I):void 0,[I,T,t,P]);(0,i.useEffect)(()=>{L&&m(L,N)},[m,L,N]);let U=(0,i.useMemo)(()=>({profiles:g,headerVisible:A,activeProfile:h,changeProfile:C,toggleORBACVisibility:y,toggleDisableProfileChanger:f,toggleHeaderVisibility:b}),[g,A,h,C,y,f,b]);return(0,p.jsx)(S,{value:U,children:e})}},200619:function(e,t,r){r.d(t,{Z:()=>l});var i=r(667294),n=r(501010),a=r(190914),s=r(739258);let u=Object.freeze({}),l=()=>{let{checkExperiment:e}=(0,n.Z)(),t=(0,a.W)(),{activeProfile:r}=t||{},l=(0,s.Z)(t?.profiles||[]),{anyEnabled:o}=e("useorbacroutematcher_in_useorbacactingas");return(0,i.useMemo)(()=>o&&!l?u:r&&(r.viewerMeetsMfaRequirement||(r.permissions||[]).includes("OWNER"))?r:u,[o,l,r])}},739258:function(e,t,r){r.d(t,{Z:()=>u});var i=r(312048),n=r(935059),a=r(173874),s=r(228612);let u=e=>{let t=(0,i.TH)(),r=(0,n.Z)(),u=(0,s.S6)(),l=(0,i.bS)("/:username"),o=(0,i.bS)("/:username/*"),d=(l||o)?.params?.username,c=(0,i.bS)("/pin/:id"),_=(0,i.bS)("/pin/:id/*"),E=c||_,p=!!E?.params?.id&&u(E.params.id)?.pinner?.id;if((0,a.isSettingsPage)(t))return!1;if((0,a.isPinBuilderPage)(t)||(0,a.isStoryPinBuilderPage)(t))return!0;let S=[...e,...r.isAuth?[{user:{username:r.username},id:r.id}]:[]].find(e=>{if(!e)return!1;let{user:t,id:r}=e;return(!!t&&"username"in t&&!!t.username&&!!d||!!p&&!!r)&&(t.username===d||p===r)});return!!S&&S.id}},601871:function(e,t,r){r.d(t,{D3:()=>c,DX:()=>o,Fk:()=>i,KY:()=>_,Ms:()=>n,N1:()=>E,_P:()=>l,gJ:()=>a,lJ:()=>u,nl:()=>s,q6:()=>d});let i=(e,t)=>{let r=e&&e.isAuth?e.fullName:"";return e&&t&&t.user&&t.user.businessName&&(r=t.user.businessName),r},n=(e,t)=>{let r=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(r=t.user.username),r},a=(e,t)=>{let r=e&&e.isAuth?e.imageMediumUrl:"";return e&&t&&t.user&&t.user.imgUrl&&(r=t.user.imgUrl),r},s=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),u=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",l=(e,t,r)=>r&&r.user&&t&&t.isAuth&&r.id!==t.id?r.user.merchantId:e.advertiser?.merchant_id,o=(e,t,r)=>r&&r.user&&e.isAuth&&r.id!==e.id?r.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,d=(e,t,r)=>!!(e&&e.isAuth&&r&&r.id&&r.id!==e.id&&r.id===t),c=(e,t,r)=>!!(d(e,t,r)||e&&e.isAuth&&t===e.id),_=(e,t,r)=>c(e,t&&t.owner&&t.owner.id||"",r);function E(e,t,r){return c(e,t?t.id:"",r)}},918985:function(e,t,r){r.d(t,{T:()=>n,k:()=>i});let i={ADS_MANAGER:"ADS_MANAGER",AUTOMATED_CAMPAIGN:"AUTOMATED_CAMPAIGN"},n=e=>Object.values(i).includes(e)},347436:function(e,t,r){r.d(t,{w:()=>n});let{Provider:i,getMaybe:n}=(0,r(213491).Z)("reportingContext")},414448:function(e,t,r){r.d(t,{XI:()=>n,YZ:()=>s,rc:()=>a});var i=r(667294);function n(e){let[t,r]=(0,i.useState)(!1),n=()=>r(!0),a=()=>r(!1);return(0,i.useEffect)(()=>{let{current:t}=e;return t&&(t.addEventListener("mouseenter",n),t.addEventListener("mouseleave",a)),()=>{t&&(t.removeEventListener("mouseenter",n),t.removeEventListener("mouseleave",a))}}),t}let a=e=>{let t=(0,i.useRef)(e);return(0,i.useEffect)(()=>{t.current=e}),t.current};function s(){let e=(0,i.useRef)(!0);return(0,i.useEffect)(()=>{e.current=!1},[]),e.current}Symbol("pre-initial value")},109563:function(e,t,r){r.d(t,{k:()=>i});function i(e){return null==e}},228612:function(e,t,r){r.d(t,{EQ:()=>l,JC:()=>u,S6:()=>o,_S:()=>d});var i=r(581722),n=r(213491),a=r(785893);let{Provider:s,get:u,getMaybe:l}=(0,n.Z)("Pins");function o(){let e=u();return t=>e[t]}function d({children:e}){let t=(0,i.v9)(({pins:e})=>e,i.wU);return(0,a.jsx)(s,{value:t,children:e})}},157498:function(e,t,r){r.d(t,{LO:()=>c,cm:()=>d,dM:()=>l,kY:()=>_,mN:()=>o});var i=r(581722),n=r(213491),a=r(935059),s=r(785893);let{Provider:u,get:l}=(0,n.Z)("Users");function o(){let e=l();return t=>e[t]}function d(){let e=l();return(t,r=!1)=>{let i=Object.keys(e).find(r=>e[r].username===t);if(i||!r)return e[i??""]}}function c(){let e=(0,a.Z)();return l()[e.isAuth?e.id:""]}function _({children:e}){let t=(0,i.v9)(({users:e})=>e,i.wU);return(0,s.jsx)(u,{value:t,children:e})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/92044-c44c50b00b34f21c.mjs.map